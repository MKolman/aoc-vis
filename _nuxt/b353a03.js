(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{337:function(t,e,r){"use strict";var o,n,h;h=function(t){function u(t,e,r,u){t.hasOwnProperty(e)||(t[e]=u.apply(null,r))}u(t=t?t._modules:{},"Extensions/SeriesLabel.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/DefaultOptions.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,u,e,r,o,n,h){function l(b,t,a,e,r,o){return 0<(b=(o-t)*(a-b)-(e-t)*(r-b))||!(0>b)}function c(b,t,a,e,r,o,n,h){return l(b,t,r,o,n,h)!==l(a,e,r,o,n,h)&&l(b,t,a,e,r,o)!==l(b,t,a,e,n,h)}function d(b,t,a,e,r,o,n,h){return c(b,t,b+a,t,r,o,n,h)||c(b+a,t,b+a,t+e,r,o,n,h)||c(b,t+e,b+a,t+e,r,o,n,h)||c(b,t,b,t+e,r,o,n,h)}function x(b){if(this.renderer){var t=this,a=f(t.renderer.globalAnimation).duration;t.labelSeries=[],t.labelSeriesMaxSum=0,h.clearTimeout(t.seriesLabelTimer),t.series.forEach((function(e){var r=e.options.label,o=e.labelBySeries,n=o&&o.closest;r.enabled&&e.visible&&(e.graph||e.area)&&!e.isSeriesBoosting&&(t.labelSeries.push(e),r.minFontSize&&r.maxFontSize&&(e.sum=e.yData.reduce((function(a,b){return(a||0)+(b||0)}),0),t.labelSeriesMaxSum=Math.max(t.labelSeriesMaxSum,e.sum)),"load"===b.type&&(a=Math.max(a,f(e.options.animation).duration)),n&&(void 0!==n[0].plotX?o.animate({x:n[0].plotX+n[1],y:n[0].plotY+n[2]}):o.attr({opacity:0})))})),t.seriesLabelTimer=X((function(){t.series&&t.labelSeries&&t.drawSeriesLabels()}),t.renderer.forExport||!a?0:a)}}var f=t.animObject,m=e.format;t=r.setOptions,n=n.prototype.symbols,e=h.addEvent;var y=h.extend,w=h.fireEvent,Y=h.isNumber,v=h.pick,X=h.syncTimeout;t({plotOptions:{series:{label:{enabled:!0,connectorAllowed:!1,connectorNeighbourDistance:24,format:void 0,formatter:void 0,minFontSize:null,maxFontSize:null,onArea:null,style:{fontWeight:"bold"},boxesToAvoid:[]}}}}),n.connector=function(b,t,a,e,r){var o=r&&r.anchorX;r=r&&r.anchorY;var n=a/2;if(Y(o)&&Y(r)){var h=[["M",o,r]],l=t-r;0>l&&(l=-e-l),l<a&&(n=o<b+a/2?l:a-l),r>t+e?h.push(["L",b+n,t+e]):r<t?h.push(["L",b+n,t]):o<b?h.push(["L",b,t+e/2]):o>b+a&&h.push(["L",b+a,t+e/2])}return h||[]},o.prototype.getPointsOnGraph=function(){function b(b){var t=Math.round(b.plotX/8)+","+Math.round(b.plotY/8);p[t]||(p[t]=1,a.push(b))}if(this.xAxis||this.yAxis){var t=this.points,a=[],e=this.graph||this.area,r=e.element,o=this.chart.inverted,n=this.xAxis,h=this.yAxis,l=o?h.pos:n.pos;o=o?n.pos:h.pos,n=v(this.options.label.onArea,!!this.area),h=h.getThreshold(this.options.threshold);var c,p={};if(this.getPointSpline&&r.getPointAtLength&&!n&&t.length<this.chart.plotSizeX/16){if(e.toD){var g=e.attr("d");e.attr({d:e.toD})}var d=r.getTotalLength();for(c=0;c<d;c+=16){var x=r.getPointAtLength(c);b({chartX:l+x.x,chartY:o+x.y,plotX:x.x,plotY:x.y})}g&&e.attr({d:g}),(x=t[t.length-1]).chartX=l+x.plotX,x.chartY=o+x.plotY,b(x)}else for(d=t.length,c=0;c<d;c+=1){if(x=t[c],e=t[c-1],x.chartX=l+x.plotX,x.chartY=o+x.plotY,n&&(x.chartCenterY=o+(x.plotY+v(x.yBottom,h))/2),0<c&&(r=Math.abs(x.chartX-e.chartX),g=Math.abs(x.chartY-e.chartY),16<(r=Math.max(r,g))))for(r=Math.ceil(r/16),g=1;g<r;g+=1)b({chartX:e.chartX+g/r*(x.chartX-e.chartX),chartY:e.chartY+g/r*(x.chartY-e.chartY),chartCenterY:e.chartCenterY+g/r*(x.chartCenterY-e.chartCenterY),plotX:e.plotX+g/r*(x.plotX-e.plotX),plotY:e.plotY+g/r*(x.plotY-e.plotY)});Y(x.plotY)&&b(x)}return a}},o.prototype.labelFontSize=function(b,t){return b+this.sum/this.chart.labelSeriesMaxSum*(t-b)+"px"},o.prototype.checkClearPoint=function(b,t,a,e){var p,r,o=this.chart,n=v(this.options.label.onArea,!!this.area),h=n||this.options.label.connectorAllowed,l=Number.MAX_VALUE,c=Number.MAX_VALUE;for(r=0;r<o.boxesToAvoid.length;r+=1){var g=o.boxesToAvoid[r],x=b+a.width,f=t,m=t+a.height;if(!(b>g.right||x<g.left||f>g.bottom||m<g.top))return!1}for(r=0;r<o.series.length;r+=1)if(g=(f=o.series[r]).interpolatedPoints,f.visible&&g){for(x=1;x<g.length;x+=1){if(g[x].chartX>=b-16&&g[x-1].chartX<=b+a.width+16){if(d(b,t,a.width,a.height,g[x-1].chartX,g[x-1].chartY,g[x].chartX,g[x].chartY))return!1;this===f&&!p&&e&&(p=d(b-16,t-16,a.width+32,a.height+32,g[x-1].chartX,g[x-1].chartY,g[x].chartX,g[x].chartY))}if((h||p)&&(this!==f||n)){m=b+a.width/2-g[x].chartX;var u=t+a.height/2-g[x].chartY;l=Math.min(l,m*m+u*u)}}if(!n&&h&&this===f&&(e&&!p||l<Math.pow(this.options.label.connectorNeighbourDistance,2))){for(x=1;x<g.length;x+=1)if((p=Math.min(Math.pow(b+a.width/2-g[x].chartX,2)+Math.pow(t+a.height/2-g[x].chartY,2),Math.pow(b-g[x].chartX,2)+Math.pow(t-g[x].chartY,2),Math.pow(b+a.width-g[x].chartX,2)+Math.pow(t-g[x].chartY,2),Math.pow(b+a.width-g[x].chartX,2)+Math.pow(t+a.height-g[x].chartY,2),Math.pow(b-g[x].chartX,2)+Math.pow(t+a.height-g[x].chartY,2)))<c){c=p;var y=g[x]}p=!0}}return!(e&&!p)&&{x:b,y:t,weight:l-(y?c:0),connectorPoint:y}},u.prototype.drawSeriesLabels=function(){var b=this,t=this.labelSeries;b.boxesToAvoid=[],t.forEach((function(a){a.interpolatedPoints=a.getPointsOnGraph(),(a.options.label.boxesToAvoid||[]).forEach((function(a){b.boxesToAvoid.push(a)}))})),b.series.forEach((function(a){function t(a,b,t){var e=Math.max(u,v(X,-1/0)),r=Math.min(u+l,v(M,1/0));return a>e&&a<=r-t.width&&b>=g&&b<=g+c-t.height}var e=a.options.label;if(e&&(a.xAxis||a.yAxis)){var q,r="highcharts-color-"+v(a.colorIndex,"none"),o=!a.labelBySeries,n=e.minFontSize,h=e.maxFontSize,p=b.inverted,u=p?a.yAxis.pos:a.xAxis.pos,g=p?a.xAxis.pos:a.yAxis.pos,l=b.inverted?a.yAxis.len:a.xAxis.len,c=b.inverted?a.xAxis.len:a.yAxis.len,d=a.interpolatedPoints,x=v(e.onArea,!!a.area),w=[],Y=a.labelBySeries;if(x&&!p){p=[a.xAxis.toPixels(a.xData[0]),a.xAxis.toPixels(a.xData[a.xData.length-1])];var X=Math.min.apply(Math,p),M=Math.max.apply(Math,p)}if(a.visible&&!a.isSeriesBoosting&&d){for(Y||(Y=a.name,"string"==typeof e.format?Y=m(e.format,a,b):e.formatter&&(Y=e.formatter.call(a)),a.labelBySeries=Y=b.renderer.label(Y,0,-9999,"connector").addClass("highcharts-series-label highcharts-series-label-"+a.index+" "+(a.options.className||"")+" "+r),b.renderer.styledMode||(Y.css(y({color:x?b.renderer.getContrast(a.color):a.color},e.style||{})),Y.attr({opacity:b.renderer.forExport?1:0,stroke:a.color,"stroke-width":1})),n&&h&&Y.css({fontSize:a.labelFontSize(n,h)}),Y.attr({padding:0,zIndex:3}).add()),(r=Y.getBBox()).width=Math.round(r.width),p=d.length-1;0<p;--p)x?t(n=d[p].chartX-r.width/2,h=d[p].chartCenterY-r.height/2,r)&&(q=a.checkClearPoint(n,h,r)):(t(n=d[p].chartX+3,h=d[p].chartY-r.height-3,r)&&(q=a.checkClearPoint(n,h,r,!0)),q&&w.push(q),t(n=d[p].chartX+3,h=d[p].chartY+3,r)&&(q=a.checkClearPoint(n,h,r,!0)),q&&w.push(q),t(n=d[p].chartX-r.width-3,h=d[p].chartY+3,r)&&(q=a.checkClearPoint(n,h,r,!0)),q&&w.push(q),t(n=d[p].chartX-r.width-3,h=d[p].chartY-r.height-3,r)&&(q=a.checkClearPoint(n,h,r,!0))),q&&w.push(q);if(e.connectorAllowed&&!w.length&&!x)for(n=u+l-r.width;n>=u;n-=16)for(h=g;h<g+c-r.height;h+=16)(q=a.checkClearPoint(n,h,r,!0))&&w.push(q);w.length?(w.sort((function(a,b){return b.weight-a.weight})),q=w[0],b.boxesToAvoid.push({left:q.x,right:q.x+r.width,top:q.y,bottom:q.y+r.height}),(d=Math.sqrt(Math.pow(Math.abs(q.x-(Y.x||0)),2)+Math.pow(Math.abs(q.y-(Y.y||0)),2)))&&a.labelBySeries&&(w={opacity:b.renderer.forExport?1:0,x:q.x,y:q.y},e={opacity:1},10>=d&&(e={x:w.x,y:w.y},w={}),d=void 0,o&&((d=f(a.options.animation)).duration*=.2),a.labelBySeries.attr(y(w,{anchorX:q.connectorPoint&&q.connectorPoint.plotX+u,anchorY:q.connectorPoint&&q.connectorPoint.plotY+g})).animate(e,d),a.options.kdNow=!0,a.buildKDTree(),a=a.searchPoint({chartX:q.x,chartY:q.y},!0))&&(Y.closest=[a,q.x-(a.plotX||0),q.y-(a.plotY||0)])):Y&&(a.labelBySeries=Y.destroy())}else Y&&(a.labelBySeries=Y.destroy())}})),w(b,"afterDrawSeriesLabels")},e(u,"load",x),e(u,"redraw",x)})),u(t,"masters/modules/series-label.src.js",[],(function(){}))},t.exports?(h.default=h,t.exports=h):(o=[r(131)],void 0===(n=function(u){return h(u),h.Highcharts=u,h}.apply(e,o))||(t.exports=n))}}]);