(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{366:function(t,e,r){"use strict";var n,o,a;a=function(a){function t(a,t,e,r){a.hasOwnProperty(t)||(a[t]=r.apply(null,e))}t(a=a?a._modules:{},"Core/Geometry/GeometryUtilities.js",[],(function(){var a;return function(a){a.getCenterOfPoints=function(a){var t=a.reduce((function(a,t){return a.x+=t.x,a.y+=t.y,a}),{x:0,y:0});return{x:t.x/a.length,y:t.y/a.length}},a.getDistanceBetweenPoints=function(a,g){return Math.sqrt(Math.pow(g.x-a.x,2)+Math.pow(g.y-a.y,2))},a.getAngleBetweenPoints=function(a,g){return Math.atan2(g.x-a.x,g.y-a.y)}}(a||(a={})),a})),t(a,"Core/Geometry/CircleUtilities.js",[a["Core/Geometry/GeometryUtilities.js"]],(function(a){var q,g=a.getAngleBetweenPoints,t=a.getCenterOfPoints,e=a.getDistanceBetweenPoints;return function(a){function r(a,t){return t=Math.pow(10,t),Math.round(a*t)/t}function n(a){if(0>=a)throw Error("radius of circle must be a positive number.");return Math.PI*a*a}function o(a,t){return a*a*Math.acos(1-t/a)-(a-t)*Math.sqrt(t*(2*a-t))}function c(a,t){var n=e(a,t),o=a.r,c=t.r,l=[];if(n<o+c&&n>Math.abs(o-c)){var u=((o*=o)-c*c+n*n)/(2*n);c=Math.sqrt(o-u*u),o=a.x,l=t.x,a=a.y;var g=t.y;t=o+u*(l-o)/n,u=a+u*(g-a)/n,a=c/n*-(g-a),n=c/n*-(l-o),l=[{x:r(t+a,14),y:r(u-n,14)},{x:r(t-a,14),y:r(u+n,14)}]}return l}function l(a){return a.reduce((function(a,t,e,r){return r=r.slice(e+1).reduce((function(a,r,n,o){var g=[e,n+e+1];return a.concat(c(t,r).map((function(a){return a.indexes=g,a})))}),[]),a.concat(r)}),[])}function q(a,t){return e(a,t)<=t.r+1e-10}function f(a,t){return!t.some((function(t){return!q(a,t)}))}function h(a){return l(a).filter((function(t){return f(t,a)}))}a.round=r,a.getAreaOfCircle=n,a.getCircularSegmentArea=o,a.getOverlapBetweenCircles=function(a,t,e){var g=0;return e<a+t&&(e<=Math.abs(t-a)?g=n(a<t?a:t):(e-=g=(a*a-t*t+e*e)/(2*e),g=o(a,a-g)+o(t,t-e)),g=r(g,14)),g},a.getCircleCircleIntersection=c,a.getCirclesIntersectionPoints=l,a.isCircle1CompletelyOverlappingCircle2=function(a,t){return e(a,t)+t.r<a.r+1e-10},a.isPointInsideCircle=q,a.isPointInsideAllCircles=f,a.isPointOutsideAllCircles=function(a,t){return!t.some((function(t){return q(a,t)}))},a.getCirclesIntersectionPolygon=h,a.getAreaOfIntersectionBetweenCircles=function(a){var r=h(a);if(1<r.length){var n=t(r);r=r.map((function(a){return a.angle=g(n,a),a})).sort((function(a,t){return t.angle-a.angle}));var o=r[r.length-1];if(r=r.reduce((function(r,n){var o=r.startPoint,c=t([o,n]),l=n.indexes.filter((function(b){return-1<o.indexes.indexOf(b)})).reduce((function(b,t){t=a[t];var r=g(t,n),l=g(t,o);return r=l-(l-r+(l<r?2*Math.PI:0))/2,(r=e(c,{x:t.x+t.r*Math.sin(r),y:t.y+t.r*Math.cos(r)}))>2*(t=t.r)&&(r=2*t),(!b||b.width>r)&&(b={r:t,largeArc:r>t?1:0,width:r,x:n.x,y:n.y}),b}),null);if(l){var p=l.r;r.arcs.push(["A",p,p,0,l.largeArc,1,l.x,l.y]),r.startPoint=n}return r}),{startPoint:o,arcs:[]}).arcs,0!==r.length&&1!==r.length){r.unshift(["M",o.x,o.y]);var c={center:n,d:r}}}return c}}(q||(q={})),q})),t(a,"Series/DrawPointComposition.js",[],(function(){var a;return function(a){function g(a){var t=this,e=a.animatableAttribs,g=a.onComplete,r=a.css,q=a.renderer,n=this.series&&this.series.chart.hasRendered?void 0:this.series&&this.series.options.animation,o=this.graphic;if(a.attribs=a.attribs||{},a.attribs.class=this.getClassName(),this.shouldDraw())o||(this.graphic=o=q[a.shapeType](a.shapeArgs).add(a.group)),o.css(r).attr(a.attribs).animate(e,!a.isNew&&n,g);else if(o){var c=function(){t.graphic=o=o&&o.destroy(),"function"==typeof g&&g()};Object.keys(e).length?o.animate(e,void 0,(function(){c()})):c()}}function t(){return!this.isNull}var q=[];a.compose=function(a){if(-1===q.indexOf(a)){q.push(a);var e=a.prototype;e.draw=g,e.shouldDraw||(e.shouldDraw=t)}return a}}(a||(a={})),a})),t(a,"Series/Venn/VennPoint.js",[a["Series/DrawPointComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t,e){var g=this&&this.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])},a(t,e)};return function(t,e){function g(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(g.prototype=e.prototype,new g)}}(),q=e.isNumber;return t=function(a){function t(){var t=null!==a&&a.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return g(t,a),t.prototype.isValid=function(){return q(this.value)},t.prototype.shouldDraw=function(){return!!this.shapeArgs},t}(t.seriesTypes.scatter.prototype.pointClass),a.compose(t),t})),t(a,"Series/Venn/VennUtils.js",[a["Core/Geometry/CircleUtilities.js"],a["Core/Geometry/GeometryUtilities.js"],a["Core/Utilities.js"]],(function(a,t,e){function g(a){var b=a.filter((function(a){return 2===a.sets.length})).reduce((function(a,b){return b.sets.forEach((function(t,e,p){w(a[t])||(a[t]={overlapping:{},totalOverlap:0}),a[t].totalOverlap+=b.value,a[t].overlapping[p[1-e]]=b.value})),a}),{});return a.filter(o).forEach((function(a){O(a,b[a.sets[0]])})),a}function q(a,b,t,e,r){var p=a(b),n=a(t);r=r||100,e=e||1e-10;var o=t-b,c=1;if(b>=t)throw Error("a must be smaller than b.");if(0<p*n)throw Error("f(a) and f(b) must have opposite signs.");if(0===p)var g=b;else if(0===n)g=t;else for(;c++<=r&&0!==l&&o>e;){var l=a(g=b+(o=(t-b)/2));0<p*l?b=g:t=g}return g}function r(a){for(var b=(a=a.slice(0,-1)).length,t=[],e=function(a,b){return a.sum+=b[a.i],a},r=0;r<b;r++)t[r]=a.reduce(e,{sum:0,i:r}).sum/b;return t}function n(a,b,t){var e=a+b;return 0>=t?e:h(a<b?a:b)<=t?0:q((function(e){return e=y(a,b,e),t-e}),0,e)}function o(a){return u(a.sets)&&1===a.sets.length}function c(a){var b={};return w(a)&&A(a.value)&&-1<a.value&&u(a.sets)&&0<a.sets.length&&!a.sets.some((function(a){var t=!1;return!b[a]&&P(a)?b[a]=!0:t=!0,t}))}function l(a,b){return b.reduce((function(b,t){var e=0;return 1<t.sets.length&&(e=t.value,t=function(a){var b=0;return 2===a.length&&(b=a[0],a=a[1],b=y(b.r,a.r,C(b,a))),b}(t.sets.map((function(b){return a[b]}))),t=e-t,e=Math.round(t*t*1e11)/1e11),b+e}),0)}function f(a,b){return b.totalOverlap-a.totalOverlap}var h=a.getAreaOfCircle,d=a.getCircleCircleIntersection,y=a.getOverlapBetweenCircles,v=a.isPointInsideAllCircles,x=a.isPointInsideCircle,m=a.isPointOutsideAllCircles,C=t.getDistanceBetweenPoints,O=e.extend,u=e.isArray,A=e.isNumber,w=e.isObject,P=e.isString;return{geometry:t,geometryCircles:a,addOverlapToSets:g,getCentroid:r,getDistanceBetweenCirclesByOverlap:n,getLabelWidth:function(a,b,t){var e=b.reduce((function(a,b){return Math.min(b.r,a)}),1/0),r=t.filter((function(b){return!x(a,b)}));return t=function(t,e){return q((function(n){var o={x:a.x+e*n,y:a.y};return o=v(o,b)&&m(o,r),-(t-n)+(o?0:Number.MAX_VALUE)}),0,t)},2*Math.min(t(e,-1),t(e,1))},getMarginFromCircles:function(a,b,t){return b=b.reduce((function(b,t){return(t=t.r-C(a,t))<=b?t:b}),Number.MAX_VALUE),t.reduce((function(b,t){return(t=C(a,t)-t.r)<=b?t:b}),b)},isSet:o,layoutGreedyVenn:function(a){var b=[],t={};a.filter((function(a){return 1===a.sets.length})).forEach((function(a){t[a.sets[0]]=a.circle={x:Number.MAX_VALUE,y:Number.MAX_VALUE,r:Math.sqrt(a.value/Math.PI)}}));var e=function(a,t){var e=a.circle;e.x=t.x,e.y=t.y,b.push(a)};g(a);var r=a.filter(o).sort(f);e(r.shift(),{x:0,y:0});var c=a.filter((function(a){return 2===a.sets.length}));return r.forEach((function(a){var r=a.circle,o=r.r,f=a.overlapping,h=b.reduce((function(a,e,h){var g=e.circle,p=n(o,g.r,f[e.sets[0]]),y=[{x:g.x+p,y:g.y},{x:g.x-p,y:g.y},{x:g.x,y:g.y+p},{x:g.x,y:g.y-p}];return b.slice(h+1).forEach((function(a){var b=a.circle;a=n(o,b.r,f[a.sets[0]]),y=y.concat(d({x:g.x,y:g.y,r:p},{x:b.x,y:b.y,r:a}))})),y.forEach((function(b){r.x=b.x,r.y=b.y;var e=l(t,c);e<a.loss&&(a.loss=e,a.coordinates=b)})),a}),{loss:Number.MAX_VALUE,coordinates:void 0});e(a,h.coordinates)})),t},loss:l,nelderMead:function(a,b){var t=function(a,b){return a.fx-b.fx},e=function(a,b,t,e){return b.map((function(b,r){return a*b+t*e[r]}))},n=function(b,t){return t.fx=a(t),b[b.length-1]=t,b},o=function(b){var t=b[0];return b.map((function(b){return(b=e(.5,t,.5,b)).fx=a(b),b}))},c=function(b,t,r,n){return(b=e(r,b,n,t)).fx=a(b),b};b=function(b){var t=b.length,e=Array(t+1);e[0]=b,e[0].fx=a(b);for(var r=0;r<t;++r){var n=b.slice();n[r]=n[r]?1.05*n[r]:.001,n.fx=a(n),e[r+1]=n}return e}(b);for(var g=0;100>g;g++){b.sort(t);var p=b[b.length-1],l=r(b),f=c(l,p,2,-1);if(f.fx<b[0].fx)b=n(b,(p=c(l,p,3,-2)).fx<f.fx?p:f);else if(f.fx>=b[b.length-2].fx){var h=void 0;b=f.fx>p.fx?(h=c(l,p,.5,.5)).fx<p.fx?n(b,h):o(b):(h=c(l,p,1.5,-.5)).fx<f.fx?n(b,h):o(b)}else b=n(b,f)}return b[0]},processVennData:function(a){var b=(a=u(a)?a:[]).reduce((function(a,b){return c(b)&&o(b)&&0<b.value&&-1===a.indexOf(b.sets[0])&&a.push(b.sets[0]),a}),[]).sort(),t=a.reduce((function(a,t){return c(t)&&!t.sets.some((function(a){return-1===b.indexOf(a)}))&&(a[t.sets.sort().join()]=t),a}),{});return b.reduce((function(a,b,t,e){return e.slice(t+1).forEach((function(t){a.push(b+","+t)})),a}),[]).forEach((function(a){if(!t[a]){var b={sets:a.split(","),value:0};t[a]=b}})),Object.keys(t).map((function(a){return t[a]}))},sortByTotalOverlap:f}})),t(a,"Series/Venn/VennSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Core/Geometry/CircleUtilities.js"],a["Core/Geometry/GeometryUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Series/Venn/VennPoint.js"],a["Series/Venn/VennUtils.js"],a["Core/Utilities.js"]],(function(a,t,e,r,q,n,o,c){var g=this&&this.__extends||function(){var a=function(t,b){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(t,b)};return function(t,b){function e(){this.constructor=t}a(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}}(),l=a.animObject,f=t.parse,h=e.getAreaOfIntersectionBetweenCircles,d=e.getCirclesIntersectionPolygon,y=e.isCircle1CompletelyOverlappingCircle2,v=e.isPointInsideAllCircles,x=e.isPointOutsideAllCircles,m=r.getCenterOfPoints,C=q.seriesTypes.scatter;a=c.addEvent;var O=c.extend,A=c.isArray,u=c.isNumber,w=c.isObject,P=c.merge;return c=function(a){function t(){var b=null!==a&&a.apply(this,arguments)||this;return b.data=void 0,b.mapOfIdToRelation=void 0,b.options=void 0,b.points=void 0,b}return g(t,a),t.getLabelPosition=function(a,t){var b=a.reduce((function(b,e){var r=e.r/2;return[{x:e.x,y:e.y},{x:e.x+r,y:e.y},{x:e.x-r,y:e.y},{x:e.x,y:e.y+r},{x:e.x,y:e.y-r}].reduce((function(b,e){var r=o.getMarginFromCircles(e,a,t);return b.margin<r&&(b.point=e,b.margin=r),b}),b)}),{point:void 0,margin:-Number.MAX_VALUE}).point;return b={x:(b=o.nelderMead((function(b){return-o.getMarginFromCircles({x:b[0],y:b[1]},a,t)}),[b.x,b.y]))[0],y:b[1]},v(b,a)&&x(b,t)||(b=1<a.length?m(d(a)):{x:a[0].x,y:a[0].y}),b},t.getLabelValues=function(a,e){var b=a.sets,r=e.reduce((function(a,t){return a[-1<b.indexOf(t.sets[0])?"internal":"external"].push(t.circle),a}),{internal:[],external:[]});return r.external=r.external.filter((function(a){return r.internal.some((function(b){return!y(a,b)}))})),{position:a=t.getLabelPosition(r.internal,r.external),width:e=o.getLabelWidth(a,r.internal,r.external)}},t.layout=function(a){var b={},e={};if(0<a.length){var r=o.layoutGreedyVenn(a),n=a.filter(o.isSet);a.forEach((function(a){var c=a.sets,g=c.join();(c=o.isSet(a)?r[g]:h(c.map((function(a){return r[a]}))))&&(b[g]=c,e[g]=t.getLabelValues(a,n))}))}return{mapOfIdToShape:b,mapOfIdToLabelValues:e}},t.getScale=function(a,t,e){var b=e.bottom-e.top,r=e.right-e.left;return{scale:b=Math.min(0<r?1/r*a:1,0<b?1/b*t:1),centerX:a/2-(e.right+e.left)/2*b,centerY:t/2-(e.top+e.bottom)/2*b}},t.updateFieldBoundaries=function(a,t){var b=t.x-t.r,e=t.x+t.r,r=t.y+t.r;return t=t.y-t.r,(!u(a.left)||a.left>b)&&(a.left=b),(!u(a.right)||a.right<e)&&(a.right=e),(!u(a.top)||a.top>t)&&(a.top=t),(!u(a.bottom)||a.bottom<r)&&(a.bottom=r),a},t.prototype.animate=function(a){if(!a){var b=l(this.options.animation);this.points.forEach((function(a){var t=a.shapeArgs;if(a.graphic&&t){var e={},r={};t.d?e.opacity=.001:(e.r=0,r.r=t.r),a.graphic.attr(e).animate(r,b),t.d&&setTimeout((function(){a&&a.graphic&&a.graphic.animate({opacity:1})}),b.duration)}}),this)}},t.prototype.drawPoints=function(){var a=this,t=a.chart,e=a.group,r=t.renderer;(a.points||[]).forEach((function(b){var n={zIndex:A(b.sets)?b.sets.length:0},o=b.shapeArgs;t.styledMode||O(n,a.pointAttribs(b,b.state)),b.draw({isNew:!b.graphic,animatableAttribs:o,attribs:n,group:e,renderer:r,shapeType:o&&o.d?"path":"circle"})}))},t.prototype.init=function(){C.prototype.init.apply(this,arguments),delete this.opacity},t.prototype.pointAttribs=function(a,t){var b=this.options||{};return a=P(b,{color:a&&a.color},a&&a.options||{},t&&b.states[t]||{}),{fill:f(a.color).brighten(a.brightness).get(),opacity:a.opacity,stroke:a.borderColor,"stroke-width":a.borderWidth,dashstyle:a.borderDashStyle}},t.prototype.translate=function(){var a=this.chart;this.processedXData=this.xData,this.generatePoints();var e=o.processVennData(this.options.data),r=(e=t.layout(e)).mapOfIdToShape,n=e.mapOfIdToLabelValues;e=Object.keys(r).filter((function(a){return(a=r[a])&&u(a.r)})).reduce((function(a,b){return t.updateFieldBoundaries(a,r[b])}),{top:0,bottom:0,left:0,right:0});var g=(a=t.getScale(a.plotWidth,a.plotHeight,e)).scale,c=a.centerX,l=a.centerY;this.points.forEach((function(a){var b=A(a.sets)?a.sets:[],t=b.join(),e=r[t],o=n[t]||{};t=o.width,o=o.position;var f=a.options&&a.options.dataLabels;if(e){if(e.r)var h={x:c+e.x*g,y:l+e.y*g,r:e.r*g};else e.d&&((e=e.d).forEach((function(a){"M"===a[0]?(a[1]=c+a[1]*g,a[2]=l+a[2]*g):"A"===a[0]&&(a[1]*=g,a[2]*=g,a[6]=c+a[6]*g,a[7]=l+a[7]*g)})),h={d:e});o?(o.x=c+o.x*g,o.y=l+o.y*g):o={},u(t)&&(t=Math.round(t*g))}a.shapeArgs=h,o&&h&&(a.plotX=o.x,a.plotY=o.y),t&&h&&(a.dlOptions=P(!0,{style:{width:t}},w(f,!0)?f:void 0)),a.name=a.options.name||b.join("∩")}))},t.defaultOptions=P(C.defaultOptions,{borderColor:"#cccccc",borderDashStyle:"solid",borderWidth:1,brighten:0,clip:!1,colorByPoint:!0,dataLabels:{enabled:!0,verticalAlign:"middle",formatter:function(){return this.point.name}},inactiveOtherPoints:!0,marker:!1,opacity:.75,showInLegend:!1,states:{hover:{opacity:1,borderColor:"#333333"},select:{color:"#cccccc",borderColor:"#000000",animation:!1},inactive:{opacity:.075}},tooltip:{pointFormat:"{point.name}: {point.value}"}}),t}(C),O(c.prototype,{axisTypes:[],directTouch:!0,isCartesian:!1,pointArrayMap:["value"],pointClass:n,utils:o}),q.registerSeriesType("venn",c),a(c,"afterSetOptions",(function(a){var t=a.options.states;this.is("venn")&&Object.keys(t).forEach((function(a){t[a].halo=!1}))})),c})),t(a,"masters/modules/venn.src.js",[],(function(){}))},t.exports?(a.default=a,t.exports=a):(n=[r(131)],void 0===(o=function(t){return a(t),a.Highcharts=t,a}.apply(e,n))||(t.exports=o))}}]);