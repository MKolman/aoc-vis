/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{247:function(t,n,o){"use strict";var e,r,h;h=function(t){var n=t?t._modules:{};function o(t,path,n,o){t.hasOwnProperty(path)||(t[path]=o.apply(null,n))}o(n,"Extensions/Annotations/Mixins/EventEmitterMixin.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,n){var o=n.addEvent,e=n.fireEvent,r=n.objectEach,h=n.pick,l=n.removeEvent;return{addEvents:function(){var n=this,h=function(element){o(element,t.isTouchDevice?"touchstart":"mousedown",(function(t){n.onMouseDown(t)}),{passive:!1})};if(h(this.graphic.element),(n.labels||[]).forEach((function(label){label.options.useHTML&&label.graphic.text&&h(label.graphic.text.element)})),r(n.options.events,(function(t,e){var r=function(o){"click"===e&&n.cancelClick||t.call(n,n.chart.pointer.normalize(o),n.target)};-1===(n.nonDOMEvents||[]).indexOf(e)?n.graphic.on(e,r):o(n,e,r,{passive:!1})})),n.options.draggable&&(o(n,"drag",n.onDrag),!n.graphic.renderer.styledMode)){var l={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[n.options.draggable]};n.graphic.css(l),(n.labels||[]).forEach((function(label){label.options.useHTML&&label.graphic.text&&label.graphic.text.css(l)}))}n.isUpdating||e(n,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(n){var r,l,c=this,d=c.chart.pointer;n.preventDefault&&n.preventDefault(),2!==n.button&&(n=d.normalize(n),r=n.chartX,l=n.chartY,c.cancelClick=!1,c.chart.hasDraggedAnnotation=!0,c.removeDrag=o(t.doc,t.isTouchDevice?"touchmove":"mousemove",(function(t){c.hasDragged=!0,(t=d.normalize(t)).prevChartX=r,t.prevChartY=l,e(c,"drag",t),r=t.chartX,l=t.chartY}),t.isTouchDevice?{passive:!1}:void 0),c.removeMouseUp=o(t.doc,t.isTouchDevice?"touchend":"mouseup",(function(t){var n=h(c.target&&c.target.annotation,c.target);n&&(n.cancelClick=c.hasDragged),c.cancelClick=c.hasDragged,c.hasDragged=!1,c.chart.hasDraggedAnnotation=!1,e(h(n,c),"afterUpdate"),c.onMouseUp(t)}),t.isTouchDevice?{passive:!1}:void 0))},onMouseUp:function(t){var n=this.chart,o=this.target||this,e=n.options.annotations,r=n.annotations.indexOf(o);this.removeDocEvents(),e[r]=o.options},onDrag:function(t){if(this.chart.isInsidePlot(t.chartX-this.chart.plotLeft,t.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){var n=this.mouseMoveToTranslation(t);"x"===this.options.draggable&&(n.y=0),"y"===this.options.draggable&&(n.x=0),this.points.length?this.translate(n.x,n.y):(this.shapes.forEach((function(t){t.translate(n.x,n.y)})),this.labels.forEach((function(label){label.translate(n.x,n.y)}))),this.redraw(!1)}},mouseMoveToRadians:function(t,n,o){var e,r=t.prevChartY-o,h=t.prevChartX-n,l=t.chartY-o,c=t.chartX-n;return this.chart.inverted&&(e=h,h=r,r=e,e=c,c=l,l=e),Math.atan2(l,c)-Math.atan2(r,h)},mouseMoveToTranslation:function(t){var n,o=t.chartX-t.prevChartX,e=t.chartY-t.prevChartY;return this.chart.inverted&&(n=e,e=o,o=n),{x:o,y:e}},mouseMoveToScale:function(t,n,o){var e,r=t.prevChartX-n,h=t.prevChartY-o,l=(t.chartX-n||1)/(r||1),c=(t.chartY-o||1)/(h||1);return this.chart.inverted&&(e=c,c=l,l=e),{x:l,y:c}},destroy:function(){this.removeDocEvents(),l(this),this.hcEvents=null}}})),o(n,"Extensions/Annotations/ControlPoint.js",[n["Core/Utilities.js"],n["Extensions/Annotations/Mixins/EventEmitterMixin.js"]],(function(t,n){var o=t.merge,e=t.pick;return function(){function t(t,o,r,h){this.addEvents=n.addEvents,this.graphic=void 0,this.mouseMoveToRadians=n.mouseMoveToRadians,this.mouseMoveToScale=n.mouseMoveToScale,this.mouseMoveToTranslation=n.mouseMoveToTranslation,this.onDrag=n.onDrag,this.onMouseDown=n.onMouseDown,this.onMouseUp=n.onMouseUp,this.removeDocEvents=n.removeDocEvents,this.nonDOMEvents=["drag"],this.chart=t,this.target=o,this.options=r,this.index=e(r.index,h)}return t.prototype.setVisibility=function(t){this.graphic.attr("visibility",t?"visible":"hidden"),this.options.visible=t},t.prototype.render=function(){var t=this.chart,n=this.options;this.graphic=t.renderer.symbol(n.symbol,0,0,n.width,n.height).add(t.controlPointsGroup).css(n.style),this.setVisibility(n.visible),this.addEvents()},t.prototype.redraw=function(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))},t.prototype.destroy=function(){n.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.chart=null,this.target=null,this.options=null},t.prototype.update=function(t){var n=this.chart,e=this.target,r=this.index,h=o(!0,this.options,t);this.destroy(),this.constructor(n,e,h,r),this.render(n.controlPointsGroup),this.redraw()},t}()})),o(n,"Extensions/Annotations/MockPoint.js",[n["Core/Series/Series.js"],n["Core/Utilities.js"],n["Core/Axis/Axis.js"]],(function(t,n,o){var e=n.defined,r=(n.extend,n.fireEvent);return function(){function n(n,o,e){this.isInside=void 0,this.negative=void 0,this.plotX=void 0,this.plotY=void 0,this.ttBelow=void 0,this.x=void 0,this.y=void 0,this.mock=!0,this.series={visible:!0,chart:n,getPlotBox:t.prototype.getPlotBox},this.target=o||null,this.options=e,this.applyOptions(this.getOptions())}return n.fromPoint=function(t){return new n(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})},n.pointToPixels=function(t,n){var o,e=t.series,r=e.chart,h=t.plotX,l=t.plotY;return r.inverted&&(t.mock?(h=t.plotY,l=t.plotX):(h=r.plotWidth-t.plotY,l=r.plotHeight-t.plotX)),e&&!n&&(h+=(o=e.getPlotBox()).translateX,l+=o.translateY),{x:h,y:l}},n.pointToOptions=function(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}},n.prototype.hasDynamicOptions=function(){return"function"==typeof this.options},n.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},n.prototype.applyOptions=function(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()},n.prototype.setAxis=function(t,n){var r=n+"Axis",h=t[r],l=this.series.chart;this.series[r]=h instanceof o?h:e(h)?l[r][h]||l.get(h):null},n.prototype.toAnchor=function(){var t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t},n.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},n.prototype.isInsidePlot=function(){var t=this.plotX,n=this.plotY,o=this.series.xAxis,h=this.series.yAxis,l={x:t,y:n,isInsidePlot:!0};return o&&(l.isInsidePlot=e(t)&&t>=0&&t<=o.len),h&&(l.isInsidePlot=l.isInsidePlot&&e(n)&&n>=0&&n<=h.len),r(this.series.chart,"afterIsInsidePlot",l),l.isInsidePlot},n.prototype.refresh=function(){var t=this.series,n=t.xAxis,o=t.yAxis,e=this.getOptions();n?(this.x=e.x,this.plotX=n.toPixels(e.x,!0)):(this.x=null,this.plotX=e.x),o?(this.y=e.y,this.plotY=o.toPixels(e.y,!0)):(this.y=null,this.plotY=e.y),this.isInside=this.isInsidePlot()},n.prototype.translate=function(t,n,o,e){this.hasDynamicOptions()||(this.plotX+=o,this.plotY+=e,this.refreshOptions())},n.prototype.scale=function(t,n,o,e){if(!this.hasDynamicOptions()){var r=this.plotX*o,h=this.plotY*e,l=(1-o)*t,c=(1-e)*n;this.plotX=l+r,this.plotY=c+h,this.refreshOptions()}},n.prototype.rotate=function(t,n,o){if(!this.hasDynamicOptions()){var e,r,h=Math.cos(o),l=Math.sin(o),c=this.plotX,d=this.plotY;e=(c-=t)*h-(d-=n)*l,r=c*l+d*h,this.plotX=e+t,this.plotY=r+n,this.refreshOptions()}},n.prototype.refreshOptions=function(){var t=this.series,n=t.xAxis,o=t.yAxis;this.x=this.options.x=n?this.options.x=n.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=o?o.toValue(this.plotY,!0):this.plotY},n}()})),o(n,"Extensions/Annotations/Mixins/ControllableMixin.js",[n["Extensions/Annotations/ControlPoint.js"],n["Extensions/Annotations/MockPoint.js"],n["Core/Tooltip.js"],n["Core/Utilities.js"]],(function(t,n,o,e){var r=e.isObject,h=e.isString,l=e.merge,c=e.splat,d={init:function(t,n,o){this.annotation=t,this.chart=t.chart,this.options=n,this.points=[],this.controlPoints=[],this.index=o,this.linkPoints(),this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var t=this.options;return t.points||t.point&&c(t.point)},attrsFromOptions:function(t){var n,o,map=this.constructor.attrsMap,e={},r=this.chart.styledMode;for(n in t)!(o=map[n])||r&&-1!==["fill","stroke","stroke-width"].indexOf(o)||(e[o]=t[n]);return e},anchor:function(t){var n=t.series.getPlotBox(),e=t.series.chart,r=t.mock?t.toAnchor():o.prototype.getAnchor.call({chart:t.series.chart},t),h={x:r[0]+(this.options.x||0),y:r[1]+(this.options.y||0),height:r[2]||0,width:r[3]||0};return{relativePosition:h,absolutePosition:l(h,{x:h.x+(t.mock?n.translateX:e.plotLeft),y:h.y+(t.mock?n.translateY:e.plotTop)})}},point:function(t,o){if(t&&t.series)return t;if(!o||null===o.series)if(r(t))o=new n(this.chart,this,t);else if(h(t))o=this.chart.get(t)||null;else if("function"==typeof t){var e=t.call(o,this);o=e.series?e:new n(this.chart,this,t)}return o},linkPoints:function(){var i,t,n=this.getPointsOptions(),o=this.points,e=n&&n.length||0;for(i=0;i<e;i++){if(!(t=this.point(n[i],o[i])))return void(o.length=0);t.mock&&t.refresh(),o[i]=t}return o},addControlPoints:function(){var n=this.options.controlPoints;(n||[]).forEach((function(o,i){var e=l(this.options.controlPointOptions,o);e.index||(e.index=i),n[i]=e,this.controlPoints.push(new t(this.chart,this,e))}),this)},shouldBeDrawn:function(){return Boolean(this.points.length)},render:function(t){this.controlPoints.forEach((function(t){t.render()}))},redraw:function(t){this.controlPoints.forEach((function(n){n.redraw(t)}))},transform:function(t,n,o,e,r){if(this.chart.inverted){var h=n;n=o,o=h}this.points.forEach((function(h,i){this.transformPoint(t,n,o,e,r,i)}),this)},transformPoint:function(t,o,e,r,h,i){var l=this.points[i];l.mock||(l=this.points[i]=n.fromPoint(l)),l[t](o,e,r,h)},translate:function(t,n){this.transform("translate",null,null,t,n)},translatePoint:function(t,n,i){this.transformPoint("translate",null,null,t,n,i)},translateShape:function(t,n,o){var e=this.annotation.chart,r=this.annotation.userOptions,h=e.annotations.indexOf(this.annotation),l=e.options.annotations[h];this.translatePoint(t,n,0),o&&this.translatePoint(t,n,1),l[this.collection][this.index].point=this.options.point,r[this.collection][this.index].point=this.options.point},rotate:function(t,n,o){this.transform("rotate",t,n,o)},scale:function(t,n,o,e){this.transform("scale",t,n,o,e)},setControlPointsVisibility:function(t){this.controlPoints.forEach((function(n){n.setVisibility(t)}))},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach((function(t){t.destroy()})),this.chart=null,this.points=null,this.controlPoints=null,this.options=null,this.annotation&&(this.annotation=null)},update:function(t){var n=this.annotation,o=l(!0,this.options,t),e=this.graphic.parentGroup;this.destroy(),this.constructor(n,o,this.index),this.render(e),this.redraw()}};return d})),o(n,"Extensions/Annotations/Mixins/MarkerMixin.js",[n["Core/Chart/Chart.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Utilities.js"]],(function(t,n,o){var e=o.addEvent,r=o.defined,h=o.merge,l=o.uniqueKey,c={arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}};function d(t){return function(n){this.attr(t,"url(#"+n+")")}}n.prototype.addMarker=function(t,n){var o={attributes:{id:t}},e={stroke:n.color||"none",fill:n.color||"rgba(0, 0, 0, 0.75)"};o.children=n.children&&n.children.map((function(t){return h(e,t)}));var r=h(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},n,o),marker=this.definition(r);return marker.id=t,marker};var f={markerEndSetter:d("marker-end"),markerStartSetter:d("marker-start"),setItemMarkers:function(t){var n=t.options,o=t.chart,defs=o.options.defs,e=n.fill,c=r(e)&&"none"!==e?e:n.stroke;["markerStart","markerEnd"].forEach((function(e){var r,d,f,marker,y=n[e];if(y){for(f in defs)if((y===((r=defs[f]).attributes&&r.attributes.id)||y===r.id)&&"marker"===r.tagName){d=r;break}d&&(marker=t[e]=o.renderer.addMarker((n.id||l())+"-"+y,h(d,{color:c})),t.attr(e,marker.getAttribute("id")))}}))}};return e(t,"afterGetContainer",(function(){this.options.defs=h(c,this.options.defs||{})})),f})),o(n,"Extensions/Annotations/Controllables/ControllablePath.js",[n["Extensions/Annotations/Mixins/ControllableMixin.js"],n["Core/Globals.js"],n["Extensions/Annotations/Mixins/MarkerMixin.js"],n["Core/Utilities.js"]],(function(t,n,o,e){var r=e.extend,h="rgba(192,192,192,"+(n.svg?1e-4:.002)+")";return function(){function n(n,e,r){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.setMarkers=o.setItemMarkers,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translate=t.translate,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="path",this.init(n,e,r),this.collection="shapes"}return n.prototype.toD=function(){var t=this.options.d;if(t)return"function"==typeof t?t.call(this):t;var n,o=this.points,e=o.length,r=e,h=o[0],l=r&&this.anchor(h).absolutePosition,c=0,d=[];if(l)for(d.push(["M",l.x,l.y]);++c<e&&r;)n=(h=o[c]).command||"L",l=this.anchor(h).absolutePosition,"M"===n||"L"===n?d.push([n,l.x,l.y]):"Z"===n&&d.push([n]),r=h.series.visible;return r?this.chart.renderer.crispLine(d,this.graphic.strokeWidth()):null},n.prototype.shouldBeDrawn=function(){return t.shouldBeDrawn.call(this)||Boolean(this.options.d)},n.prototype.render=function(n){var e=this.options,l=this.attrsFromOptions(e);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(l).add(n),e.className&&this.graphic.addClass(e.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(n),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:h,fill:h,"stroke-width":this.graphic.strokeWidth()+2*e.snap}),t.render.call(this),r(this.graphic,{markerStartSetter:o.markerStartSetter,markerEndSetter:o.markerEndSetter}),this.setMarkers(this)},n.prototype.redraw=function(n){var o=this.toD(),e=n?"animate":"attr";o?(this.graphic[e]({d:o}),this.tracker[e]({d:o})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=Boolean(o),t.redraw.call(this,n)},n.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},n}()})),o(n,"Extensions/Annotations/Controllables/ControllableRect.js",[n["Extensions/Annotations/Mixins/ControllableMixin.js"],n["Extensions/Annotations/Controllables/ControllablePath.js"],n["Core/Utilities.js"]],(function(t,n,o){var e=o.merge;return function(){function o(n,o,e){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="rect",this.translate=t.translateShape,this.init(n,o,e),this.collection="shapes"}return o.prototype.render=function(n){var o=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(o).add(n),t.render.call(this)},o.prototype.redraw=function(n){var o=this.anchor(this.points[0]).absolutePosition;o?this.graphic[n?"animate":"attr"]({x:o.x,y:o.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(o),t.redraw.call(this,n)},o.attrsMap=e(n.attrsMap,{width:"width",height:"height"}),o}()})),o(n,"Extensions/Annotations/Controllables/ControllableCircle.js",[n["Extensions/Annotations/Mixins/ControllableMixin.js"],n["Extensions/Annotations/Controllables/ControllablePath.js"],n["Core/Utilities.js"]],(function(t,n,o){var e=o.merge;return function(){function o(n,o,e){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="circle",this.translate=t.translateShape,this.init(n,o,e),this.collection="shapes"}return o.prototype.render=function(n){var o=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(o).add(n),t.render.call(this)},o.prototype.redraw=function(n){var o=this.anchor(this.points[0]).absolutePosition;o?this.graphic[n?"animate":"attr"]({x:o.x,y:o.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(o),t.redraw.call(this,n)},o.prototype.setRadius=function(t){this.options.r=t},o.attrsMap=e(n.attrsMap,{r:"r"}),o}()})),o(n,"Extensions/Annotations/Controllables/ControllableEllipse.js",[n["Extensions/Annotations/Mixins/ControllableMixin.js"],n["Extensions/Annotations/Controllables/ControllablePath.js"],n["Core/Utilities.js"]],(function(t,n,o){var e=o.merge,r=o.defined;return function(){function o(n,o,e){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.linkPoints=t.linkPoints,this.point=t.point,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.translatePoint=t.translatePoint,this.transformPoint=t.transformPoint,this.type="ellipse",this.init(n,o,e),this.collection="shapes"}return o.prototype.init=function(n,o,e){r(o.yAxis)&&o.points.forEach((function(t){t.yAxis=o.yAxis})),r(o.xAxis)&&o.points.forEach((function(t){t.xAxis=o.xAxis})),t.init.call(this,n,o,e)},o.prototype.render=function(n){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(n),t.render.call(this)},o.prototype.translate=function(n,o){t.translateShape.call(this,n,o,!0)},o.prototype.getDistanceFromLine=function(t,n,o,e){return Math.abs((n.y-t.y)*o-(n.x-t.x)*e+n.x*t.y-n.y*t.x)/Math.sqrt((n.y-t.y)*(n.y-t.y)+(n.x-t.x)*(n.x-t.x))},o.prototype.getAttrs=function(t,n){var o=t.x,e=t.y,r=n.x,h=n.y,l=(o+r)/2,c=(e+h)/2,d=Math.sqrt((o-r)*(o-r)/4+(e-h)*(e-h)/4),f=(h-e)/(r-o),y=180*Math.atan(f)/Math.PI;return l<o&&(y+=180),{cx:l,cy:c,rx:d,ry:this.getRY(),angle:y}},o.prototype.getRY=function(){var t=this.getYAxis();return r(t)?Math.abs(t.toPixels(this.options.ry)-t.toPixels(0)):this.options.ry},o.prototype.getYAxis=function(){var t=this.options.yAxis;return this.chart.yAxis[t]},o.prototype.getAbsolutePosition=function(t){return this.anchor(t).absolutePosition},o.prototype.redraw=function(n){var o=this.getAbsolutePosition(this.points[0]),e=this.getAbsolutePosition(this.points[1]),r=this.getAttrs(o,e);o?this.graphic[n?"animate":"attr"]({cx:r.cx,cy:r.cy,rx:r.rx,ry:r.ry,rotation:r.angle,rotationOriginX:r.cx,rotationOriginY:r.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(o),t.redraw.call(this,n)},o.prototype.setYRadius=function(t){this.options.ry=t,this.annotation.userOptions.shapes[0].ry=t,this.annotation.options.shapes[0].ry=t},o.attrsMap=e(n.attrsMap,{ry:"ry"}),o}()})),o(n,"Extensions/Annotations/Controllables/ControllableLabel.js",[n["Extensions/Annotations/Mixins/ControllableMixin.js"],n["Core/FormatUtilities.js"],n["Extensions/Annotations/MockPoint.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Tooltip.js"],n["Core/Utilities.js"]],(function(t,n,o,e,r,h){var l=n.format,c=e.prototype.symbols,d=h.extend,f=h.isNumber,y=h.pick,x=function(){function n(n,o,e){this.addControlPoints=t.addControlPoints,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translateShape=t.translateShape,this.update=t.update,this.init(n,o,e),this.collection="labels"}return n.alignedPosition=function(t,n){var o,e,r=t.align,h=t.verticalAlign,l=(n.x||0)+(t.x||0),c=(n.y||0)+(t.y||0);return"right"===r?o=1:"center"===r&&(o=2),o&&(l+=(n.width-(t.width||0))/o),"bottom"===h?e=1:"middle"===h&&(e=2),e&&(c+=(n.height-(t.height||0))/e),{x:Math.round(l),y:Math.round(c)}},n.justifiedOptions=function(t,label,n,o){var e,r=n.align,h=n.verticalAlign,l=label.box?0:label.padding||0,c=label.getBBox(),d={align:r,verticalAlign:h,x:n.x,y:n.y,width:label.width,height:label.height},f=(o.x||0)-t.plotLeft,y=(o.y||0)-t.plotTop;return(e=f+l)<0&&("right"===r?d.align="left":d.x=(d.x||0)-e),(e=f+c.width-l)>t.plotWidth&&("left"===r?d.align="right":d.x=(d.x||0)+t.plotWidth-e),(e=y+l)<0&&("bottom"===h?d.verticalAlign="top":d.y=(d.y||0)-e),(e=y+c.height-l)>t.plotHeight&&("top"===h?d.verticalAlign="bottom":d.y=(d.y||0)+t.plotHeight-e),d},n.prototype.translatePoint=function(n,o){t.translatePoint.call(this,n,o,0)},n.prototype.translate=function(t,n){var o=this.annotation.chart,e=this.annotation.userOptions,r=o.annotations.indexOf(this.annotation),h=o.options.annotations[r];if(o.inverted){var l=t;t=n,n=l}this.options.x+=t,this.options.y+=n,h[this.collection][this.index].x=this.options.x,h[this.collection][this.index].y=this.options.y,e[this.collection][this.index].x=this.options.x,e[this.collection][this.index].y=this.options.y},n.prototype.render=function(o){var e=this.options,r=this.attrsFromOptions(e),style=e.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,e.shape,null,null,e.useHTML,null,"annotation-label").attr(r).add(o),this.annotation.chart.styledMode||("contrast"===style.color&&(style.color=this.annotation.chart.renderer.getContrast(n.shapesWithoutBackground.indexOf(e.shape)>-1?"#FFFFFF":e.backgroundColor)),this.graphic.css(e.style).shadow(e.shadow)),e.className&&this.graphic.addClass(e.className),this.graphic.labelrank=e.labelrank,t.render.call(this)},n.prototype.redraw=function(n){var o=this.options,text=this.text||o.format||o.text,label=this.graphic,e=this.points[0];label.attr({text:text?l(text,e.getLabelConfig(),this.annotation.chart):o.formatter.call(e,this)});var r=this.anchor(e),h=this.position(r);h?(label.alignAttr=h,h.anchorX=r.absolutePosition.x,h.anchorY=r.absolutePosition.y,label[n?"animate":"attr"](h)):label.attr({x:0,y:-9999}),label.placed=!!h,t.redraw.call(this,n)},n.prototype.anchor=function(n){var o=t.anchor.apply(this,arguments),e=this.options.x||0,r=this.options.y||0;return o.absolutePosition.x-=e,o.absolutePosition.y-=r,o.relativePosition.x-=e,o.relativePosition.y-=r,o},n.prototype.position=function(t){var e,h,l,c,f=this.graphic,x=this.annotation.chart,v=this.points[0],m=this.options,A=t.absolutePosition,P=t.relativePosition,O=v.series.visible&&o.prototype.isInsidePlot.call(v),C=f.width,M=void 0===C?0:C,E=f.height,k=void 0===E?0:E;return O&&(m.distance?e=r.prototype.getPosition.call({chart:x,distance:y(m.distance,16)},M,k,{plotX:P.x,plotY:P.y,negative:v.negative,ttBelow:v.ttBelow,h:P.height||P.width}):m.positioner?e=m.positioner.call(this):(h={x:A.x,y:A.y,width:0,height:0},e=n.alignedPosition(d(m,{width:M,height:k}),h),"justify"===this.options.overflow&&(e=n.alignedPosition(n.justifiedOptions(x,f,m,e),h))),m.crop&&(l=e.x-x.plotLeft,c=e.y-x.plotTop,O=x.isInsidePlot(l,c)&&x.isInsidePlot(l+M,c+k))),O?e:null},n.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},n.shapesWithoutBackground=["connector"],n}();return c.connector=function(t,n,o,e,r){var path,h,l=r&&r.anchorX,c=r&&r.anchorY,d=o/2;return f(l)&&f(c)&&(path=[["M",l,c]],(h=n-c)<0&&(h=-e-h),h<o&&(d=l<t+o/2?h:o-h),c>n+e?path.push(["L",t+d,n+e]):c<n?path.push(["L",t+d,n]):l<t?path.push(["L",t,n+e/2]):l>t+o&&path.push(["L",t+o,n+e/2])),path||[]},x})),o(n,"Extensions/Annotations/Controllables/ControllableImage.js",[n["Extensions/Annotations/Controllables/ControllableLabel.js"],n["Extensions/Annotations/Mixins/ControllableMixin.js"]],(function(t,n){return function(){function o(t,o,e){this.addControlPoints=n.addControlPoints,this.anchor=n.anchor,this.attr=n.attr,this.attrsFromOptions=n.attrsFromOptions,this.destroy=n.destroy,this.getPointsOptions=n.getPointsOptions,this.init=n.init,this.linkPoints=n.linkPoints,this.point=n.point,this.rotate=n.rotate,this.scale=n.scale,this.setControlPointsVisibility=n.setControlPointsVisibility,this.shouldBeDrawn=n.shouldBeDrawn,this.transform=n.transform,this.transformPoint=n.transformPoint,this.translatePoint=n.translatePoint,this.translateShape=n.translateShape,this.update=n.update,this.type="image",this.translate=n.translateShape,this.init(t,o,e),this.collection="shapes"}return o.prototype.render=function(t){var o=this.attrsFromOptions(this.options),e=this.options;this.graphic=this.annotation.chart.renderer.image(e.src,0,-9e9,e.width,e.height).attr(o).add(t),this.graphic.width=e.width,this.graphic.height=e.height,n.render.call(this)},o.prototype.redraw=function(o){var e=this.anchor(this.points[0]),r=t.prototype.position.call(this,e);r?this.graphic[o?"animate":"attr"]({x:r.x,y:r.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(r),n.redraw.call(this,o)},o.attrsMap={width:"width",height:"height",zIndex:"zIndex"},o}()})),o(n,"Extensions/Annotations/Annotations.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Chart/Chart.js"],n["Extensions/Annotations/Mixins/ControllableMixin.js"],n["Extensions/Annotations/Controllables/ControllableRect.js"],n["Extensions/Annotations/Controllables/ControllableCircle.js"],n["Extensions/Annotations/Controllables/ControllableEllipse.js"],n["Extensions/Annotations/Controllables/ControllablePath.js"],n["Extensions/Annotations/Controllables/ControllableImage.js"],n["Extensions/Annotations/Controllables/ControllableLabel.js"],n["Extensions/Annotations/ControlPoint.js"],n["Extensions/Annotations/Mixins/EventEmitterMixin.js"],n["Core/Globals.js"],n["Extensions/Annotations/MockPoint.js"],n["Core/Pointer.js"],n["Core/Utilities.js"]],(function(t,n,o,e,r,h,l,c,d,f,y,x,v,m,A){var P=t.getDeferredAnimation,O=n.prototype,C=A.addEvent,M=A.defined,E=A.destroyObjectProperties,k=A.erase,w=A.extend,T=A.find,j=A.fireEvent,S=A.merge,B=A.pick,L=A.splat,_=A.wrap,N=function(){function t(t,n){var o;this.annotation=void 0,this.coll="annotations",this.collection=void 0,this.animationConfig=void 0,this.graphic=void 0,this.group=void 0,this.labelCollector=void 0,this.labelsGroup=void 0,this.shapesGroup=void 0,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.labels=[],this.shapes=[],this.options=S(this.defaultOptions,n),this.userOptions=n,o=this.getLabelsAndShapesOptions(this.options,n),this.options.labels=o.labels,this.options.shapes=o.shapes,this.init(t,this.options)}return t.prototype.init=function(){var t=this.chart,n=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=P(t,n)},t.prototype.getLabelsAndShapesOptions=function(t,n){var o={};return["labels","shapes"].forEach((function(e){t[e]&&(n[e]?o[e]=L(n[e]).map((function(n,i){return S(t[e][i],n)})):o[e]=t[e])})),o},t.prototype.addShapes=function(){(this.options.shapes||[]).forEach((function(t,i){var n=this.initShape(t,i);S(!0,this.options.shapes[i],n.options)}),this)},t.prototype.addLabels=function(){(this.options.labels||[]).forEach((function(t,i){var n=this.initLabel(t,i);S(!0,this.options.labels[i],n.options)}),this)},t.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},t.prototype.setClipAxes=function(){var t=this.chart.xAxis,n=this.chart.yAxis,o=(this.options.labels||[]).concat(this.options.shapes||[]).reduce((function(o,e){var r=e&&(e.point||e.points&&e.points[0]);return[t[r&&r.xAxis]||o[0],n[r&&r.yAxis]||o[1]]}),[]);this.clipXAxis=o[0],this.clipYAxis=o[1]},t.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},t.prototype.setLabelCollector=function(){var t=this;t.labelCollector=function(){return t.labels.reduce((function(t,label){return label.options.allowOverlap||t.push(label.graphic),t}),[])},t.chart.labelCollectors.push(t.labelCollector)},t.prototype.setOptions=function(t){this.options=S(this.defaultOptions,t)},t.prototype.redraw=function(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),o.redraw.call(this,t)},t.prototype.redrawItems=function(t,n){for(var i=t.length;i--;)this.redrawItem(t[i],n)},t.prototype.renderItems=function(t){for(var i=t.length;i--;)this.renderItem(t[i])},t.prototype.render=function(){var t=this.chart.renderer;this.graphic=t.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),o.render.call(this)},t.prototype.setVisibility=function(t){var n=this.options,o=this.chart.navigationBindings,e=B(t,!n.visible);this.graphic.attr("visibility",e?"visible":"hidden"),e||(this.setControlPointsVisibility(!1),o.activeAnnotation===this&&o.popup&&"annotation-toolbar"===o.popup.formType&&j(o,"closePopup")),n.visible=e},t.prototype.setControlPointsVisibility=function(t){var n=function(n){n.setControlPointsVisibility(t)};o.setControlPointsVisibility.call(this,t),this.shapes.forEach(n),this.labels.forEach(n)},t.prototype.destroy=function(){var t=this.chart,n=function(t){t.destroy()};this.labels.forEach(n),this.shapes.forEach(n),this.clipXAxis=null,this.clipYAxis=null,k(t.labelCollectors,this.labelCollector),y.destroy.call(this),o.destroy.call(this),E(this,t)},t.prototype.remove=function(){return this.chart.removeAnnotation(this)},t.prototype.update=function(t,n){var o=this.chart,e=this.getLabelsAndShapesOptions(this.userOptions,t),r=o.annotations.indexOf(this),h=S(!0,this.userOptions,t);h.labels=e.labels,h.shapes=e.shapes,this.destroy(),this.constructor(o,h),o.options.annotations[r]=h,this.isUpdating=!0,B(n,!0)&&o.redraw(),j(this,"afterUpdate"),this.isUpdating=!1},t.prototype.initShape=function(n,o){var e=S(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},n),r=new t.shapesMap[e.type](this,e,o);return r.itemType="shape",this.shapes.push(r),r},t.prototype.initLabel=function(t,n){var o=S(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),label=new d(this,o,n);return label.itemType="label",this.labels.push(label),label},t.prototype.redrawItem=function(t,n){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(B(n,!0)&&t.graphic.placed),t.points.length&&this.adjustVisibility(t)):this.destroyItem(t)},t.prototype.adjustVisibility=function(t){var n=!1,label=t.graphic;t.points.forEach((function(t){!1!==t.series.visible&&!1!==t.visible&&(n=!0)})),n?"hidden"===label.visibility&&label.show():label.hide()},t.prototype.destroyItem=function(t){k(this[t.itemType+"s"],t),t.destroy()},t.prototype.renderItem=function(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)},t.ControlPoint=f,t.MockPoint=v,t.shapesMap={rect:e,circle:r,ellipse:h,path:l,image:c},t.types={},t}();return S(!0,N.prototype,o,y,S(N.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return M(this.y)?this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},visible:!1,events:{}},events:{},zIndex:6}})),x.extendAnnotation=function(t,n,o,e){n=n||N,w(t.prototype,S(n.prototype,o)),t.prototype.defaultOptions=S(t.prototype.defaultOptions,e||{})},w(O,{initAnnotation:function(t){var n=new(N.types[t.type]||N)(this,t);return this.annotations.push(n),n},addAnnotation:function(t,n){var o=this.initAnnotation(t);return this.options.annotations.push(o.options),B(n,!0)&&(o.redraw(),o.graphic.attr({opacity:1})),o},removeAnnotation:function(t){var n=this.annotations,o="annotations"===t.coll?t:T(n,(function(n){return n.options.id===t}));o&&(j(o,"remove"),k(this.options.annotations,o.options),k(n,o),o.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach((function(t){t.redraw(),t.graphic.animate({opacity:1},t.animationConfig)}))}}),O.collectionsWithUpdate.push("annotations"),O.collectionsWithInit.annotations=[O.addAnnotation],C(n,"afterInit",(function(){this.annotations=[],this.options.annotations||(this.options.annotations=[])})),O.callbacks.push((function(t){t.plotBoxClip=this.renderer.clipRect(this.plotBox),t.controlPointsGroup=t.renderer.g("control-points").attr({zIndex:99}).clip(t.plotBoxClip).add(),t.options.annotations.forEach((function(n,i){if(!t.annotations.some((function(t){return t.options===n}))){var o=t.initAnnotation(n);t.options.annotations[i]=o.options}})),t.drawAnnotations(),C(t,"redraw",t.drawAnnotations),C(t,"destroy",(function(){t.plotBoxClip.destroy(),t.controlPointsGroup.destroy()})),C(t,"exportData",(function(n){var o=t.annotations,e=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,r=!n.dataRows[1].xValues,h=t.options.lang&&t.options.lang.exportData&&t.options.lang.exportData.annotationHeader,l=n.dataRows[0].length,c=t.options.exporting&&t.options.exporting.csv&&t.options.exporting.csv.annotations&&t.options.exporting.csv.annotations.itemDelimiter,d=t.options.exporting&&t.options.exporting.csv&&t.options.exporting.csv.annotations&&t.options.exporting.csv.annotations.join;o.forEach((function(t){t.options.labelOptions.includeInDataExport&&t.labels.forEach((function(label){if(label.options.text){var t=label.options.text;label.points.forEach((function(o){var e=o.x,r=o.series.xAxis?o.series.xAxis.options.index:-1,h=!1;if(-1===r){for(var f=n.dataRows[0].length,y=new Array(f),i=0;i<f;++i)y[i]="";y.push(t),y.xValues=[],y.xValues[r]=e,n.dataRows.push(y),h=!0}if(h||n.dataRows.forEach((function(n){!h&&n.xValues&&void 0!==r&&e===n.xValues[r]&&(d&&n.length>l?n[n.length-1]+=c+t:n.push(t),h=!0)})),!h){for(f=n.dataRows[0].length,y=new Array(f),i=0;i<f;++i)y[i]="";y[0]=e,y.push(t),y.xValues=[],void 0!==r&&(y.xValues[r]=e),n.dataRows.push(y)}}))}}))}));var f=0;n.dataRows.forEach((function(t){f=Math.max(f,t.length)}));for(var y,s,x=f-n.dataRows[0].length,i=0;i<x;i++){var header=(y=i+1,s=void 0,e&&!1!==(s=e(y))?s:(s=h+" "+y,r?{columnTitle:s,topLevelColumnTitle:s}:s));r?(n.dataRows[0].push(header.topLevelColumnTitle),n.dataRows[1].push(header.columnTitle)):n.dataRows[0].push(header)}}))})),_(m.prototype,"onContainerMouseDown",(function(t){this.chart.hasDraggedAnnotation||t.apply(this,Array.prototype.slice.call(arguments,1))})),x.Annotation=N,N})),o(n,"Extensions/Annotations/Types/BasicAnnotation.js",[n["Extensions/Annotations/Annotations.js"],n["Extensions/Annotations/MockPoint.js"],n["Core/Utilities.js"]],(function(t,n,o){var e,r=this&&this.__extends||(e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},e(t,b)},function(t,b){function n(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}),h=o.merge,l=function(o){function e(t,n){return o.call(this,t,n)||this}return r(e,o),e.prototype.addControlPoints=function(){var t=this.options,n=e.basicControlPoints,o=this.basicType;(t.labels||t.shapes).forEach((function(t){t.controlPoints=n[o]}))},e.prototype.init=function(){var n=this.options;n.shapes?(delete n.labelOptions,n.shapes[0].type?this.basicType=n.shapes[0].type:this.basicType="rectangle"):(delete n.shapes,this.basicType="label"),t.prototype.init.apply(this,arguments)},e.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(t){if(!t.graphic.placed)return{x:0,y:-9e7};var o=n.pointToPixels(t.points[0]);return{x:o.x-this.graphic.width/2,y:o.y-this.graphic.height/2}},events:{drag:function(t,n){var o=this.mouseMoveToTranslation(t);n.translatePoint(o.x,o.y),n.annotation.userOptions.labels[0].point=n.options.point,n.redraw(!1)}}},{symbol:"square",positioner:function(t){return t.graphic.placed?{x:t.graphic.alignAttr.x-this.graphic.width/2,y:t.graphic.alignAttr.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(t,n){var o=this.mouseMoveToTranslation(t);n.translate(o.x,o.y),n.annotation.userOptions.labels[0].point=n.options.point,n.redraw(!1)}}}],rectangle:[{positioner:function(t){var o=n.pointToPixels(t.points[2]);return{x:o.x-4,y:o.y-4}},events:{drag:function(t,n){var o=n.annotation,e=this.chart.pointer.getCoordinates(t),r=e.xAxis[0].value,h=e.yAxis[0].value,l=n.options.points;l[1].x=r,l[2].x=r,l[2].y=h,l[3].y=h,o.userOptions.shapes[0].points=n.options.points,o.redraw(!1)}}}],circle:[{positioner:function(t){var o=n.pointToPixels(t.points[0]),e=t.options.r;return{x:o.x+e*Math.cos(Math.PI/4)-this.graphic.width/2,y:o.y+e*Math.sin(Math.PI/4)-this.graphic.height/2}},events:{drag:function(t,n){var o=n.annotation,e=this.mouseMoveToTranslation(t);n.setRadius(Math.max(n.options.r+e.y/Math.sin(Math.PI/4),5)),o.userOptions.shapes[0].r=n.options.r,o.userOptions.shapes[0].point=n.options.point,n.redraw(!1)}}}],ellipse:[{positioner:function(t){var n=t.getAbsolutePosition(t.points[0]);return{x:n.x-this.graphic.width/2,y:n.y-this.graphic.height/2}},events:{drag:function(t,n){var o=n.getAbsolutePosition(n.points[0]);n.translatePoint(t.chartX-o.x,t.chartY-o.y,0),n.redraw(!1)}}},{positioner:function(t){var n=t.getAbsolutePosition(t.points[1]);return{x:n.x-this.graphic.width/2,y:n.y-this.graphic.height/2}},events:{drag:function(t,n){var o=n.getAbsolutePosition(n.points[1]);n.translatePoint(t.chartX-o.x,t.chartY-o.y,1),n.redraw(!1)}}},{positioner:function(t){var n=t.getAbsolutePosition(t.points[0]),o=t.getAbsolutePosition(t.points[1]),e=t.getAttrs(n,o);return{x:e.cx-this.graphic.width/2+e.ry*Math.sin(e.angle*Math.PI/180),y:e.cy-this.graphic.height/2-e.ry*Math.cos(e.angle*Math.PI/180)}},events:{drag:function(t,n){var o=n.getAbsolutePosition(n.points[0]),e=n.getAbsolutePosition(n.points[1]),r=n.getDistanceFromLine(o,e,t.chartX,t.chartY),h=n.getYAxis(),l=Math.abs(h.toValue(0)-h.toValue(r));n.setYRadius(l),n.redraw(!1)}}}]},e}(t);return l.prototype.defaultOptions=h(t.prototype.defaultOptions,{}),t.types.basicAnnotation=l,l})),o(n,"Extensions/Annotations/Types/CrookedLine.js",[n["Extensions/Annotations/Annotations.js"],n["Extensions/Annotations/ControlPoint.js"],n["Extensions/Annotations/MockPoint.js"],n["Core/Utilities.js"]],(function(t,n,o,e){var r,h=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function n(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}),l=e.merge,c=function(t){function o(n,o){return t.call(this,n,o)||this}return h(o,t),o.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},o.prototype.getPointsOptions=function(){var t=this.options.typeOptions;return(t.points||[]).map((function(n){return n.xAxis=t.xAxis,n.yAxis=t.yAxis,n}))},o.prototype.getControlPointsOptions=function(){return this.getPointsOptions()},o.prototype.addControlPoints=function(){this.getControlPointsOptions().forEach((function(t,i){var o=new n(this.chart,this,l(this.options.controlPointOptions,t.controlPoint),i);this.controlPoints.push(o),t.controlPoint=o.options}),this)},o.prototype.addShapes=function(){var t=this.options.typeOptions,n=this.initShape(l(t.line,{type:"path",points:this.points.map((function(t,i){return function(t){return t.annotation.points[i]}}))}),0);t.line=n.options},o}(t);return c.prototype.defaultOptions=l(t.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(t){var n=this.graphic,e=o.pointToPixels(t.points[this.index]);return{x:e.x-n.width/2,y:e.y-n.height/2}},events:{drag:function(t,n){if(n.chart.isInsidePlot(t.chartX-n.chart.plotLeft,t.chartY-n.chart.plotTop,{visiblePlotOnly:!0})){var o=this.mouseMoveToTranslation(t);n.translatePoint(o.x,o.y,this.index),n.options.typeOptions.points[this.index].x=n.points[this.index].x,n.options.typeOptions.points[this.index].y=n.points[this.index].y,n.redraw(!1)}}}}}),t.types.crookedLine=c,c})),o(n,"Extensions/Annotations/Types/ElliottWave.js",[n["Extensions/Annotations/Annotations.js"],n["Extensions/Annotations/Types/CrookedLine.js"],n["Core/Utilities.js"]],(function(t,n,o){var e,r=this&&this.__extends||(e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},e(t,b)},function(t,b){function n(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}),h=o.merge,l=function(t){function n(n,o){return t.call(this,n,o)||this}return r(n,t),n.prototype.addLabels=function(){this.getPointsOptions().forEach((function(t,i){var n=this.options.typeOptions,label=this.initLabel(h(t.label,{text:n.labels[i],point:function(t){return t.annotation.points[i]}}),!1);t.label=label.options}),this)},n}(n);return l.prototype.defaultOptions=h(n.prototype.defaultOptions,{typeOptions:{labels:["(0)","(A)","(B)","(C)","(D)","(E)"],line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),t.types.elliottWave=l,l})),o(n,"Extensions/Annotations/Types/Tunnel.js",[n["Extensions/Annotations/Annotations.js"],n["Extensions/Annotations/ControlPoint.js"],n["Extensions/Annotations/Types/CrookedLine.js"],n["Extensions/Annotations/MockPoint.js"],n["Core/Utilities.js"]],(function(t,n,o,e,r){var h,l=this&&this.__extends||(h=function(t,b){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},h(t,b)},function(t,b){function n(){this.constructor=t}h(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}),c=r.merge;function d(t,n,o){return(n.y-t.y)/(n.x-t.x)*(o-t.x)+t.y}var f=function(t){function r(n,o){return t.call(this,n,o)||this}return l(r,t),r.prototype.getPointsOptions=function(){var t=o.prototype.getPointsOptions.call(this);return t[2]=this.heightPointOptions(t[1]),t[3]=this.heightPointOptions(t[0]),t},r.prototype.getControlPointsOptions=function(){return this.getPointsOptions().slice(0,2)},r.prototype.heightPointOptions=function(t){var n=c(t),o=this.options.typeOptions;return n.y+=o.height,n},r.prototype.addControlPoints=function(){o.prototype.addControlPoints.call(this);var t=this.options,e=t.typeOptions,r=new n(this.chart,this,c(t.controlPointOptions,e.heightControlPoint),2);this.controlPoints.push(r),e.heightControlPoint=r.options},r.prototype.addShapes=function(){this.addLine(),this.addBackground()},r.prototype.addLine=function(){var line=this.initShape(c(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(t){var n=e.pointToOptions(t.annotation.points[2]);return n.command="M",n},this.points[3]]}),0);this.options.typeOptions.line=line.options},r.prototype.addBackground=function(){var t=this.initShape(c(this.options.typeOptions.background,{type:"path",points:this.points.slice()}),1);this.options.typeOptions.background=t.options},r.prototype.translateSide=function(t,n,o){var e=Number(o),r=0===e?3:2;this.translatePoint(t,n,e),this.translatePoint(t,n,r)},r.prototype.translateHeight=function(t){this.translatePoint(0,t,2),this.translatePoint(0,t,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y},r}(o);return f.prototype.defaultOptions=c(o.prototype.defaultOptions,{typeOptions:{background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(t){var n=e.pointToPixels(t.points[2]),o=e.pointToPixels(t.points[3]),r=(n.x+o.x)/2;return{x:r-this.graphic.width/2,y:d(n,o,r)-this.graphic.height/2}},events:{drag:function(t,n){n.chart.isInsidePlot(t.chartX-n.chart.plotLeft,t.chartY-n.chart.plotTop,{visiblePlotOnly:!0})&&(n.translateHeight(this.mouseMoveToTranslation(t).y),n.redraw(!1))}}}},controlPointOptions:{events:{drag:function(t,n){if(n.chart.isInsidePlot(t.chartX-n.chart.plotLeft,t.chartY-n.chart.plotTop,{visiblePlotOnly:!0})){var o=this.mouseMoveToTranslation(t);n.translateSide(o.x,o.y,!!this.index),n.redraw(!1)}}}}}),t.types.tunnel=f,f})),o(n,"Extensions/Annotations/Types/InfinityLine.js",[n["Extensions/Annotations/Annotations.js"],n["Extensions/Annotations/Types/CrookedLine.js"],n["Extensions/Annotations/MockPoint.js"],n["Core/Utilities.js"]],(function(t,n,o,e){var r,h=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function n(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}),l=e.merge,c=function(t){function n(n,o){return t.call(this,n,o)||this}return h(n,t),n.edgePoint=function(t,e){return function(r){var h=r.annotation,l=h.points,c=h.options.typeOptions.type;return"horizontalLine"!==c&&"verticalLine"!==c||(l=[l[0],new o(h.chart,l[0].target,{x:l[0].x+ +("horizontalLine"===c),y:l[0].y+ +("verticalLine"===c),xAxis:l[0].options.xAxis,yAxis:l[0].options.yAxis})]),n.findEdgePoint(l[t],l[e])}},n.findEdgeCoordinate=function(t,n,o,e){var r="x"===o?"y":"x";return(n[o]-t[o])*(e-t[r])/(n[r]-t[r])+t[o]},n.findEdgePoint=function(t,e){var r,h,l,c=t.series.chart,d=t.series.xAxis,f=e.series.yAxis,y=o.pointToPixels(t),x=o.pointToPixels(e),v=x.x-y.x,m=x.y-y.y,A=d.left,P=A+d.width,O=f.top,C=O+f.height,M=v<0?A:P,E=m<0?O:C,k={x:0===v?y.x:M,y:0===m?y.y:E};return 0!==v&&0!==m&&(h=n.findEdgeCoordinate(y,x,"y",M),r=n.findEdgeCoordinate(y,x,"x",E),h>=O&&h<=C?(k.x=M,k.y=h):(k.x=r,k.y=E)),k.x-=c.plotLeft,k.y-=c.plotTop,t.series.chart.inverted&&(l=k.x,k.x=k.y,k.y=l),k},n.prototype.addShapes=function(){var t=this.options.typeOptions,o=[this.points[0],n.endEdgePoint];t.type.match(/line/gi)&&(o[0]=n.startEdgePoint);var line=this.initShape(l(t.line,{type:"path",points:o}),0);t.line=line.options},n.endEdgePoint=n.edgePoint(0,1),n.startEdgePoint=n.edgePoint(1,0),n}(n);return c.prototype.defaultOptions=l(n.prototype.defaultOptions,{}),t.types.infinityLine=c,c})),o(n,"Extensions/Annotations/Types/TimeCycles.js",[n["Extensions/Annotations/Annotations.js"],n["Extensions/Annotations/Types/CrookedLine.js"],n["Extensions/Annotations/ControlPoint.js"],n["Core/Utilities.js"]],(function(t,n,o,e){var r,h=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function n(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}),l=e.merge,c=e.isNumber,d=e.defined,f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return h(n,t),n.prototype.init=function(n,o,e){d(o.yAxis)&&o.points.forEach((function(t){t.yAxis=o.yAxis})),d(o.xAxis)&&o.points.forEach((function(t){t.xAxis=o.xAxis})),t.prototype.init.call(this,n,o,e)},n.prototype.setPath=function(){this.shapes[0].options.d=this.getPath()},n.prototype.getPath=function(){return[(t=this.startX,n=this.y,["M",t,n])].concat(function(t,n,o,e){for(var r=function(i){return["A",t/2,t/2,0,1,1,o+i*t,e]},path=[],i=1;i<=n;i++)path.push(r(i));return path}(this.pixelInterval,this.numberOfCircles,this.startX,this.y));var t,n},n.prototype.addShapes=function(){var t=this.options.typeOptions;this.setPathProperties();var n=this.initShape(l(t.line,{type:"path",d:this.getPath(),points:this.options.points}),0);t.line=n.options},n.prototype.addControlPoints=function(){var t=this,n=this.options,e=n.typeOptions;n.controlPointOptions.style.cursor=this.chart.inverted?"ns-resize":"ew-resize",e.controlPointOptions.forEach((function(option){var e=l(n.controlPointOptions,option),r=new o(t.chart,t,e,0);t.controlPoints.push(r)}))},n.prototype.setPathProperties=function(){var t=this.options.typeOptions,n=t.points;if(n){var o=n[0],e=n[1],r=t.xAxis||0,h=t.yAxis||0,l=this.chart.xAxis[r],d=this.chart.yAxis[h],f=o.x,y=o.y,x=e.x;if(f&&x){var v=c(y)?d.toPixels(y):d.top+d.height,m=c(f)?l.toPixels(f):l.left,A=c(x)?l.toPixels(x):l.left+30,P=l.len,O=Math.round(Math.max(Math.abs(A-m),2)),C=Math.floor(P/O)+2,M=(Math.floor((m-l.left)/O)+1)*O;this.startX=m-M,this.y=v,this.pixelInterval=O,this.numberOfCircles=C}}},n.prototype.redraw=function(n){this.setPathProperties(),this.setPath(),t.prototype.redraw.call(this,n)},n}(n);return f.prototype.defaultOptions=l(n.prototype.defaultOptions,{typeOptions:{controlPointOptions:[{positioner:function(t){var n=t.points[0];return{x:t.anchor(n).absolutePosition.x-this.graphic.width/2,y:t.y-this.graphic.height}},events:{drag:function(t,n){var o=n.anchor(n.points[0]).absolutePosition;n.translatePoint(t.chartX-o.x,0,0),n.redraw(!1)}}},{positioner:function(t){var n=t.points[1];return{x:t.anchor(n).absolutePosition.x-this.graphic.width/2,y:t.y-this.graphic.height}},events:{drag:function(t,n){var o=n.anchor(n.points[1]).absolutePosition;n.translatePoint(t.chartX-o.x,0,1),n.redraw(!1)}}}]}}),t.types.timeCycles=f,f})),o(n,"Extensions/Annotations/Types/Fibonacci.js",[n["Extensions/Annotations/Annotations.js"],n["Extensions/Annotations/MockPoint.js"],n["Extensions/Annotations/Types/Tunnel.js"],n["Core/Utilities.js"]],(function(t,n,o,e){var r,h=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function n(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}),l=e.merge,c=function(t,n){return function(){var o=this.annotation;if(!o.startRetracements||!o.endRetracements)return[];var e,r,h=this.anchor(o.startRetracements[t]).absolutePosition,l=this.anchor(o.endRetracements[t]).absolutePosition,c=[["M",Math.round(h.x),Math.round(h.y)],["L",Math.round(l.x),Math.round(l.y)]];return n&&(e=this.anchor(o.endRetracements[t-1]).absolutePosition,r=this.anchor(o.startRetracements[t-1]).absolutePosition,c.push(["L",Math.round(e.x),Math.round(e.y)],["L",Math.round(r.x),Math.round(r.y)])),c}},d=function(t){function o(n,o){return t.call(this,n,o)||this}return h(o,t),o.prototype.linkPoints=function(){t.prototype.linkPoints.call(this),this.linkRetracementsPoints()},o.prototype.linkRetracementsPoints=function(){var t=this.points,n=t[0].y-t[3].y,e=t[1].y-t[2].y,r=t[0].x,h=t[1].x;o.levels.forEach((function(o,i){var l=t[0].y-n*o,c=t[1].y-e*o;this.startRetracements=this.startRetracements||[],this.endRetracements=this.endRetracements||[],this.linkRetracementPoint(i,r,l,this.startRetracements),this.linkRetracementPoint(i,h,c,this.endRetracements)}),this)},o.prototype.linkRetracementPoint=function(t,o,e,r){var h=r[t],l=this.options.typeOptions;h?(h.options.x=o,h.options.y=e,h.refresh()):r[t]=new n(this.chart,this,{x:o,y:e,xAxis:l.xAxis,yAxis:l.yAxis})},o.prototype.addShapes=function(){o.levels.forEach((function(t,i){var n=this.options.typeOptions,o=n.backgroundColors,e=n.lineColor,r=n.lineColors;this.initShape({type:"path",d:c(i),stroke:r[i]||e},i),i>0&&this.initShape({type:"path",fill:o[i-1],strokeWidth:0,d:c(i,!0)})}),this)},o.prototype.addLabels=function(){o.levels.forEach((function(t,i){var o=this.options.typeOptions,label=this.initLabel(l(o.labels[i],{point:function(t){return n.pointToOptions(t.annotation.startRetracements[i])},text:t.toString()}));o.labels[i]=label.options}),this)},o.levels=[0,.236,.382,.5,.618,.786,1],o}(o);return d.prototype.defaultOptions=l(o.prototype.defaultOptions,{typeOptions:{height:2,backgroundColors:["rgba(130, 170, 255, 0.4)","rgba(139, 191, 216, 0.4)","rgba(150, 216, 192, 0.4)","rgba(156, 229, 161, 0.4)","rgba(162, 241, 130, 0.4)","rgba(169, 255, 101, 0.4)"],lineColor:"#999999",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),t.types.fibonacci=d,d})),o(n,"Extensions/Annotations/Types/FibonacciTimeZones.js",[n["Extensions/Annotations/Annotations.js"],n["Extensions/Annotations/ControlPoint.js"],n["Extensions/Annotations/Types/CrookedLine.js"],n["Extensions/Annotations/Types/InfinityLine.js"],n["Extensions/Annotations/MockPoint.js"],n["Core/Utilities.js"]],(function(t,n,o,e,r,h){var l,c=this&&this.__extends||(l=function(t,b){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},l(t,b)},function(t,b){function n(){this.constructor=t}l(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}),d=h.merge,f=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return c(o,t),o.prototype.edgePoint=function(t,n,o){return function(h){var l=h.annotation.chart,c=l.inverted?l.plotTop:l.plotLeft,d=h.annotation.points,f=d[0].series.xAxis,y=d.length>1?d[1].plotX-d[0].plotX:0,x=f.toValue(d[0].plotX+c+o*y);return d=[new r(l,d[0].target,{x:x,y:0,xAxis:d[0].options.xAxis,yAxis:d[0].options.yAxis}),new r(l,d[0].target,{x:x,y:1,xAxis:d[0].options.xAxis,yAxis:d[0].options.yAxis})],e.findEdgePoint(d[t],d[n])}},o.prototype.addShapes=function(){for(var t=1,n=1,i=0;i<11;i++){var o=i?t:0,e=[this.edgePoint(1,0,o),this.edgePoint(0,1,o)];t=(n=t+n)-t,1===i&&(this.secondLineEdgePoints=[e[0],e[1]]),this.initShape(d(this.options.typeOptions.line,{type:"path",points:e}),i)}},o.prototype.addControlPoints=function(){var t=this.options,o=t.typeOptions,e=new n(this.chart,this,d(t.controlPointOptions,o.controlPointOptions),0);this.controlPoints.push(e),o.controlPointOptions=e.options},o}(o);return f.prototype.defaultOptions=d(o.prototype.defaultOptions,{typeOptions:{line:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:void 0},controlPointOptions:{positioner:function(){var t,n=this.target,o=this.graphic,e=n.secondLineEdgePoints,r={annotation:n},h=e[0](r).y,l=e[1](r).y,c=this.chart.plotLeft,d=this.chart.plotTop,f=e[0](r).x,y=(h+l)/2;return this.chart.inverted&&(f=(t=[y,f])[0],y=t[1]),{x:c+f-o.width/2,y:d+y-o.height/2}},events:{drag:function(t,n){if(n.chart.isInsidePlot(t.chartX-n.chart.plotLeft,t.chartY-n.chart.plotTop,{visiblePlotOnly:!0})){var o=this.mouseMoveToTranslation(t);n.translatePoint(o.x,0,1),n.redraw(!1)}}}}}}),t.types.fibonacciTimeZones=f,f})),o(n,"Extensions/Annotations/Types/Pitchfork.js",[n["Extensions/Annotations/Annotations.js"],n["Extensions/Annotations/Types/InfinityLine.js"],n["Extensions/Annotations/MockPoint.js"],n["Core/Utilities.js"]],(function(t,n,o,e){var r,h=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function n(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}),l=e.merge,c=function(t){function e(n,o){return t.call(this,n,o)||this}return h(e,t),e.outerLineEdgePoint=function(t){return function(n){var r=n.annotation,h=r.points;return e.findEdgePoint(h[t],h[0],new o(r.chart,n,r.midPointOptions()))}},e.findEdgePoint=function(t,n,o){var e=Math.atan2(o.plotY-n.plotY,o.plotX-n.plotX),r=1e7;return{x:t.plotX+r*Math.cos(e),y:t.plotY+r*Math.sin(e)}},e.middleLineEdgePoint=function(t){var e=t.annotation,r=e.points;return n.findEdgePoint(r[0],new o(e.chart,t,e.midPointOptions()))},e.prototype.midPointOptions=function(){var t=this.points;return{x:(t[1].x+t[2].x)/2,y:(t[1].y+t[2].y)/2,xAxis:t[0].series.xAxis,yAxis:t[0].series.yAxis}},e.prototype.addShapes=function(){this.addLines(),this.addBackgrounds()},e.prototype.addLines=function(){this.initShape({type:"path",points:[this.points[0],e.middleLineEdgePoint]},0),this.initShape({type:"path",points:[this.points[1],e.topLineEdgePoint]},1),this.initShape({type:"path",points:[this.points[2],e.bottomLineEdgePoint]},2)},e.prototype.addBackgrounds=function(){var t=this.shapes,n=this.options.typeOptions,o=this.initShape(l(n.innerBackground,{type:"path",points:[function(t){var n=t.annotation,o=n.points,e=n.midPointOptions();return{x:(o[1].x+e.x)/2,y:(o[1].y+e.y)/2,xAxis:e.xAxis,yAxis:e.yAxis}},t[1].points[1],t[2].points[1],function(t){var n=t.annotation,o=n.points,e=n.midPointOptions();return{x:(e.x+o[2].x)/2,y:(e.y+o[2].y)/2,xAxis:e.xAxis,yAxis:e.yAxis}}]}),3),e=this.initShape(l(n.outerBackground,{type:"path",points:[this.points[1],t[1].points[1],t[2].points[1],this.points[2]]}),4);n.innerBackground=o.options,n.outerBackground=e.options},e.topLineEdgePoint=e.outerLineEdgePoint(1),e.bottomLineEdgePoint=e.outerLineEdgePoint(0),e}(n);return c.prototype.defaultOptions=l(n.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),t.types.pitchfork=c,c})),o(n,"Extensions/Annotations/Types/VerticalLine.js",[n["Extensions/Annotations/Annotations.js"],n["Extensions/Annotations/MockPoint.js"],n["Core/Utilities.js"]],(function(t,n,o){var e,r=this&&this.__extends||(e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},e(t,b)},function(t,b){function n(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}),h=o.merge,l=o.pick,c=function(t){function o(n,o){return t.call(this,n,o)||this}return r(o,t),o.connectorFirstPoint=function(t){var o=t.annotation,e=o.chart,r=e.inverted,h=o.points[0],c=l(h.series.yAxis&&h.series.yAxis.left,0),d=l(h.series.yAxis&&h.series.yAxis.top,0),f=o.options.typeOptions.label.offset,y=n.pointToPixels(h,!0)[r?"x":"y"];return{x:h.x,xAxis:h.series.xAxis,y:y+f+(r?c-e.plotLeft:d-e.plotTop)}},o.connectorSecondPoint=function(t){var o=t.annotation,e=o.chart,r=e.inverted,h=o.options.typeOptions,c=o.points[0],d=l(c.series.yAxis&&c.series.yAxis.left,0),f=l(c.series.yAxis&&c.series.yAxis.top,0),y=h.yOffset,x=n.pointToPixels(c,!0)[r?"x":"y"];return h.label.offset<0&&(y*=-1),{x:c.x,xAxis:c.series.xAxis,y:x+y+(r?d-e.plotLeft:f-e.plotTop)}},o.prototype.getPointsOptions=function(){return[this.options.typeOptions.point]},o.prototype.addShapes=function(){var t=this.options.typeOptions,n=this.initShape(h(t.connector,{type:"path",points:[o.connectorFirstPoint,o.connectorSecondPoint]}),0);t.connector=n.options},o.prototype.addLabels=function(){var t=this.options.typeOptions,n=t.label,o=0,e=n.offset,r=n.offset<0?"bottom":"top",l="center";this.chart.inverted&&(o=n.offset,e=0,r="middle",l=n.offset<0?"right":"left");var label=this.initLabel(h(n,{verticalAlign:r,align:l,x:o,y:e}));t.label=label.options},o}(t);return c.prototype.defaultOptions=h(t.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(t){return t.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),t.types.verticalLine=c,c})),o(n,"Extensions/Annotations/Types/Measure.js",[n["Extensions/Annotations/Annotations.js"],n["Extensions/Annotations/ControlPoint.js"],n["Core/Utilities.js"]],(function(t,n,o){var e,r=this&&this.__extends||(e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},e(t,b)},function(t,b){function n(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}),h=o.defined,l=o.extend,c=o.isNumber,d=o.merge,f=o.pick,y=function(o){function e(t,n){return o.call(this,t,n)||this}return r(e,o),e.prototype.init=function(n,o,r){t.prototype.init.call(this,n,o,r),this.offsetX=0,this.offsetY=0,this.resizeX=0,this.resizeY=0,e.calculations.init.call(this),this.addValues(),this.addShapes()},e.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},e.prototype.pointsOptions=function(){return this.options.points},e.prototype.shapePointsOptions=function(){var t=this.options.typeOptions,n=t.xAxis,o=t.yAxis;return[{x:this.xAxisMin,y:this.yAxisMin,xAxis:n,yAxis:o},{x:this.xAxisMax,y:this.yAxisMin,xAxis:n,yAxis:o},{x:this.xAxisMax,y:this.yAxisMax,xAxis:n,yAxis:o},{x:this.xAxisMin,y:this.yAxisMax,xAxis:n,yAxis:o}]},e.prototype.addControlPoints=function(){var t,o=this.chart.inverted,e=this.options.controlPointOptions,r=this.options.typeOptions.selectType;h(this.userOptions.controlPointOptions&&this.userOptions.controlPointOptions.style.cursor)||("x"===r?e.style.cursor=o?"ns-resize":"ew-resize":"y"===r&&(e.style.cursor=o?"ew-resize":"ns-resize")),t=new n(this.chart,this,this.options.controlPointOptions,0),this.controlPoints.push(t),"xy"!==r&&(t=new n(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(t))},e.prototype.addValues=function(t){var n=this.options.typeOptions,o=n.label.formatter;e.calculations.recalculate.call(this,t),n.label.enabled&&(this.labels.length>0?this.labels[0].text=o&&o.call(this)||e.calculations.defaultFormatter.call(this):this.initLabel(l({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"Dash",overflow:"allow",align:"left",y:0,x:0,verticalAlign:"top",crop:!0,xAxis:0,yAxis:0,point:function(t){var o=t.annotation,e=t.options;return{x:o.xAxisMin,y:o.yAxisMin,xAxis:f(n.xAxis,e.xAxis),yAxis:f(n.yAxis,e.yAxis)}},text:o&&o.call(this)||e.calculations.defaultFormatter.call(this)},n.label),void 0))},e.prototype.addShapes=function(){this.addCrosshairs(),this.addBackground()},e.prototype.addBackground=function(){void 0!==this.shapePointsOptions()[0].x&&this.initShape(l({type:"path",points:this.shapePointsOptions()},this.options.typeOptions.background),2)},e.prototype.addCrosshairs=function(){var t,n,o,e=this.chart,r=this.options.typeOptions,h=this.options.typeOptions.point,c=e.xAxis[r.xAxis],f=e.yAxis[r.yAxis],y=e.inverted,x=c.toPixels(this.xAxisMin),v=c.toPixels(this.xAxisMax),m=f.toPixels(this.yAxisMin),A=f.toPixels(this.yAxisMax),P={point:h,type:"path"},O=[],C=[];y&&(o=x,x=m,m=o,o=v,v=A,A=o),r.crosshairX.enabled&&(O=[["M",x,m+(A-m)/2],["L",v,m+(A-m)/2]]),r.crosshairY.enabled&&(C=[["M",x+(v-x)/2,m],["L",x+(v-x)/2,A]]),this.shapes.length>0?(this.shapes[0].options.d=O,this.shapes[1].options.d=C):(t=d(P,r.crosshairX),n=d(P,r.crosshairY),this.initShape(l({d:O},t),0),this.initShape(l({d:C},n),1))},e.prototype.onDrag=function(t){var n=this.mouseMoveToTranslation(t),o=this.options.typeOptions.selectType,e="y"===o?0:n.x,r="x"===o?0:n.y;this.translate(e,r),this.offsetX+=e,this.offsetY+=r,this.redraw(!1,!1,!0)},e.prototype.resize=function(t,n,o,r){var h=this.shapes[2];"x"===r?0===o?(h.translatePoint(t,0,0),h.translatePoint(t,n,3)):(h.translatePoint(t,0,1),h.translatePoint(t,n,2)):"y"===r?0===o?(h.translatePoint(0,n,0),h.translatePoint(0,n,1)):(h.translatePoint(0,n,2),h.translatePoint(0,n,3)):(h.translatePoint(t,0,1),h.translatePoint(t,n,2),h.translatePoint(0,n,3)),e.calculations.updateStartPoints.call(this,!1,!0,o,t,n),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)},e.prototype.redraw=function(t,n,o){this.linkPoints(),this.graphic||this.render(),o&&e.calculations.updateStartPoints.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(n),this.addCrosshairs(),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),this.controlPoints.forEach((function(t){t.redraw()}))},e.prototype.translate=function(t,n){this.shapes.forEach((function(o){o.translate(t,n)})),this.options.typeOptions.point.x=this.startXMin,this.options.typeOptions.point.y=this.startYMin},e.calculations={init:function(){var t=this.options.typeOptions,n=this.chart,o=e.calculations.getPointPos,r=n.inverted,h=n.xAxis[t.xAxis],l=n.yAxis[t.yAxis],d=t.background,f=r?d.height:d.width,y=r?d.width:d.height,x=t.selectType,v=r?h.left:l.top,m=r?l.top:h.left;this.startXMin=t.point.x,this.startYMin=t.point.y,c(f)?this.startXMax=this.startXMin+f:this.startXMax=o(h,this.startXMin,parseFloat(f)),c(y)?this.startYMax=this.startYMin-y:this.startYMax=o(l,this.startYMin,parseFloat(y)),"x"===x?(this.startYMin=l.toValue(v),this.startYMax=l.toValue(v+l.len)):"y"===x&&(this.startXMin=h.toValue(m),this.startXMax=h.toValue(m+h.len))},recalculate:function(t){var n=e.calculations,o=this.options.typeOptions,r=this.chart.xAxis[o.xAxis],h=this.chart.yAxis[o.yAxis],l=e.calculations.getPointPos,c=this.offsetX,d=this.offsetY;this.xAxisMin=l(r,this.startXMin,c),this.xAxisMax=l(r,this.startXMax,c),this.yAxisMin=l(h,this.startYMin,d),this.yAxisMax=l(h,this.startYMax,d),this.min=n.min.call(this),this.max=n.max.call(this),this.average=n.average.call(this),this.bins=n.bins.call(this),t&&this.resize(0,0)},getPointPos:function(t,n,o){return t.toValue(t.toPixels(n)+o)},updateStartPoints:function(t,n,o,r,h){var l=this.options.typeOptions,c=l.selectType,d=this.chart.xAxis[l.xAxis],f=this.chart.yAxis[l.yAxis],y=e.calculations.getPointPos,x=this.startXMin,v=this.startXMax,m=this.startYMin,A=this.startYMax,P=this.offsetX,O=this.offsetY;n&&("x"===c?0===o?this.startXMin=y(d,x,r):this.startXMax=y(d,v,r):"y"===c?0===o?this.startYMin=y(f,m,h):this.startYMax=y(f,A,h):(this.startXMax=y(d,v,r),this.startYMax=y(f,A,h))),t&&(this.startXMin=y(d,x,P),this.startXMax=y(d,v,P),this.startYMin=y(f,m,O),this.startYMax=y(f,A,O),this.offsetX=0,this.offsetY=0)},defaultFormatter:function(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins},getExtremes:function(t,n,o,e){return{xAxisMin:Math.min(n,t),xAxisMax:Math.max(n,t),yAxisMin:Math.min(e,o),yAxisMax:Math.max(e,o)}},min:function(){var t=1/0,n=this.chart.series,o=e.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),r=!1;return n.forEach((function(n){n.visible&&"highcharts-navigator-series"!==n.options.id&&n.points.forEach((function(n){!n.isNull&&n.y<t&&n.x>o.xAxisMin&&n.x<=o.xAxisMax&&n.y>o.yAxisMin&&n.y<=o.yAxisMax&&(t=n.y,r=!0)}))})),r||(t=""),t},max:function(){var t=-1/0,n=this.chart.series,o=e.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),r=!1;return n.forEach((function(n){n.visible&&"highcharts-navigator-series"!==n.options.id&&n.points.forEach((function(n){!n.isNull&&n.y>t&&n.x>o.xAxisMin&&n.x<=o.xAxisMax&&n.y>o.yAxisMin&&n.y<=o.yAxisMax&&(t=n.y,r=!0)}))})),r||(t=""),t},average:function(){var t="";return""!==this.max&&""!==this.min&&(t=(this.max+this.min)/2),t},bins:function(){var t=0,n=this.chart.series,o=e.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),r=!1;return n.forEach((function(n){n.visible&&"highcharts-navigator-series"!==n.options.id&&n.points.forEach((function(n){!n.isNull&&n.x>o.xAxisMin&&n.x<=o.xAxisMax&&n.y>o.yAxisMin&&n.y<=o.yAxisMax&&(t++,r=!0)}))})),r||(t=""),t}},e}(t);return y.prototype.defaultOptions=d(t.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"11px",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(t){var n,o,e=this.index,r=t.chart,h=t.options,l=h.typeOptions,c=l.selectType,d=h.controlPointOptions,f=r.inverted,x=r.xAxis[l.xAxis],v=r.yAxis[l.yAxis],m=t.xAxisMax,A=t.yAxisMax,P=y.calculations.getExtremes(t.xAxisMin,t.xAxisMax,t.yAxisMin,t.yAxisMax);return"x"===c&&(A=(P.yAxisMax-P.yAxisMin)/2,0===e&&(m=t.xAxisMin)),"y"===c&&(m=P.xAxisMin+(P.xAxisMax-P.xAxisMin)/2,0===e&&(A=t.yAxisMin)),f?(n=v.toPixels(A),o=x.toPixels(m)):(n=x.toPixels(m),o=v.toPixels(A)),{x:n-d.width/2,y:o-d.height/2}},events:{drag:function(t,n){var o=this.mouseMoveToTranslation(t),e=n.options.typeOptions.selectType,r=this.index,h="y"===e?0:o.x,l="x"===e?0:o.y;n.resize(h,l,r,e),n.resizeX+=h,n.resizeY+=l,n.redraw(!1,!0)}}}}),t.types.measure=y,y})),o(n,"Core/Chart/ChartNavigationComposition.js",[],(function(){var t;return function(t){t.compose=function(t){return t.navigation||(t.navigation=new n(t)),t};var n=function(){function t(t){this.updates=[],this.chart=t}return t.prototype.addUpdate=function(t){this.chart.navigation.updates.push(t)},t.prototype.update=function(t,n){var o=this;this.updates.forEach((function(e){e.call(o.chart,t,n)}))},t}();t.Additions=n}(t||(t={})),t})),o(n,"Extensions/Annotations/NavigationBindings.js",[n["Extensions/Annotations/Annotations.js"],n["Core/Chart/Chart.js"],n["Core/Chart/ChartNavigationComposition.js"],n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/DefaultOptions.js"],n["Core/Utilities.js"]],(function(t,n,o,e,r,h,l){var c=e.format,d=h.setOptions,f=l.addEvent,y=l.attr,x=l.fireEvent,v=l.isArray,m=l.isFunction,A=l.isNumber,P=l.isObject,O=l.merge,C=l.objectEach,M=l.pick,E=r.doc,k=r.win,w="highcharts-",T={getFieldType:function(t){return{string:"text",number:"number",boolean:"checkbox"}[typeof t]},updateRectSize:function(t,n){var o=n.chart,e=n.options.typeOptions,r=A(e.xAxis)&&o.xAxis[e.xAxis],h=A(e.yAxis)&&o.yAxis[e.yAxis];if(r&&h){var l=r.toValue(t[r.horiz?"chartX":"chartY"]),c=h.toValue(t[h.horiz?"chartX":"chartY"]),d=l-e.point.x,f=e.point.y-c;n.update({typeOptions:{background:{width:o.inverted?f:d,height:o.inverted?d:f}}})}},getAssignedAxis:function(t){return t.filter((function(t){var n=t.axis.getExtremes(),o=n.min,e=n.max,r=M(t.axis.minPointOffset,0);return A(o)&&A(e)&&t.value>=o-r&&t.value<=e+r&&!t.axis.options.isInternal}))[0]}},j=function(){function t(t,n){this.boundClassNames=void 0,this.selectedButton=void 0,this.chart=t,this.options=n,this.eventsToUnbind=[],this.container=E.getElementsByClassName(this.options.bindingsClassName||"")}return t.prototype.initEvents=function(){var t=this,n=t.chart,o=t.container,e=t.options;t.boundClassNames={},C(e.bindings||{},(function(n){t.boundClassNames[n.className]=n})),[].forEach.call(o,(function(n){t.eventsToUnbind.push(f(n,"click",(function(o){var e=t.getButtonEvents(n,o);e&&-1===e.button.className.indexOf("highcharts-disabled-btn")&&t.bindingsButtonClick(e.button,e.events,o)})))})),C(e.events||{},(function(n,o){m(n)&&t.eventsToUnbind.push(f(t,o,n,{passive:!1}))})),t.eventsToUnbind.push(f(n.container,"click",(function(o){!n.cancelClick&&n.isInsidePlot(o.chartX-n.plotLeft,o.chartY-n.plotTop,{visiblePlotOnly:!0})&&t.bindingsChartClick(this,o)}))),t.eventsToUnbind.push(f(n.container,r.isTouchDevice?"touchmove":"mousemove",(function(n){t.bindingsContainerMouseMove(this,n)}),r.isTouchDevice?{passive:!1}:void 0))},t.prototype.initUpdate=function(){var t=this;o.compose(this.chart).navigation.addUpdate((function(n){t.update(n)}))},t.prototype.bindingsButtonClick=function(button,t,n){var o=this,e=o.chart,r=e.renderer.boxWrapper,h=!0;o.selectedButtonElement&&(o.selectedButtonElement.classList===button.classList&&(h=!1),x(o,"deselectButton",{button:o.selectedButtonElement}),o.nextEvent&&(o.currentUserDetails&&"annotations"===o.currentUserDetails.coll&&e.removeAnnotation(o.currentUserDetails),o.mouseMoveEvent=o.nextEvent=!1)),h?(o.selectedButton=t,o.selectedButtonElement=button,x(o,"selectButton",{button:button}),t.init&&t.init.call(o,button,n),(t.start||t.steps)&&e.renderer.boxWrapper.addClass(w+"draw-mode")):(e.stockTools&&e.stockTools.toggleButtonAciveClass(button),r.removeClass(w+"draw-mode"),o.nextEvent=!1,o.mouseMoveEvent=!1,o.selectedButton=null)},t.prototype.bindingsChartClick=function(t,n){t=this.chart;var o=this,e=o.activeAnnotation,r=o.selectedButton,h=t.renderer.boxWrapper;e&&(e.cancelClick||n.activeAnnotation||!n.target.parentNode||function(t,s){var n=k.Element.prototype,o=n.matches||n.msMatchesSelector||n.webkitMatchesSelector,e=null;if(n.closest)e=n.closest.call(t,s);else do{if(o.call(t,s))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return e}(n.target,"."+w+"popup")?e.cancelClick&&setTimeout((function(){e.cancelClick=!1}),0):x(o,"closePopup")),r&&r.start&&(o.nextEvent?(o.nextEvent(n,o.currentUserDetails),o.steps&&(o.stepIndex++,r.steps[o.stepIndex]?o.mouseMoveEvent=o.nextEvent=r.steps[o.stepIndex]:(x(o,"deselectButton",{button:o.selectedButtonElement}),h.removeClass(w+"draw-mode"),r.end&&r.end.call(o,n,o.currentUserDetails),o.nextEvent=!1,o.mouseMoveEvent=!1,o.selectedButton=null))):(o.currentUserDetails=r.start.call(o,n),o.currentUserDetails&&r.steps?(o.stepIndex=0,o.steps=!0,o.mouseMoveEvent=o.nextEvent=r.steps[o.stepIndex]):(x(o,"deselectButton",{button:o.selectedButtonElement}),h.removeClass(w+"draw-mode"),o.steps=!1,o.selectedButton=null,r.end&&r.end.call(o,n,o.currentUserDetails))))},t.prototype.bindingsContainerMouseMove=function(t,n){this.mouseMoveEvent&&this.mouseMoveEvent(n,this.currentUserDetails)},t.prototype.fieldsToOptions=function(t,n){return C(t,(function(t,o){var e=parseFloat(t),path=o.split("."),r=n,h=path.length-1;!A(e)||t.match(/px/g)||o.match(/format/g)||(t=e),""!==t&&"undefined"!==t&&path.forEach((function(n,o){var e=M(path[o+1],"");h===o?r[n]=t:(r[n]||(r[n]=e.match(/\d/g)?[]:{}),r=r[n])}))})),n},t.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},t.prototype.annotationToFields=function(n){var o=n.options,e=t.annotationsEditable,r=e.nestedOptions,h=this.utils.getFieldType,l=M(o.type,o.shapes&&o.shapes[0]&&o.shapes[0].type,o.labels&&o.labels[0]&&o.labels[0].itemType,"label"),d=t.annotationsNonEditable[o.langKey]||[],f={langKey:o.langKey,type:l};function y(option,t,o,e){var l;o&&option&&-1===d.indexOf(t)&&((o.indexOf&&o.indexOf(t))>=0||o[t]||!0===o)&&(v(option)?(e[t]=[],option.forEach((function(n,i){P(n)?(e[t][i]={},C(n,(function(n,o){y(n,o,r[t],e[t][i])}))):y(n,0,r[t],e[t])}))):P(option)?(l={},v(e)?(e.push(l),l[t]={},l=l[t]):e[t]=l,C(option,(function(n,e){y(n,e,0===t?o:r[t],l)}))):"format"===t?e[t]=[c(option,n.labels[0].points[0]).toString(),"text"]:v(e)?e.push([option,h(option)]):e[t]=[option,h(option)])}return C(o,(function(option,t){"typeOptions"===t?(f[t]={},C(o[t],(function(n,o){y(n,o,r,f[t])}))):y(option,t,e[l],f)})),f},t.prototype.getClickedClassNames=function(t,n){for(var o,element=n.target,e=[];element;)if((o=y(element,"class"))&&(e=e.concat(o.split(" ").map((function(t){return[t,element]})))),(element=element.parentNode)===t)return e;return e},t.prototype.getButtonEvents=function(t,n){var o,e=this;return this.getClickedClassNames(t,n).forEach((function(t){e.boundClassNames[t[0]]&&!o&&(o={events:e.boundClassNames[t[0]],button:t[1]})})),o},t.prototype.update=function(t){this.options=O(!0,this.options,t),this.removeEvents(),this.initEvents()},t.prototype.removeEvents=function(){this.eventsToUnbind.forEach((function(t){t()}))},t.prototype.destroy=function(){this.removeEvents()},t.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},t.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},t}();function S(t){var n=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;O(!0,t.prototype.defaultOptions.events,{click:function(t){var o=this,e=o.chart.navigationBindings,r=e.activeAnnotation;n&&n.call(o,t),r!==o?(e.deselectAnnotation(),e.activeAnnotation=o,o.setControlPointsVisibility(!0),x(e,"showPopup",{annotation:o,formType:"annotation-toolbar",options:e.annotationToFields(o),onSubmit:function(data){var t,n={};"remove"===data.actionType?(e.activeAnnotation=!1,e.chart.removeAnnotation(o)):(e.fieldsToOptions(data.fields,n),e.deselectAnnotation(),t=n.typeOptions,"measure"===o.options.type&&(t.crosshairY.enabled=0!==t.crosshairY.strokeWidth,t.crosshairX.enabled=0!==t.crosshairX.strokeWidth),o.update(n))}})):x(e,"closePopup"),t.activeAnnotation=!0}})}return j.prototype.utils=T,n.prototype.initNavigationBindings=function(){var t=this,n=t.options;n&&n.navigation&&n.navigation.bindings&&(t.navigationBindings=new j(t,n.navigation),t.navigationBindings.initEvents(),t.navigationBindings.initUpdate())},f(n,"load",(function(){this.initNavigationBindings()})),f(n,"destroy",(function(){this.navigationBindings&&this.navigationBindings.destroy()})),f(j,"deselectButton",(function(){this.selectedButtonElement=null})),f(t,"remove",(function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()})),r.Annotation&&(S(t),C(t.types,(function(t){S(t)}))),d({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){var n=this.chart.pointer.getCoordinates(t),o=this.utils.getAssignedAxis(n.xAxis),e=this.utils.getAssignedAxis(n.yAxis),r=this.chart.options.navigation;if(o&&e)return this.chart.addAnnotation(O({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:o.value,y:e.value,xAxis:o.axis.options.index,yAxis:e.axis.options.index},r:5}]},r.annotationsOptions,r.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,n){var o,e=n.options.shapes[0].point;if(A(e.xAxis)&&A(e.yAxis)){var r=this.chart.inverted,h=this.chart.xAxis[e.xAxis].toPixels(e.x),l=this.chart.yAxis[e.yAxis].toPixels(e.y);o=Math.max(Math.sqrt(Math.pow(r?l-t.chartX:h-t.chartX,2)+Math.pow(r?h-t.chartY:l-t.chartY,2)),5)}n.update({shapes:[{r:o}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(t){var n=this.chart.pointer.getCoordinates(t),o=this.utils.getAssignedAxis(n.xAxis),e=this.utils.getAssignedAxis(n.yAxis),r=this.chart.options.navigation;if(o&&e)return this.chart.addAnnotation(O({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:o.axis.options.index,yAxis:e.axis.options.index,points:[{x:o.value,y:e.value},{x:o.value,y:e.value}],ry:1}]},r.annotationsOptions,r.bindings.ellipseAnnotation.annotationOptions))},steps:[function(t,n){var o=n.shapes[0],e=o.getAbsolutePosition(o.points[1]);o.translatePoint(t.chartX-e.x,t.chartY-e.y,1),o.redraw(!1)},function(t,n){var o=n.shapes[0],e=o.getAbsolutePosition(o.points[0]),r=o.getAbsolutePosition(o.points[1]),h=o.getDistanceFromLine(e,r,t.chartX,t.chartY),l=o.getYAxis(),c=Math.abs(l.toValue(0)-l.toValue(h));o.setYRadius(c),o.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){var n=this.chart.pointer.getCoordinates(t),o=this.utils.getAssignedAxis(n.xAxis),e=this.utils.getAssignedAxis(n.yAxis);if(o&&e){var r=o.value,h=e.value,l=o.axis.options.index,c=e.axis.options.index,d=this.chart.options.navigation;return this.chart.addAnnotation(O({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:l,yAxis:c,x:r,y:h},{xAxis:l,yAxis:c,x:r,y:h},{xAxis:l,yAxis:c,x:r,y:h},{xAxis:l,yAxis:c,x:r,y:h},{command:"Z"}]}]},d.annotationsOptions,d.bindings.rectangleAnnotation.annotationsOptions))}},steps:[function(t,n){var o,e,r=n.options.shapes[0].points,h=this.chart.pointer.getCoordinates(t),l=this.utils.getAssignedAxis(h.xAxis),c=this.utils.getAssignedAxis(h.yAxis);l&&c&&(o=l.value,e=c.value,r[1].x=o,r[2].x=o,r[2].y=e,r[3].y=e,n.update({shapes:[{points:r}]}))}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){var n=this.chart.pointer.getCoordinates(t),o=this.utils.getAssignedAxis(n.xAxis),e=this.utils.getAssignedAxis(n.yAxis),r=this.chart.options.navigation;if(o&&e)return this.chart.addAnnotation(O({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:o.axis.options.index,yAxis:e.axis.options.index,x:o.value,y:e.value},overflow:"none",crop:!0}]},r.annotationsOptions,r.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}),f(n,"render",(function(){var t=this,n=t.navigationBindings,o="highcharts-disabled-btn";if(t&&n){var e=!1;t.series.forEach((function(t){!t.options.isInternal&&t.visible&&(e=!0)})),C(n.boundClassNames,(function(n,r){if(t.navigationBindings&&t.navigationBindings.container&&t.navigationBindings.container[0]){var h=t.navigationBindings.container[0].querySelectorAll("."+r);if(h)for(var i=0;i<h.length;i++){var button=h[i],l=button.className;"normal"===n.noDataState||e?-1!==l.indexOf(o)&&button.classList.remove(o):-1===l.indexOf(o)&&(button.className+=" "+o)}}}))}})),f(j,"closePopup",(function(){this.deselectAnnotation()})),j})),o(n,"Extensions/Annotations/Popup.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Globals.js"],n["Extensions/Annotations/NavigationBindings.js"],n["Core/DefaultOptions.js"],n["Core/Pointer.js"],n["Core/Utilities.js"]],(function(t,n,o,e,r,h){var l,c=n.doc,d=n.isFirefox,f=e.getOptions,y=h.addEvent,x=h.createElement,v=h.defined,m=h.fireEvent,A=h.isArray,P=h.isObject,O=h.objectEach,C=h.pick,M=h.stableSort,E=h.wrap,k=/\d/g,w="highcharts-",T="div",j="input",S="label",B="select",L="option",_="span";!function(t){t[t["params.algorithm"]=0]="params.algorithm",t[t["params.average"]=1]="params.average"}(l||(l={}));var N={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};return E(r.prototype,"onContainerMouseDown",(function(t,n){this.inClass(n.target,w+"popup")||t.apply(this,Array.prototype.slice.call(arguments,1))})),n.Popup=function(t,n,o){this.init(t,n,o)},n.Popup.prototype={init:function(t,o,e){this.chart=e,this.container=x(T,{className:w+"popup highcharts-no-tooltip"},void 0,t),y(this.container,"mousedown",(function(){var t=e&&e.navigationBindings&&e.navigationBindings.activeAnnotation;if(t){t.cancelClick=!0;var o=y(n.doc,"click",(function(){setTimeout((function(){t.cancelClick=!1}),0),o()}))}})),this.lang=this.getLangpack(),this.iconsURL=o,this.addCloseBtn()},addCloseBtn:function(){var t,n=this,o=this.iconsURL;(t=x(T,{className:w+"popup-close"},void 0,this.container)).style["background-image"]="url("+(o.match(/png|svg|jpeg|jpg|gif/gi)?o:o+"close.svg")+")",["click","touchstart"].forEach((function(o){y(t,o,(function(){n.chart?m(n.chart.navigationBindings,"closePopup"):n.closePopup()}))}))},addColsContainer:function(t){var n,o;return o=x(T,{className:w+"popup-lhs-col"},void 0,t),n=x(T,{className:w+"popup-rhs-col"},void 0,t),x(T,{className:w+"popup-rhs-col-wrapper"},void 0,n),{lhsCol:o,rhsCol:n}},addInput:function(option,t,n,o){var input,e=option.split("."),r=e[e.length-1],h=this.lang,l=w+t+"-"+C(o.htmlFor,r);return l.match(k)||x(S,{htmlFor:l,className:o.labelClassName},void 0,n).appendChild(c.createTextNode(h[r]||r)),(input=x(j,{name:l,value:o.value,type:o.type,className:w+"popup-field"},void 0,n)).setAttribute(w+"data-name",option),input},addButton:function(t,label,n,o,e){var button,r=this,h=this.closePopup,l=this.getFields;return(button=x("button",void 0,void 0,t)).appendChild(c.createTextNode(label)),e&&["click","touchstart"].forEach((function(t){y(button,t,(function(){return h.call(r),e(l(o,n))}))})),button},getFields:function(t,n){var o,e=Array.prototype.slice.call(t.querySelectorAll(j)),r=Array.prototype.slice.call(t.querySelectorAll(B)),h=t.querySelectorAll("#highcharts-select-series > option:checked")[0],l=t.querySelectorAll("#highcharts-select-volume > option:checked")[0];return o={actionType:n,linkedTo:h&&h.getAttribute("value")||"",fields:{}},e.forEach((function(input){var param=input.getAttribute(w+"data-name");input.getAttribute(w+"data-series-id")?o.seriesId=input.value:param?o.fields[param]=input.value:o.type=input.value})),r.forEach((function(select){var t=select.id;if(t!==w+"select-series"&&t!==w+"select-volume"){var n=t.split("highcharts-select-")[1];o.fields[n]=select.value}})),l&&(o.fields["params.volumeSeriesID"]=l.getAttribute("value")||""),o},showPopup:function(){var n=this.container,o=w+"annotation-toolbar",e=n.querySelectorAll("."+w+"popup-close")[0];this.formType=void 0,n.innerHTML=t.emptyHTML,n.className.indexOf(o)>=0&&(n.classList.remove(o),n.removeAttribute("style")),n.appendChild(e),n.style.display="block",n.style.height=""},closePopup:function(){C(this.popup&&this.popup.container,this.container).style.display="none"},showForm:function(t,n,o,e){n&&(this.popup=n.navigationBindings.popup,this.showPopup(),"indicators"===t&&this.indicators.addForm.call(this,n,o,e),"annotation-toolbar"===t&&this.annotations.addToolbar.call(this,n,o,e),"annotation-edit"===t&&this.annotations.addForm.call(this,n,o,e),"flag"===t&&this.annotations.addForm.call(this,n,o,e,!0),this.formType=t,this.container.style.height=this.container.offsetHeight+"px")},getLangpack:function(){return f().lang.navigation.popup},annotations:{addToolbar:function(t,n,o){var button,e=this,r=this.lang,h=this.popup.container,l=this.showForm,d=w+"annotation-toolbar";-1===h.className.indexOf(d)&&(h.className+=" "+d),t&&(h.style.top=t.plotTop+10+"px"),x(_,void 0,void 0,h).appendChild(c.createTextNode(C(r[n.langKey]||n.langKey,n.shapes&&n.shapes[0].type))),(button=this.addButton(h,r.removeButton||"remove","remove",h,o)).className+=" "+w+"annotation-remove-button",button.style["background-image"]="url("+this.iconsURL+"destroy.svg)",(button=this.addButton(h,r.editButton||"edit","edit",h,(function(){l.call(e,"annotation-edit",t,n,o)}))).className+=" "+w+"annotation-edit-button",button.style["background-image"]="url("+this.iconsURL+"edit.svg)"},addForm:function(t,n,o,e){var r,h,l=this.popup.container,d=this.lang;t&&((h=x("h2",{className:w+"popup-main-title"},void 0,l)).appendChild(c.createTextNode(d[n.langKey]||n.langKey||"")),h=x(T,{className:w+"popup-lhs-col "+w+"popup-lhs-full"},void 0,l),r=x(T,{className:w+"popup-bottom-row"},void 0,l),this.annotations.addFormFields.call(this,h,t,"",n,[],!0),this.addButton(r,e?d.addButton||"add":d.saveButton||"save",e?"add":"save",l,o))},addFormFields:function(t,n,o,e,r,h){var l,f,y=this,v=this.annotations.addFormFields,m=this.addInput,C=this.lang;n&&(O(e,(function(e,option){l=""!==o?o+"."+option:option,P(e)&&(!A(e)||A(e)&&P(e[0])?((f=C[option]||option).match(k)||r.push([!0,f,t]),v.call(y,t,n,l,e,r,!1)):r.push([y,l,"annotation",t,e]))})),h&&(M(r,(function(a){return a[1].match(/format/g)?-1:1})),d&&r.reverse(),r.forEach((function(t){!0===t[0]?x(_,{className:w+"annotation-title"},void 0,t[2]).appendChild(c.createTextNode(t[1])):(t[4]={value:t[4][0],type:t[4][1]},m.apply(t[0],t.splice(1)))}))))}},indicators:{addForm:function(t,n,o){var e,r,h=this.indicators,l=this.lang;t&&(this.tabs.init.call(this,t),e=this.popup.container.querySelectorAll("."+w+"tab-item-content"),this.addColsContainer(e[0]),h.addSearchBox.call(this,t,e[0]),h.addIndicatorList.call(this,t,e[0],"add"),r=e[0].querySelectorAll("."+w+"popup-rhs-col")[0],this.addButton(r,l.addButton||"add","add",r,o),this.addColsContainer(e[1]),h.addIndicatorList.call(this,t,e[1],"edit"),r=e[1].querySelectorAll("."+w+"popup-rhs-col")[0],this.addButton(r,l.saveButton||"save","edit",r,o),this.addButton(r,l.removeButton||"remove","remove",r,o))},filterSeries:function(t,filter){var n,o=this,e=o.indicators,r=o.chart&&o.chart.options.lang,h=r&&r.navigation&&r.navigation.popup&&r.navigation.popup.indicatorAliases,l=[];return O(t,(function(t,o){var r=t.options;if(t.params||r&&r.params){var c=e.getNameType(t,o),d=c.indicatorFullName,f=c.indicatorType;if(filter){var y=filter.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),x=new RegExp(y,"i"),v=h&&h[f]&&h[f].join(" ")||"";(d.match(x)||v.match(x))&&(n={indicatorFullName:d,indicatorType:f,series:t},l.push(n))}else n={indicatorFullName:d,indicatorType:f,series:t},l.push(n)}})),l},filterSeriesArray:function(t){var n,o=[];return t.forEach((function(t){t.options,t.is("sma")&&(n={indicatorFullName:t.name,indicatorType:t.type,series:t},o.push(n))})),o},addIndicatorList:function(n,o,e,filter){var r=this,h=r.indicators,l=r.lang,d=o.querySelectorAll("."+w+"popup-lhs-col")[0],f=o.querySelectorAll("."+w+"popup-rhs-col")[0],v="edit"===e,m=this.indicators.addFormFields,P=v?n.series:n.options.plotOptions||{};if(n||!P){var O,C,E,k=[];v||A(P)?A(P)&&(k=h.filterSeriesArray.call(this,P)):k=h.filterSeries.call(this,P,filter),M(k,(function(a,b){var t=a.indicatorFullName.toLowerCase(),n=b.indicatorFullName.toLowerCase();return t<n?-1:t>n?1:0})),d.children[1]&&d.children[1].remove(),C=x("ul",{className:w+"indicator-list"},void 0,d),O=f.querySelectorAll("."+w+"popup-rhs-col-wrapper")[0],k.forEach((function(t){var o=t.indicatorFullName,e=t.indicatorType,h=t.series;(E=x("li",{className:w+"indicator-list"},void 0,C)).appendChild(c.createTextNode(o)),["click","touchstart"].forEach((function(t){y(E,t,(function(){var button=O.parentNode.children[1];m.call(r,n,h,e,O),button&&(button.style.display="block"),v&&h.options&&x(j,{type:"hidden",name:w+"id-"+e,value:h.options.id},void 0,O).setAttribute(w+"data-series-id",h.options.id)}))}))})),C.childNodes.length>0?C.childNodes[0].click():v||(t.setElementHTML(O.parentNode.children[0],l.noFilterMatch||""),O.parentNode.children[1].style.display="none")}},addSearchBox:function(t,n){var o=this,e=n.querySelectorAll("."+w+"popup-lhs-col")[0],r=this.lang.clearFilter,h=x(T,{className:"highcharts-input-wrapper"},void 0,e),l=function(n){o.indicators.addIndicatorList.call(o,t,o.container,"add",n)},input=this.addInput("searchIndicators",j,h,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),button=x("a",{textContent:r},void 0,h);input.classList.add("highcharts-input-search-indicators"),button.classList.add("clear-filter-button"),y(input,"input",(function(t){l(this.value),this.value.length?button.style.display="inline-block":button.style.display="none"})),["click","touchstart"].forEach((function(t){y(button,t,(function(){input.value="",l(""),button.style.display="none"}))}))},addSelection:function(t,n,o){var e,r=n.split("."),h=r[r.length-1],l=w+n+"-type-"+t,d=this.lang;return x(S,{htmlFor:l},null,o).appendChild(c.createTextNode(d[h]||n)),(e=x(B,{name:l,className:w+"popup-field",id:w+"select-"+n},null,o)).setAttribute("id",w+"select-"+n),e},addSelectionOptions:function(t,n,o,e,r,h,l){"series"===n||"volume"===n?t.series.forEach((function(t){var e=t.options,r=e.name||e.params?t.name:e.id||"";e.id!==w+"navigator-series"&&e.id!==(l&&l.options&&l.options.id)&&(v(h)||"volume"!==n||"column"!==t.type||(h=e.id),x(L,{value:e.id},void 0,o).appendChild(c.createTextNode(r)))})):e&&r&&N[r+"-"+e].forEach((function(element){x(L,{value:element},void 0,o).appendChild(c.createTextNode(element))})),v(h)&&(o.value=h)},getNameType:function(t,o){var e=t.options,r=n.seriesTypes,h=r[o]&&r[o].prototype.nameBase||o.toUpperCase(),l=o;return e&&e.type&&(l=t.options.type,h=t.name),{indicatorFullName:h,indicatorType:l}},listAllSeries:function(t,n,o,e,r,h){var l=this,c=l.indicators;if(o){var d=c.addSelection.call(l,t,n,e);c.addSelectionOptions.call(l,o,n,d,void 0,void 0,void 0,r),v(h)&&(d.value=h)}},addFormFields:function(n,o,e,r){var h=o.params||o.options.params,l=this.indicators.getNameType;r.innerHTML=t.emptyHTML,x("h3",{className:w+"indicator-title"},void 0,r).appendChild(c.createTextNode(l(o,e).indicatorFullName)),x(j,{type:"hidden",name:w+"type-"+e,value:e},void 0,r),this.indicators.listAllSeries.call(this,e,"series",n,r,o,o.linkedParent&&o.linkedParent.options.id),h.volumeSeriesID&&this.indicators.listAllSeries.call(this,e,"volume",n,r,o,o.linkedParent&&h.volumeSeriesID),this.indicators.addParamInputs.call(this,n,"params",h,e,r)},addParamInputs:function(t,n,o,e,r){var h,c=this,d=c.indicators,f=this.indicators.addParamInputs,y=this.addInput;t&&O(o,(function(o,x){if(h=n+"."+x,v(o)&&h)if(P(o)&&(y.call(c,h,e,r,{}),f.call(c,t,h,o,e,r)),h in l){var m=d.addSelection.call(c,e,h,r);d.addSelectionOptions.call(c,t,n,m,e,x,o)}else"params.volumeSeriesID"===h||A(o)||y.call(c,h,e,r,{value:o,type:"text"})}))},getAmount:function(){var t=this.series,n=0;return t.forEach((function(t){var o=t.options;(t.params||o&&o.params)&&n++})),n}},tabs:{init:function(t){var n,o=this.tabs,e=this.indicators.getAmount.call(t);t&&(n=o.addMenuItem.call(this,"add"),o.addMenuItem.call(this,"edit",e),o.addContentItem.call(this,"add"),o.addContentItem.call(this,"edit"),o.switchTabs.call(this,e),o.selectTab.call(this,n,0))},addMenuItem:function(t,n){var o,e=this.popup.container,r=w+"tab-item",h=this.lang;return 0===n&&(r+=" "+w+"tab-disabled"),(o=x(_,{className:r},void 0,e)).appendChild(c.createTextNode(h[t+"Button"]||t)),o.setAttribute(w+"data-tab-type",t),o},addContentItem:function(){var t=this.popup.container;return x(T,{className:w+"tab-item-content "+w+"no-mousewheel"},void 0,t)},switchTabs:function(t){var n=this;this.popup.container.querySelectorAll("."+w+"tab-item").forEach((function(o,i){"edit"===o.getAttribute(w+"data-tab-type")&&0===t||["click","touchstart"].forEach((function(t){y(o,t,(function(){n.tabs.deselectAll.call(n),n.tabs.selectTab.call(n,this,i)}))}))}))},selectTab:function(t,n){var o=this.popup.container.querySelectorAll("."+w+"tab-item-content");t.className+=" "+w+"tab-item-active",o[n].className+=" "+w+"tab-item-show"},deselectAll:function(){var i,t=this.popup.container,n=t.querySelectorAll("."+w+"tab-item"),o=t.querySelectorAll("."+w+"tab-item-content");for(i=0;i<n.length;i++)n[i].classList.remove(w+"tab-item-active"),o[i].classList.remove(w+"tab-item-show")}}},y(o,"showPopup",(function(t){this.popup||(this.popup=new n.Popup(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/9.3.2/gfx/stock-icons/",this.chart)),this.popup.showForm(t.formType,this.chart,t.options,t.onSubmit)})),y(o,"closePopup",(function(){this.popup&&this.popup.closePopup()})),n.Popup})),o(n,"masters/modules/annotations-advanced.src.js",[],(function(){}))},t.exports?(h.default=h,t.exports=h):(e=[o(131)],void 0===(r=function(t){return h(t),h.Highcharts=t,h}.apply(n,e))||(t.exports=r))}}]);