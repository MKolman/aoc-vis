/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[150],{371:function(t,e,o){"use strict";var n,r,l;l=function(t){var e=t?t._modules:{};function o(t,path,e,o){t.hasOwnProperty(path)||(t[path]=o.apply(null,e))}o(e,"Series/DrawPointComposition.js",[],(function(){var t;return function(t){var e=[];function o(t){var e=this,o=t.animatableAttribs,n=t.onComplete,r=t.css,l=t.renderer,c=this.series&&this.series.chart.hasRendered?void 0:this.series&&this.series.options.animation,d=this.graphic;if(t.attribs=t.attribs||{},t.attribs.class=this.getClassName(),this.shouldDraw())d||(this.graphic=d=l[t.shapeType](t.shapeArgs).add(t.group)),d.css(r).attr(t.attribs).animate(o,!t.isNew&&c,n);else if(d){var h=function(){e.graphic=d=d&&d.destroy(),"function"==typeof n&&n()};Object.keys(o).length?d.animate(o,void 0,(function(){h()})):h()}}function n(){return!this.isNull}t.compose=function(t){if(-1===e.indexOf(t)){e.push(t);var r=t.prototype;r.draw=o,r.shouldDraw||(r.shouldDraw=n)}return t}}(t||(t={})),t})),o(e,"Series/Wordcloud/WordcloudPoint.js",[e["Series/DrawPointComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,o){var n,r=this&&this.__extends||(n=function(t,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},n(t,b)},function(t,b){function e(){this.constructor=t}n(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),l=e.seriesTypes.column,c=o.extend,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dimensions=void 0,e.options=void 0,e.polygon=void 0,e.rect=void 0,e.series=void 0,e}return r(e,t),e.prototype.isValid=function(){return!0},e}(l.prototype.pointClass);return c(d.prototype,{weight:1}),t.compose(d),d})),o(e,"Series/Wordcloud/WordcloudUtils.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){var o=t.deg2rad,n=e.extend,r=e.find,l=e.isNumber,c=e.isObject,d=e.merge;function h(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function f(polygon){var t=polygon.axes||[];return t.length||(t=[],polygon.concat([polygon[0]]).reduce((function(e,o){var n=function(t,e){var o=e[0]-t[0],n=e[1]-t[1];return[[-n,o],[n,-o]]}(e,o),l=n[0];return r(t,(function(t){return t[0]===l[0]&&t[1]===l[1]}))||t.push(l),o})),polygon.axes=t),t}function m(polygon,t){var e=polygon.map((function(e){var o=e[0],n=e[1];return o*t[0]+n*t[1]}));return{min:Math.min.apply(this,e),max:Math.max.apply(this,e)}}function y(t,e){var o=f(t),n=f(e),l=o.concat(n),c=!r(l,(function(o){return function(t,e,o){var n=m(e,t),r=m(o,t);return!!(r.min>n.max||r.max<n.min)}(o,t,e)}));return c}function x(t,e){var o=!1,rect=t.rect,polygon=t.polygon,n=t.lastCollidedWith,l=function(p){var e=h(rect,p.rect);return e&&(t.rotation%90||p.rotation%90)&&(e=y(polygon,p.polygon)),e};return n&&((o=l(n))||delete t.lastCollidedWith),o||(o=!!r(e,(function(p){var e=l(p);return e&&(t.lastCollidedWith=p),e}))),o}function v(t,e){var a=4*t,o=Math.ceil((Math.sqrt(a)-1)/2),n=2*o+1,r=Math.pow(n,2),l=function(t){return"boolean"==typeof t},c=!1;return n-=1,t<=1e4&&(l(c)&&a>=r-n&&(c={x:o-(r-a),y:-o}),r-=n,l(c)&&a>=r-n&&(c={x:-o,y:r-a-o}),r-=n,l(c)&&(c=a>=r-n?{x:r-a-o,y:o}:{x:o,y:o-(r-a-n)}),c.x*=5,c.y*=5),c}function w(rect,t){var e=-t.width/2,o=t.width/2,n=-t.height/2,r=t.height/2;return!(e<rect.left&&o>rect.right&&n<rect.top&&r>rect.bottom)}function S(t,e,polygon){return polygon.map((function(o){return[o[0]+t,o[1]+e]}))}function M(t,e){var p=l(e)?e:14,o=Math.pow(10,p);return Math.round(t*o)/o}function P(t,e){var n=t[0],r=t[1],l=o*-e,c=Math.cos(l),d=Math.sin(l);return[M(n*c-r*d),M(n*d+r*c)]}function A(t,e,o){var n=P([t[0]-e[0],t[1]-e[1]],o);return[n[0]+e[0],n[1]+e[1]]}return{archimedeanSpiral:function(t,e){var o=e.field,n=!1,r=o.width*o.width+o.height*o.height,l=.8*t;return t<=1e4&&(n={x:l*Math.cos(l),y:l*Math.sin(l)},Math.min(Math.abs(n.x),Math.abs(n.y))<r||(n=!1)),n},extendPlayingField:function(t,e){var o,n,r,l,h,f,m,y;return c(t)&&c(e)?(o=e.bottom-e.top,f=(h=(n=e.right-e.left)*(r=t.ratioX)>o*(l=t.ratioY)?n:o)*r,m=h*l,y=d(t,{width:t.width+2*f,height:t.height+2*m})):y=t,y},getBoundingBoxFromPolygon:function(t){return t.reduce((function(t,e){var o=e[0],n=e[1];return t.left=Math.min(o,t.left),t.right=Math.max(o,t.right),t.bottom=Math.max(n,t.bottom),t.top=Math.min(n,t.top),t}),{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(t,e,data){var o=data.reduce((function(t,e){var o=e.dimensions,n=Math.max(o.width,o.height);return t.maxHeight=Math.max(t.maxHeight,o.height),t.maxWidth=Math.max(t.maxWidth,o.width),t.area+=n*n,t}),{maxHeight:0,maxWidth:0,area:0}),n=Math.max(o.maxHeight,o.maxWidth,.85*Math.sqrt(o.area)),r=t>e?t/e:1,l=e>t?e/t:1;return{width:n*r,height:n*l,ratioX:r,ratioY:l}},getPolygon:function(t,e,o,n,r){var l=[t,e],c=t-o/2,d=t+o/2,h=e-n/2,f=e+n/2;return[[c,h],[d,h],[d,f],[c,f]].map((function(t){return A(t,l,-r)}))},getRandomPosition:function(t){return Math.round(t*(Math.random()+.5)/2)},getRotation:function(t,e,o,n){var r=!1;return l(t)&&l(e)&&l(o)&&l(n)&&t>0&&e>-1&&n>o&&(r=o+e%t*((n-o)/(t-1||1))),r},getScale:function(t,e,o){var n=2*Math.max(Math.abs(o.top),Math.abs(o.bottom)),r=2*Math.max(Math.abs(o.left),Math.abs(o.right)),l=r>0?1/r*t:1,c=n>0?1/n*e:1;return Math.min(l,c)},getSpiral:function(t,e){var i,o=[];for(i=1;i<1e4;i++)o.push(t(i,e));return function(t){return t<=1e4&&o[t-1]}},intersectionTesting:function(t,e){var o=e.placed,r=e.field,l=e.rectangle,polygon=e.polygon,d=e.spiral,h=1,f={x:0,y:0},rect=t.rect=n({},l);for(t.polygon=polygon,t.rotation=e.rotation;!1!==f&&(x(t,o)||w(rect,r));)f=d(h),c(f)&&(rect.left=l.left+f.x,rect.right=l.right+f.x,rect.top=l.top+f.y,rect.bottom=l.bottom+f.y,t.polygon=S(f.x,f.y,polygon)),h++;return f},isPolygonsColliding:y,isRectanglesIntersecting:h,rectangularSpiral:function(t,e){var o=v(t),n=e.field;return o&&(o.x*=n.ratioX,o.y*=n.ratioY),o},rotate2DToOrigin:P,rotate2DToPoint:A,squareSpiral:v,updateFieldBoundaries:function(t,e){return(!l(t.left)||t.left>e.left)&&(t.left=e.left),(!l(t.right)||t.right<e.right)&&(t.right=e.right),(!l(t.top)||t.top>e.top)&&(t.top=e.top),(!l(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}}})),o(e,"Series/Wordcloud/WordcloudSeries.js",[e["Core/Globals.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Series/Wordcloud/WordcloudPoint.js"],e["Series/Wordcloud/WordcloudUtils.js"]],(function(t,e,o,n,r,l){var c,d=this&&this.__extends||(c=function(t,b){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},c(t,b)},function(t,b){function e(){this.constructor=t}c(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),h=t.noop,f=o.seriesTypes.column,m=n.extend,y=n.isArray,x=n.isNumber,v=n.isObject,w=n.merge,S=l.archimedeanSpiral,M=l.extendPlayingField,P=l.getBoundingBoxFromPolygon,A=l.getPlayingField,_=l.getPolygon,j=l.getRandomPosition,F=l.getRotation,W=l.getScale,C=l.getSpiral,O=l.intersectionTesting,T=l.isPolygonsColliding,D=l.rectangularSpiral,z=l.rotate2DToOrigin,N=l.rotate2DToPoint,X=l.squareSpiral,B=l.updateFieldBoundaries,R=function(o){function n(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return d(n,o),n.prototype.bindAxes=function(){var t={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]};e.prototype.bindAxes.call(this),m(this.yAxis.options,t),m(this.xAxis.options,t)},n.prototype.pointAttribs=function(e,o){var n=t.seriesTypes.column.prototype.pointAttribs.call(this,e,o);return delete n.stroke,delete n["stroke-width"],n},n.prototype.deriveFontSize=function(t,e,o){var n=x(t)?t:0,r=x(e)?e:1,l=x(o)?o:1;return Math.floor(Math.max(l,n*r))},n.prototype.drawPoints=function(){var t,e,o,n=this,r=n.hasRendered,l=n.xAxis,c=n.yAxis,d=n.chart,h=n.group,f=n.options,y=f.animation,w=f.allowExtendPlayingField,S=d.renderer,j=S.text().add(h),F=[],T=n.placementStrategy[f.placementStrategy],D=f.rotation,z=n.points.map((function(p){return p.weight})),N=Math.max.apply(null,z),data=n.points.concat().sort((function(a,b){return b.weight-a.weight}));n.group.attr({scaleX:1,scaleY:1}),data.forEach((function(t){var e,o=1/N*t.weight,r=n.deriveFontSize(o,f.maxFontSize,f.minFontSize),l=m({fontSize:r+"px"},f.style);j.css(l).attr({x:0,y:0,text:t.name}),e=j.getBBox(!0),t.dimensions={height:e.height,width:e.width}})),o=A(l.len,c.len,data),t=C(n.spirals[f.spiral],{field:o}),data.forEach((function(e){var animate,l=1/N*e.weight,c=n.deriveFontSize(l,f.maxFontSize,f.minFontSize),d=m({fontSize:c+"px"},f.style),A=T(e,{data:data,field:o,placed:F,rotation:D}),j=m(n.pointAttribs(e,e.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:A.x,y:A.y,text:e.name,rotation:x(A.rotation)?A.rotation:void 0}),polygon=_(A.x,A.y,e.dimensions.width,e.dimensions.height,A.rotation),W=P(polygon),C=O(e,{rectangle:W,polygon:polygon,field:o,placed:F,spiral:t,rotation:A.rotation});!C&&w&&(o=M(o,W),C=O(e,{rectangle:W,polygon:polygon,field:o,placed:F,spiral:t,rotation:A.rotation})),v(C)?(j.x=(j.x||0)+C.x,j.y=(j.y||0)+C.y,W.left+=C.x,W.right+=C.x,W.top+=C.y,W.bottom+=C.y,o=B(o,W),F.push(e),e.isNull=!1,e.isInside=!0):e.isNull=!0,y&&(animate={x:j.x,y:j.y},r?(delete j.x,delete j.y):(j.x=0,j.y=0)),e.draw({animatableAttribs:animate,attribs:j,css:d,group:h,renderer:S,shapeArgs:void 0,shapeType:"text"})})),j=j.destroy(),e=W(l.len,c.len,o),n.group.attr({scaleX:e,scaleY:e})},n.prototype.hasData=function(){var t=this;return v(t)&&!0===t.visible&&y(t.points)&&t.points.length>0},n.prototype.getPlotBox=function(){var t=this,e=t.chart,o=e.inverted,n=t[o?"yAxis":"xAxis"],r=t[o?"xAxis":"yAxis"],l=n?n.len:e.plotWidth,c=r?r.len:e.plotHeight;return{translateX:(n?n.left:e.plotLeft)+l/2,translateY:(r?r.top:e.plotTop)+c/2,scaleX:1,scaleY:1}},n.defaultOptions=w(f.defaultOptions,{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.weight}</b><br/>'}}),n}(f);return m(R.prototype,{animate:h,animateDrilldown:h,animateDrillupFrom:h,pointClass:r,setClip:h,placementStrategy:{random:function(t,e){var o=e.field,n=e.rotation;return{x:j(o.width)-o.width/2,y:j(o.height)-o.height/2,rotation:F(n.orientations,t.index,n.from,n.to)}},center:function(t,e){var o=e.rotation;return{x:0,y:0,rotation:F(o.orientations,t.index,o.from,o.to)}}},pointArrayMap:["weight"],spirals:{archimedean:S,rectangular:D,square:X},utils:{extendPlayingField:M,getRotation:F,isPolygonsColliding:T,rotate2DToOrigin:z,rotate2DToPoint:N}}),o.registerSeriesType("wordcloud",R),R})),o(e,"masters/modules/wordcloud.src.js",[],(function(){}))},t.exports?(l.default=l,t.exports=l):(n=[o(131)],void 0===(r=function(t){return l(t),l.Highcharts=t,l}.apply(e,n))||(t.exports=r))}}]);