/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{245:function(t,e,n){"use strict";var o,r,c;c=function(t){var e=t?t._modules:{};function n(t,path,e,n){t.hasOwnProperty(path)||(t[path]=n.apply(null,e))}n(e,"Accessibility/A11yI18n.js",[e["Core/FormatUtilities.js"],e["Core/Utilities.js"]],(function(t,e){var n,o=t.format,r=e.pick;return function(t){var e=[];function n(t,e,n){var c,l,h=function(t,e){var n=t.slice(e||0),o=n.indexOf("{"),r=n.indexOf("}");if(o>-1&&r>o)return{statement:n.substring(o+1,r),begin:e+o+1,end:e+r}},d=[],cursor=0;do{c=h(t,cursor),(l=t.substring(cursor,c&&c.begin-1)).length&&d.push({value:l,type:"constant"}),c&&d.push({value:c.statement,type:"statement"}),cursor=c?c.end+1:cursor+1}while(c);return d.forEach((function(t){"statement"===t.type&&(t.value=function(t,e){var n,o,c,l=t.indexOf("#each("),h=t.indexOf("#plural("),d=t.indexOf("["),m=t.indexOf("]");if(l>-1){var f=t.slice(l).indexOf(")")+l,y=t.substring(0,l),v=t.substring(f+1),x=t.substring(l+6,f).split(","),A=Number(x[1]),w=void 0;if(o="",n=e[x[0]]){w=(A=isNaN(A)?n.length:A)<0?n.length+A:Math.min(A,n.length);for(var i=0;i<w;++i)o+=y+n[i]+v}return o.length?o:""}if(h>-1){var C=t.slice(h).indexOf(")")+h,T=t.substring(h+8,C).split(",");switch(Number(e[T[0]])){case 0:o=r(T[4],T[1]);break;case 1:o=r(T[2],T[1]);break;case 2:o=r(T[3],T[1]);break;default:o=T[1]}return o?(c=o).trim&&c.trim()||c.replace(/^\s+|\s+$/g,""):""}if(d>-1){var E=t.substring(0,d),S=Number(t.substring(d+1,m)),P=void 0;return n=e[E],!isNaN(S)&&n&&(S<0?void 0===(P=n[n.length+S])&&(P=n[0]):void 0===(P=n[S])&&(P=n[n.length-1])),void 0!==P?P:""}return"{"+t+"}"}(t.value,e))})),o(d.reduce((function(t,e){return t+e.value}),""),e,n)}function c(t,e){for(var o=t.split("."),r=this.options.lang,i=0;i<o.length;++i)r=r&&r[o[i]];return"string"==typeof r?n(r,e,this):""}t.compose=function(t){return-1===e.indexOf(t)&&(e.push(t),t.prototype.langFormat=c),t},t.i18nFormat=n}(n||(n={})),n})),n(e,"Accessibility/Utils/HTMLUtilities.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){var n=t.doc,o=t.win,r=e.css;function c(t){if("function"==typeof o.MouseEvent)return new o.MouseEvent(t.type,t);if(n.createEvent){var e=n.createEvent("MouseEvent");if(e.initMouseEvent)return e.initMouseEvent(t.type,t.bubbles,t.cancelable,t.view||o,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),e}return l(t.type)}function l(t,e){var r=e||{x:0,y:0};if("function"==typeof o.MouseEvent)return new o.MouseEvent(t,{bubbles:!0,cancelable:!0,composed:!0,view:o,detail:"click"===t?1:0,screenX:r.x,screenY:r.y,clientX:r.x,clientY:r.y});if(n.createEvent){var c=n.createEvent("MouseEvent");if(c.initMouseEvent)return c.initMouseEvent(t,!0,!0,o,"click"===t?1:0,r.x,r.y,r.x,r.y,!1,!1,!1,!1,0,null),c}return{type:t}}return{addClass:function(t,e){t.classList?t.classList.add(e):t.className.indexOf(e)<0&&(t.className+=" "+e)},cloneMouseEvent:c,cloneTouchEvent:function(t){var e=function(t){for(var e=[],i=0;i<t.length;++i){var n=t.item(i);n&&e.push(n)}return e};if("function"==typeof o.TouchEvent){var n=new o.TouchEvent(t.type,{touches:e(t.touches),targetTouches:e(t.targetTouches),changedTouches:e(t.changedTouches),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed,detail:t.detail,view:t.view});return t.defaultPrevented&&n.preventDefault(),n}var r=c(t);return r.touches=t.touches,r.changedTouches=t.changedTouches,r.targetTouches=t.targetTouches,r},escapeStringForHTML:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(t){return n.getElementById(t)},getFakeMouseEvent:l,getHeadingTagNameForElement:function(element){var t=function(t){var e=parseInt(t.slice(1),10);return"h"+Math.min(6,e+1)},e=function(t){return/H[1-6]/.test(t)},n=function(o){var r=function(t){for(var n=t;n=n.previousSibling;){var o=n.tagName||"";if(e(o))return o}return""}(o);if(r)return t(r);var c=o.parentElement;if(!c)return"p";var l=c.tagName;return e(l)?t(l):n(c)};return n(element)},removeChildNodes:function(element){for(;element.lastChild;)element.removeChild(element.lastChild)},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp(e,"g"),"")},removeElement:function(element){element&&element.parentNode&&element.parentNode.removeChild(element)},reverseChildNodes:function(t){for(var i=t.childNodes.length;i--;)t.appendChild(t.childNodes[i])},stripHTMLTagsFromString:function(t){return"string"==typeof t?t.replace(/<\/?[^>]+(>|$)/g,""):t},visuallyHideElement:function(element){r(element,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}})),n(e,"Accessibility/Utils/ChartUtilities.js",[e["Core/Globals.js"],e["Accessibility/Utils/HTMLUtilities.js"],e["Core/Utilities.js"]],(function(t,e,n){var o=t.doc,r=e.stripHTMLTagsFromString,c=n.defined,l=n.find,h=n.fireEvent;function d(t){if(t.points&&t.points.length){var e=l(t.points,(function(p){return!!p.graphic}));return e&&e.graphic&&e.graphic.element}}function m(t){var e=d(t);return e&&e.parentNode||t.graph&&t.graph.element||t.group&&t.group.element}var f={fireEventOnWrappedOrUnwrappedElement:function t(e,n){var r=n.type,c=e.hcEvents;o.createEvent&&(e.dispatchEvent||e.fireEvent)?e.dispatchEvent?e.dispatchEvent(n):e.fireEvent(r,n):c&&c[r]?h(e,r,n):e.element&&t(e.element,n)},getChartTitle:function(t){return r(t.options.title.text||t.langFormat("accessibility.defaultChartTitle",{chart:t}))},getAxisDescription:function(t){return t&&(t.userOptions&&t.userOptions.accessibility&&t.userOptions.accessibility.description||t.axisTitle&&t.axisTitle.textStr||t.options.id||t.categories&&"categories"||t.dateTime&&"Time"||"values")},getAxisRangeDescription:function(t){var e=t.options||{};return e.accessibility&&void 0!==e.accessibility.rangeDescription?e.accessibility.rangeDescription:t.categories?function(t){var e=t.chart;return t.dataMax&&t.dataMin?e.langFormat("accessibility.axis.rangeCategories",{chart:e,axis:t,numCategories:t.dataMax-t.dataMin+1}):""}(t):!t.dateTime||0!==t.min&&0!==t.dataMin?function(t){var e=t.chart,n=e.options,o=n&&n.accessibility&&n.accessibility.screenReaderSection.axisRangeDateFormat||"",r=function(n){return t.dateTime?e.time.dateFormat(o,t[n]):t[n]};return e.langFormat("accessibility.axis.rangeFromTo",{chart:e,axis:t,rangeFrom:r("min"),rangeTo:r("max")})}(t):function(t){var e=t.chart,n={},o="Seconds";n.Seconds=((t.max||0)-(t.min||0))/1e3,n.Minutes=n.Seconds/60,n.Hours=n.Minutes/60,n.Days=n.Hours/24,["Minutes","Hours","Days"].forEach((function(t){n[t]>2&&(o=t)}));var r=n[o].toFixed("Seconds"!==o&&"Minutes"!==o?1:0);return e.langFormat("accessibility.axis.timeRange"+o,{chart:e,axis:t,range:r.replace(".0","")})}(t)},getPointFromXY:function(t,e,n){for(var o,i=t.length;i--;)if(o=l(t[i].points||[],(function(p){return p.x===e&&p.y===n})))return o},getSeriesFirstPointElement:d,getSeriesFromName:function(t,e){return e?(t.series||[]).filter((function(s){return s.name===e})):t.series},getSeriesA11yElement:m,unhideChartElementFromAT:function t(e,element){element.setAttribute("aria-hidden",!1),element!==e.renderTo&&element.parentNode&&element.parentNode!==o.body&&(Array.prototype.forEach.call(element.parentNode.childNodes,(function(t){t.hasAttribute("aria-hidden")||t.setAttribute("aria-hidden",!0)})),t(e,element.parentNode))},hideSeriesFromAT:function(t){var e=m(t);e&&e.setAttribute("aria-hidden",!0)},scrollToPoint:function(t){var e=t.series.xAxis,n=t.series.yAxis,o=e&&e.scrollbar?e:n,r=o&&o.scrollbar;if(r&&c(r.to)&&c(r.from)){var l=r.to-r.from,d=function(t,e){if(!c(t.dataMin)||!c(t.dataMax))return 0;var n=t.toPixels(t.dataMin),o=t.toPixels(t.dataMax),r="xAxis"===t.coll?"x":"y";return(t.toPixels(e[r]||0)-n)/(o-n)}(o,t);r.updatePosition(d-l/2,d+l/2),h(r,"changed",{from:r.from,to:r.to,trigger:"scrollbar",DOMEvent:null})}}};return f})),n(e,"Accessibility/Utils/DOMElementProvider.js",[e["Core/Globals.js"],e["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e){var n=t.doc,o=e.removeElement,r=function(){function t(){this.elements=[]}return t.prototype.createElement=function(){var t=n.createElement.apply(n,arguments);return this.elements.push(t),t},t.prototype.destroyCreatedElements=function(){this.elements.forEach((function(element){o(element)})),this.elements=[]},t}();return r})),n(e,"Accessibility/Utils/EventProvider.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){var n=e.addEvent,o=function(){function e(){this.eventRemovers=[]}return e.prototype.addEvent=function(){var e=n.apply(t,arguments);return this.eventRemovers.push(e),e},e.prototype.removeAddedEvents=function(){this.eventRemovers.forEach((function(t){return t()})),this.eventRemovers=[]},e}();return o})),n(e,"Accessibility/AccessibilityComponent.js",[e["Accessibility/Utils/ChartUtilities.js"],e["Accessibility/Utils/DOMElementProvider.js"],e["Accessibility/Utils/EventProvider.js"],e["Accessibility/Utils/HTMLUtilities.js"],e["Core/Utilities.js"]],(function(t,e,n,o,r){var c=t.fireEventOnWrappedOrUnwrappedElement,l=o.getFakeMouseEvent,h=r.extend,d=function(){function t(){this.chart=void 0,this.domElementProvider=void 0,this.eventProvider=void 0,this.keyCodes=void 0,this.proxyProvider=void 0}return t.prototype.initBase=function(t,o){this.chart=t,this.eventProvider=new n,this.domElementProvider=new e,this.proxyProvider=o,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}},t.prototype.addEvent=function(t,e,n,o){return this.eventProvider.addEvent(t,e,n,o)},t.prototype.createElement=function(t,e){return this.domElementProvider.createElement(t,e)},t.prototype.fakeClickEvent=function(t){var e=l("click");c(t,e)},t.prototype.destroyBase=function(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()},t}();return h(d.prototype,{init:function(){},getKeyboardNavigation:function(){},onChartUpdate:function(){},onChartRender:function(){},destroy:function(){}}),d})),n(e,"Accessibility/KeyboardNavigationHandler.js",[e["Core/Utilities.js"]],(function(t){var e=t.find;return function(){function t(t,e){this.chart=t,this.keyCodeMap=e.keyCodeMap||[],this.validate=e.validate,this.init=e.init,this.terminate=e.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}return t.prototype.run=function(t){var n=t.which||t.keyCode,o=this.response.noHandler,r=e(this.keyCodeMap,(function(t){return t[0].indexOf(n)>-1}));return r?o=r[1].call(this,n,t):9===n&&(o=this.response[t.shiftKey?"prev":"next"]),o},t}()})),n(e,"Accessibility/Components/ContainerComponent.js",[e["Accessibility/AccessibilityComponent.js"],e["Accessibility/KeyboardNavigationHandler.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Core/Globals.js"],e["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e,n,o,r){var c,l=this&&this.__extends||(c=function(t,b){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},c(t,b)},function(t,b){function e(){this.constructor=t}c(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),h=n.unhideChartElementFromAT,d=n.getChartTitle,m=o.doc,f=r.stripHTMLTagsFromString,y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.onChartUpdate=function(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()},n.prototype.handleSVGTitleElement=function(){var t=this.chart,e="highcharts-title-"+t.index,n=f(t.langFormat("accessibility.svgContainerTitle",{chartTitle:d(t)}));if(n.length){var o=this.svgTitleElement=this.svgTitleElement||m.createElementNS("http://www.w3.org/2000/svg","title");o.textContent=n,o.id=e,t.renderTo.insertBefore(o,t.renderTo.firstChild)}},n.prototype.setSVGContainerLabel=function(){var t=this.chart,e=t.langFormat("accessibility.svgContainerLabel",{chartTitle:d(t)});t.renderer.box&&e.length&&t.renderer.box.setAttribute("aria-label",e)},n.prototype.setGraphicContainerAttrs=function(){var t=this.chart,label=t.langFormat("accessibility.graphicContainerLabel",{chartTitle:d(t)});label.length&&t.container.setAttribute("aria-label",label)},n.prototype.setRenderToAttrs=function(){var t=this.chart;"disabled"!==t.options.accessibility.landmarkVerbosity?t.renderTo.setAttribute("role","region"):t.renderTo.removeAttribute("role"),t.renderTo.setAttribute("aria-label",t.langFormat("accessibility.chartContainerLabel",{title:d(t),chart:t}))},n.prototype.makeCreditsAccessible=function(){var t=this.chart,e=t.credits;e&&(e.textStr&&e.element.setAttribute("aria-label",t.langFormat("accessibility.credits",{creditsStr:f(e.textStr)})),h(t,e.element))},n.prototype.getKeyboardNavigation=function(){var t=this.chart;return new e(t,{keyCodeMap:[],validate:function(){return!0},init:function(){var e=t.accessibility;e&&e.keyboardNavigation.tabindexContainer.focus()}})},n.prototype.destroy=function(){this.chart.renderTo.setAttribute("aria-hidden",!0)},n}(t);return y})),n(e,"Accessibility/FocusBorder.js",[e["Core/Renderer/SVG/SVGLabel.js"],e["Core/Utilities.js"]],(function(t,e){var n,o=e.addEvent,r=e.pick;return function(e){var n=[],c=["x","y","transform","width","height","r","d","stroke-width"];function l(){var t=this.focusElement,e=this.options.accessibility.keyboardNavigation.focusBorder;t&&(t.removeFocusBorder(),e.enabled&&t.addFocusBorder(e.margin,{stroke:e.style.color,strokeWidth:e.style.lineWidth,r:e.style.borderRadius}))}function h(t,e){var n=this.options.accessibility.keyboardNavigation.focusBorder,r=e||t.element;r&&r.focus&&(r.hcEvents&&r.hcEvents.focusin||o(r,"focusin",(function(){})),r.focus(),n.hideBrowserFocusOutline&&(r.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=t,this.renderFocusBorder()}function d(e,n){this.focusBorder&&this.removeFocusBorder();var o=this.getBBox(),l=r(e,3);o.x+=this.translateX?this.translateX:0,o.y+=this.translateY?this.translateY:0;var text,h,d,m=o.x-l,f=o.y-l,y=o.width+2*l,v=o.height+2*l,x=this instanceof t;if("text"===this.element.nodeName||x){var A=!!this.rotation,w=x?{x:A?1:0,y:0}:(h=0,d=0,"middle"===(text=this).attr("text-anchor")?h=d=.5:text.rotation?h=.25:d=.75,{x:h,y:d}),C=+this.attr("x"),T=+this.attr("y");if(isNaN(C)||(m=C-o.width*w.x-l),isNaN(T)||(f=T-o.height*w.y-l),x&&A){var E=y;y=v,v=E,isNaN(C)||(m=C-o.height*w.x-l),isNaN(T)||(f=T-o.width*w.y-l)}}this.focusBorder=this.renderer.rect(m,f,y,v,parseInt((n&&n.r||0).toString(),10)).addClass("highcharts-focus-border").attr({zIndex:99}).add(this.parentGroup),this.renderer.styledMode||this.focusBorder.attr({stroke:n&&n.stroke,"stroke-width":n&&n.strokeWidth}),function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.focusBorderUpdateHooks||(t.focusBorderUpdateHooks={},c.forEach((function(n){var o=n+"Setter",r=t[o]||t._defaultSetter;t.focusBorderUpdateHooks[o]=r,t[o]=function(){var n=r.apply(t,arguments);return t.addFocusBorder.apply(t,e),n}})))}(this,e,n),function(t){if(!t.focusBorderDestroyHook){var e=t.destroy;t.destroy=function(){return t.focusBorder&&t.focusBorder.destroy&&t.focusBorder.destroy(),e.apply(t,arguments)},t.focusBorderDestroyHook=e}}(this)}function m(){var t;!function(t){t.focusBorderUpdateHooks&&(Object.keys(t.focusBorderUpdateHooks).forEach((function(e){var n=t.focusBorderUpdateHooks[e];n===t._defaultSetter?delete t[e]:t[e]=n})),delete t.focusBorderUpdateHooks)}(this),(t=this).focusBorderDestroyHook&&(t.destroy=t.focusBorderDestroyHook,delete t.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}e.compose=function(t,e){if(-1===n.indexOf(t)){n.push(t);var o=t.prototype;o.renderFocusBorder=l,o.setFocusToElement=h}if(-1===n.indexOf(e)){n.push(e);var r=e.prototype;r.addFocusBorder=d,r.removeFocusBorder=m}}}(n||(n={})),n})),n(e,"Accessibility/Utils/Announcer.js",[e["Core/Renderer/HTML/AST.js"],e["Accessibility/Utils/DOMElementProvider.js"],e["Core/Globals.js"],e["Accessibility/Utils/HTMLUtilities.js"],e["Core/Utilities.js"]],(function(t,e,n,o,r){var c=n.doc,l=o.addClass,h=o.visuallyHideElement,d=r.attr;return function(){function n(t,n){this.chart=t,this.domElementProvider=new e,this.announceRegion=this.addAnnounceRegion(n)}return n.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()},n.prototype.announce=function(e){var n=this;t.setElementHTML(this.announceRegion,e),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout((function(){n.announceRegion.innerHTML=t.emptyHTML,delete n.clearAnnouncementRegionTimer}),1e3)},n.prototype.addAnnounceRegion=function(t){var e=this.chart.announcerContainer||this.createAnnouncerContainer(),div=this.domElementProvider.createElement("div");return d(div,{"aria-hidden":!1,"aria-live":t}),this.chart.styledMode?l(div,"highcharts-visually-hidden"):h(div),e.appendChild(div),div},n.prototype.createAnnouncerContainer=function(){var t=this.chart,e=c.createElement("div");return d(e,{"aria-hidden":!1,class:"highcharts-announcer-container"}),e.style.position="relative",t.renderTo.insertBefore(e,t.renderTo.firstChild),t.announcerContainer=e,e},n}()})),n(e,"Accessibility/Components/AnnotationsA11y.js",[e["Accessibility/Utils/HTMLUtilities.js"]],(function(t){var e=t.escapeStringForHTML,n=t.stripHTMLTagsFromString;function o(t){return(t.annotations||[]).reduce((function(t,e){return e.options&&!1!==e.options.visible&&(t=t.concat(e.labels)),t}),[])}function r(label){return label.options&&label.options.accessibility&&label.options.accessibility.description||label.graphic&&label.graphic.text&&label.graphic.text.textStr||""}function c(label){var t=label.options&&label.options.accessibility&&label.options.accessibility.description;if(t)return t;var e=label.chart,n=r(label),o=label.points,c=o.filter((function(p){return!!p.graphic})).map((function(t){var e=t.accessibility&&t.accessibility.valueDescription||function(t){return t.graphic&&t.graphic.element&&t.graphic.element.getAttribute("aria-label")||""}(t),n=t&&t.series.name||"";return(n?n+", ":"")+"data point "+e})).filter((function(desc){return!!desc})),l=c.length,h="accessibility.screenReaderSection.annotations.description"+(l>1?"MultiplePoints":l?"SinglePoint":"NoPoints"),d={annotationText:n,annotation:label,numPoints:l,annotationPoint:c[0],additionalAnnotationPoints:c.slice(1)};return e.langFormat(h,d)}function l(t){return o(t).map((function(label){var desc=e(n(c(label)));return desc?"<li>"+desc+"</li>":""}))}return{getAnnotationsInfoHTML:function(t){var e=t.annotations;return e&&e.length?'<ul style="list-style-type: none">'+l(t).join(" ")+"</ul>":""},getAnnotationLabelDescription:c,getAnnotationListItems:l,getPointAnnotationTexts:function(t){var e=o(t.series.chart).filter((function(label){return label.points.indexOf(t)>-1}));return e.length?e.map((function(label){return""+r(label)})):[]}}})),n(e,"Accessibility/Components/InfoRegionsComponent.js",[e["Accessibility/A11yI18n.js"],e["Accessibility/AccessibilityComponent.js"],e["Accessibility/Utils/Announcer.js"],e["Accessibility/Components/AnnotationsA11y.js"],e["Core/Renderer/HTML/AST.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Core/FormatUtilities.js"],e["Core/Globals.js"],e["Accessibility/Utils/HTMLUtilities.js"],e["Core/Utilities.js"]],(function(t,e,n,o,r,c,l,h,d,m){var f,y=this&&this.__extends||(f=function(t,b){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},f(t,b)},function(t,b){function e(){this.constructor=t}f(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),v=o.getAnnotationsInfoHTML,x=c.getAxisDescription,A=c.getAxisRangeDescription,w=c.getChartTitle,C=c.unhideChartElementFromAT,T=l.format,E=h.doc,S=d.addClass,P=d.getElement,M=d.getHeadingTagNameForElement,k=d.stripHTMLTagsFromString,B=d.visuallyHideElement,D=m.attr,I=m.pick;function N(t){return t.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}var j=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.announcer=void 0,t.screenReaderSections={},t}return y(o,e),o.prototype.init=function(){var t=this.chart,component=this;this.initRegionsDefinitions(),this.addEvent(t,"aftergetTableAST",(function(t){component.onDataTableCreated(t)})),this.addEvent(t,"afterViewData",(function(t){component.dataTableDiv=t,setTimeout((function(){component.focusDataTable()}),300)})),this.announcer=new n(t,"assertive")},o.prototype.initRegionsDefinitions=function(){var component=this;this.screenReaderSections={before:{element:null,buildContent:function(t){var e=t.options.accessibility.screenReaderSection.beforeChartFormatter;return e?e(t):component.defaultBeforeChartFormatter(t)},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.renderTo.firstChild)},afterInserted:function(){void 0!==component.sonifyButtonId&&component.initSonifyButton(component.sonifyButtonId),void 0!==component.dataTableButtonId&&component.initDataTableButton(component.dataTableButtonId)}},after:{element:null,buildContent:function(t){var e=t.options.accessibility.screenReaderSection.afterChartFormatter;return e?e(t):component.defaultAfterChartFormatter()},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.container.nextSibling)},afterInserted:function(){component.chart.accessibility&&component.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}},o.prototype.onChartRender=function(){var component=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach((function(t){component.updateScreenReaderSection(t)}))},o.prototype.getLinkedDescriptionElement=function(){var t=this.chart.options.accessibility.linkedDescription;if(t){if("string"!=typeof t)return t;var e=T(t,this.chart),n=E.querySelectorAll(e);return 1===n.length?n[0]:void 0}},o.prototype.setLinkedDescriptionAttrs=function(){var t=this.linkedDescriptionElement;t&&(t.setAttribute("aria-hidden","true"),S(t,"highcharts-linked-description"))},o.prototype.updateScreenReaderSection=function(t){var e=this.chart,n=this.screenReaderSections[t],content=n.buildContent(e),o=n.element=n.element||this.createElement("div"),c=o.firstChild||this.createElement("div");content?(this.setScreenReaderSectionAttribs(o,t),r.setElementHTML(c,content),o.appendChild(c),n.insertIntoDOM(o,e),e.styledMode?S(c,"highcharts-visually-hidden"):B(c),C(e,c),n.afterInserted&&n.afterInserted()):(o.parentNode&&o.parentNode.removeChild(o),delete n.element)},o.prototype.setScreenReaderSectionAttribs=function(t,e){var n="accessibility.screenReaderSection."+e+"RegionLabel",o=this.chart,r=o.langFormat(n,{chart:o,chartTitle:w(o)}),c="highcharts-screen-reader-region-"+e+"-"+o.index;D(t,{id:c,"aria-label":r}),t.style.position="relative","all"===o.options.accessibility.landmarkVerbosity&&r&&t.setAttribute("role","region")},o.prototype.defaultBeforeChartFormatter=function(){var e=this.chart,n=e.options.accessibility.screenReaderSection.beforeChartFormat;if(!n)return"";var o=this.getAxesDescription(),r=e.sonify&&e.options.sonification&&e.options.sonification.enabled,c="highcharts-a11y-sonify-data-btn-"+e.index,l="hc-linkto-highcharts-data-table-"+e.index,h=v(e),d=e.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:e}),m={headingTagName:M(e.renderTo),chartTitle:w(e),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:o.xAxis,yAxisDescription:o.yAxis,playAsSoundButton:r?this.getSonifyButtonText(c):"",viewTableButton:e.getCSV?this.getDataTableButtonText(l):"",annotationsTitle:h?d:"",annotationsList:h},f=t.i18nFormat(n,m,e);return this.dataTableButtonId=l,this.sonifyButtonId=c,N(f)},o.prototype.defaultAfterChartFormatter=function(){var e=this.chart,n=e.options.accessibility.screenReaderSection.afterChartFormat;if(!n)return"";var o={endOfChartMarker:this.getEndOfChartMarkerText()};return N(t.i18nFormat(n,o,e))},o.prototype.getLinkedDescription=function(){var t=this.linkedDescriptionElement,content=t&&t.innerHTML||"";return k(content)},o.prototype.getLongdescText=function(){var t=this.chart.options,e=t.caption,n=e&&e.text,o=this.getLinkedDescription();return t.accessibility.description||o||n||""},o.prototype.getTypeDescriptionText=function(){var t=this.chart;return t.types?t.options.accessibility.typeDescription||function(t,e){var n=e[0],o=t.series&&t.series[0]||{},r={numSeries:t.series.length,numPoints:o.points&&o.points.length,chart:t,mapTitle:o.mapTitle};return n?"map"===n?function(t,e){return e.mapTitle?t.langFormat("accessibility.chartTypes.mapTypeDescription",e):t.langFormat("accessibility.chartTypes.unknownMap",e)}(t,r):t.types.length>1?function(t,e){return t.langFormat("accessibility.chartTypes.combinationChart",e)}(t,r):function(t,e,n){var o=e[0],r=t.langFormat("accessibility.seriesTypeDescriptions."+o,n),c=t.series&&t.series.length<2?"Single":"Multiple";return(t.langFormat("accessibility.chartTypes."+o+c,n)||t.langFormat("accessibility.chartTypes.default"+c,n))+(r?" "+r:"")}(t,e,r):function(t,e){return t.langFormat("accessibility.chartTypes.emptyChart",e)}(t,r)}(t,t.types):""},o.prototype.getDataTableButtonText=function(t){var e=this.chart;return'<button id="'+t+'">'+e.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:e,chartTitle:w(e)})+"</button>"},o.prototype.getSonifyButtonText=function(t){var e=this.chart;return e.options.sonification&&!1===e.options.sonification.enabled?"":'<button id="'+t+'">'+e.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:e,chartTitle:w(e)})+"</button>"},o.prototype.getSubtitleText=function(){var t=this.chart.options.subtitle;return k(t&&t.text||"")},o.prototype.getEndOfChartMarkerText=function(){var t=this.chart,e=t.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:t});return'<div id="highcharts-end-of-chart-marker-'+t.index+'">'+e+"</div>"},o.prototype.onDataTableCreated=function(t){var e=this.chart;if(e.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");var n=t.tree.attributes||{};n.tabindex=-1,n.summary=function(t){return t.langFormat("accessibility.table.tableSummary",{chart:t})}(e),t.tree.attributes=n}},o.prototype.focusDataTable=function(){var t=this.dataTableDiv,table=t&&t.getElementsByTagName("table")[0];table&&table.focus&&table.focus()},o.prototype.initSonifyButton=function(t){var e=this,n=this.sonifyButton=P(t),o=this.chart,r=function(t){n&&(n.setAttribute("aria-hidden","true"),n.setAttribute("aria-label","")),t.preventDefault(),t.stopPropagation();var r=o.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:o});e.announcer.announce(r),setTimeout((function(){n&&(n.removeAttribute("aria-hidden"),n.removeAttribute("aria-label")),o.sonify&&o.sonify()}),1e3)};n&&o&&(n.setAttribute("tabindex",-1),n.onclick=function(t){(o.options.accessibility&&o.options.accessibility.screenReaderSection.onPlayAsSoundClick||r).call(this,t,o)})},o.prototype.initDataTableButton=function(t){var e=this.viewDataTableButton=P(t),n=this.chart,o=t.replace("hc-linkto-","");e&&(D(e,{tabindex:-1,"aria-expanded":!!P(o)}),e.onclick=n.options.accessibility.screenReaderSection.onViewDataTableClick||function(){n.viewData()})},o.prototype.getAxesDescription=function(){var t=this.chart,e=function(e,n){var o=t[e];return o.length>1||o[0]&&I(o[0].options.accessibility&&o[0].options.accessibility.enabled,n)},n=!!t.types&&t.types.indexOf("map")<0,o=!!t.hasCartesianSeries,r=e("xAxis",!t.angular&&o&&n),c=e("yAxis",o&&n),desc={};return r&&(desc.xAxis=this.getAxisDescriptionText("xAxis")),c&&(desc.yAxis=this.getAxisDescriptionText("yAxis")),desc},o.prototype.getAxisDescriptionText=function(t){var e=this.chart,n=e[t];return e.langFormat("accessibility.axis."+t+"Description"+(n.length>1?"Plural":"Singular"),{chart:e,names:n.map((function(t){return x(t)})),ranges:n.map((function(t){return A(t)})),numAxes:n.length})},o.prototype.destroy=function(){this.announcer&&this.announcer.destroy()},o}(e);return j})),n(e,"Accessibility/Components/MenuComponent.js",[e["Core/Chart/Chart.js"],e["Core/Utilities.js"],e["Accessibility/AccessibilityComponent.js"],e["Accessibility/KeyboardNavigationHandler.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e,n,o,r,c){var l,h=this&&this.__extends||(l=function(t,b){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},l(t,b)},function(t,b){function e(){this.constructor=t}l(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),d=e.attr,m=r.getChartTitle,f=r.unhideChartElementFromAT,y=c.getFakeMouseEvent;function v(t){return t.exportSVGElements&&t.exportSVGElements[0]}var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.init=function(){var t=this.chart,component=this;this.addEvent(t,"exportMenuShown",(function(){component.onMenuShown()})),this.addEvent(t,"exportMenuHidden",(function(){component.onMenuHidden()})),this.createProxyGroup()},e.prototype.onMenuHidden=function(){var menu=this.chart.exportContextMenu;menu&&menu.setAttribute("aria-hidden","true"),this.isExportMenuShown=!1,this.setExportButtonExpandedState("false")},e.prototype.onMenuShown=function(){var t=this.chart,menu=t.exportContextMenu;menu&&(this.addAccessibleContextMenuAttribs(),f(t,menu)),this.isExportMenuShown=!0,this.setExportButtonExpandedState("true")},e.prototype.setExportButtonExpandedState=function(t){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",t)},e.prototype.onChartRender=function(){this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton()},e.prototype.proxyMenuButton=function(){var t=this.chart,e=this.proxyProvider,n=v(t);(function(t){var e=t.options.exporting,n=v(t);return!!(e&&!1!==e.enabled&&e.accessibility&&e.accessibility.enabled&&n&&n.element)})(t)&&n&&(this.exportButtonProxy=e.addProxyElement("chartMenu",{click:n},{"aria-label":t.langFormat("accessibility.exporting.menuButtonLabel",{chart:t,chartTitle:m(t)}),"aria-expanded":!1}))},e.prototype.createProxyGroup=function(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")},e.prototype.addAccessibleContextMenuAttribs=function(){var t=this.chart,e=t.exportDivElements;if(e&&e.length){e.forEach((function(t){t&&("LI"!==t.tagName||t.children&&t.children.length?t.setAttribute("aria-hidden","true"):t.setAttribute("tabindex",-1))}));var n=e[0]&&e[0].parentNode;n&&d(n,{"aria-hidden":void 0,"aria-label":t.langFormat("accessibility.exporting.chartMenuLabel",{chart:t}),role:"list"})}},e.prototype.getKeyboardNavigation=function(){var t=this.keyCodes,e=this.chart,component=this;return new o(e,{keyCodeMap:[[[t.left,t.up],function(){return component.onKbdPrevious(this)}],[[t.right,t.down],function(){return component.onKbdNext(this)}],[[t.enter,t.space],function(){return component.onKbdClick(this)}]],validate:function(){return!!e.exporting&&!1!==e.options.exporting.enabled&&!1!==e.options.exporting.accessibility.enabled},init:function(){var t=component.exportButtonProxy,n=component.chart.exportingGroup;t&&n&&e.setFocusToElement(n,t.buttonElement)},terminate:function(){e.hideExportMenu()}})},e.prototype.onKbdPrevious=function(t){for(var e=this.chart,n=e.options.accessibility,o=t.response,i=e.highlightedExportItemIx||0;i--;)if(e.highlightExportItem(i))return o.success;return n.keyboardNavigation.wrapAround?(e.highlightLastExportItem(),o.success):o.prev},e.prototype.onKbdNext=function(t){for(var e=this.chart,n=e.options.accessibility,o=t.response,i=(e.highlightedExportItemIx||0)+1;i<e.exportDivElements.length;++i)if(e.highlightExportItem(i))return o.success;return n.keyboardNavigation.wrapAround?(e.highlightExportItem(0),o.success):o.next},e.prototype.onKbdClick=function(t){var e=this.chart,n=e.exportDivElements[e.highlightedExportItemIx],o=v(e).element;return this.isExportMenuShown?this.fakeClickEvent(n):(this.fakeClickEvent(o),e.highlightExportItem(0)),t.response.success},e}(n);return function(e){var n=[];function o(){var t=v(this);if(t){var e=t.element;e.onclick&&e.onclick(y("click"))}}function r(){var t=this,e=t.exportDivElements;e&&t.exportContextMenu&&(e.forEach((function(t){t&&"highcharts-menu-item"===t.className&&t.onmouseout&&t.onmouseout(y("mouseout"))})),t.highlightedExportItemIx=0,t.exportContextMenu.hideMenu(),t.container.focus())}function c(t){var e=this.exportDivElements&&this.exportDivElements[t],n=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(e&&"LI"===e.tagName&&(!e.children||!e.children.length)){var o=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return e.focus&&o&&e.focus(),n&&n.onmouseout&&n.onmouseout(y("mouseout")),e.onmouseover&&e.onmouseover(y("mouseover")),this.highlightedExportItemIx=t,!0}return!1}function l(){var t=this;if(t.exportDivElements)for(var i=t.exportDivElements.length;i--;)if(t.highlightExportItem(i))return!0;return!1}e.compose=function(e){if(-1===n.indexOf(e)){n.push(e);var h=t.prototype;h.hideExportMenu=r,h.highlightExportItem=c,h.highlightLastExportItem=l,h.showExportMenu=o}}}(x||(x={})),x})),n(e,"Accessibility/KeyboardNavigation.js",[e["Core/Globals.js"],e["Accessibility/Components/MenuComponent.js"],e["Core/Utilities.js"],e["Accessibility/Utils/EventProvider.js"],e["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e,n,o,r){var c=t.doc,l=t.win,h=n.addEvent,d=n.fireEvent,m=r.getElement,f=function(){function t(t,e){this.chart=void 0,this.components=void 0,this.currentModuleIx=NaN,this.eventProvider=void 0,this.exitAnchor=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(t,e)}return t.prototype.init=function(t,e){var n=this,r=this.eventProvider=new o;this.chart=t,this.components=e,this.modules=[],this.currentModuleIx=0,this.update(),r.addEvent(this.tabindexContainer,"keydown",(function(t){return n.onKeydown(t)})),r.addEvent(this.tabindexContainer,"focus",(function(t){return n.onFocus(t)})),["mouseup","touchend"].forEach((function(t){return r.addEvent(c,t,(function(){return n.onMouseUp()}))})),["mousedown","touchstart"].forEach((function(e){return r.addEvent(t.renderTo,e,(function(){n.isClickingChart=!0}))})),r.addEvent(t.renderTo,"mouseover",(function(){n.pointerIsOverChart=!0})),r.addEvent(t.renderTo,"mouseout",(function(){n.pointerIsOverChart=!1}))},t.prototype.update=function(t){var e=this.chart.options.accessibility,n=e&&e.keyboardNavigation,o=this.components;this.updateContainerTabindex(),n&&n.enabled&&t&&t.length?(this.modules=t.reduce((function(t,e){var n=o[e].getKeyboardNavigation();return t.concat(n)}),[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())},t.prototype.onFocus=function(t){var e=this.chart,n=t.relatedTarget&&e.container.contains(t.relatedTarget);this.exiting||this.tabbingInBackwards||this.isClickingChart||n||!this.modules[0]||this.modules[0].init(1),this.exiting=!1},t.prototype.onMouseUp=function(){if(delete this.isClickingChart,!this.keyboardReset&&!this.pointerIsOverChart){var t=this.chart,e=this.modules&&this.modules[this.currentModuleIx||0];e&&e.terminate&&e.terminate(),t.focusElement&&t.focusElement.removeFocusBorder(),this.currentModuleIx=0,this.keyboardReset=!0}},t.prototype.onKeydown=function(t){var e,n=t||l.event,o=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];if(this.keyboardReset=!1,this.exiting=!1,o){var r=o.run(n);r===o.response.success?e=!0:r===o.response.prev?e=this.prev():r===o.response.next&&(e=this.next()),e&&(n.preventDefault(),n.stopPropagation())}},t.prototype.prev=function(){return this.move(-1)},t.prototype.next=function(){return this.move(1)},t.prototype.move=function(t){var e=this.modules&&this.modules[this.currentModuleIx];e&&e.terminate&&e.terminate(t),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=t;var n=this.modules&&this.modules[this.currentModuleIx];if(n){if(n.validate&&!n.validate())return this.move(t);if(n.init)return n.init(t),!0}return this.currentModuleIx=0,this.exiting=!0,t>0?this.exitAnchor.focus():this.tabindexContainer.focus(),!1},t.prototype.updateExitAnchor=function(){var t="highcharts-end-of-chart-marker-"+this.chart.index,e=m(t);this.removeExitAnchor(),e?(this.makeElementAnExitAnchor(e),this.exitAnchor=e):this.createExitAnchor()},t.prototype.updateContainerTabindex=function(){var t,e=this.chart.options.accessibility,n=e&&e.keyboardNavigation,o=!(n&&!1===n.enabled),r=this.chart,c=r.container;r.renderTo.hasAttribute("tabindex")?(c.removeAttribute("tabindex"),t=r.renderTo):t=c,this.tabindexContainer=t;var l=t.getAttribute("tabindex");o&&!l?t.setAttribute("tabindex","0"):o||r.container.removeAttribute("tabindex")},t.prototype.makeElementAnExitAnchor=function(t){var e=this.tabindexContainer.getAttribute("tabindex")||0;t.setAttribute("class","highcharts-exit-anchor"),t.setAttribute("tabindex",e),t.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(t)},t.prototype.createExitAnchor=function(){var t=this.chart,e=this.exitAnchor=c.createElement("div");t.renderTo.appendChild(e),this.makeElementAnExitAnchor(e)},t.prototype.removeExitAnchor=function(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)},t.prototype.addExitAnchorEventsToEl=function(element){var t=this.chart,e=this;this.eventProvider.addEvent(element,"focus",(function(n){var o=n||l.event;if(o.relatedTarget&&t.container.contains(o.relatedTarget)||e.exiting)e.exiting=!1;else if(e.tabbingInBackwards=!0,e.tabindexContainer.focus(),delete e.tabbingInBackwards,o.preventDefault(),e.modules&&e.modules.length){e.currentModuleIx=e.modules.length-1;var r=e.modules[e.currentModuleIx];r&&r.validate&&!r.validate()?e.prev():r&&r.init(-1)}}))},t.prototype.destroy=function(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")},t}();return function(n){var o=[];function r(){var t=this;d(this,"dismissPopupContent",{},(function(){t.tooltip&&t.tooltip.hide(0),t.hideExportMenu()}))}function l(e){27===(e.which||e.keyCode)&&t.charts&&t.charts.forEach((function(t){t&&t.dismissPopupContent&&t.dismissPopupContent()}))}n.compose=function(t){return e.compose(t),-1===o.indexOf(t)&&(o.push(t),t.prototype.dismissPopupContent=r),-1===o.indexOf(c)&&(o.push(c),h(c,"keydown",l)),t}}(f||(f={})),f})),n(e,"Accessibility/Components/LegendComponent.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Legend/Legend.js"],e["Core/Utilities.js"],e["Accessibility/AccessibilityComponent.js"],e["Accessibility/KeyboardNavigationHandler.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e,n,o,r,c,l,h){var d,m=this&&this.__extends||(d=function(t,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},d(t,b)},function(t,b){function e(){this.constructor=t}d(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),f=t.animObject,y=o.addEvent,v=o.fireEvent,x=o.isNumber,A=o.pick,w=o.syncTimeout,C=l.getChartTitle,T=h.stripHTMLTagsFromString,E=h.addClass,S=h.removeClass;function P(t){var e=t.legend&&t.legend.allItems,n=t.options.legend.accessibility||{};return!(!e||!e.length||t.colorAxis&&t.colorAxis.length||!1===n.enabled)}var M=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.highlightedLegendItemIx=NaN,e}return m(o,t),o.prototype.init=function(){var component=this;this.recreateProxies(),this.addEvent(n,"afterScroll",(function(){this.chart===component.chart&&(component.proxyProvider.updateGroupProxyElementPositions("legend"),component.updateLegendItemProxyVisibility(),component.highlightedLegendItemIx>-1&&this.chart.highlightLegendItem(component.highlightedLegendItemIx))})),this.addEvent(n,"afterPositionItem",(function(t){this.chart===component.chart&&this.chart.renderer&&component.updateProxyPositionForItem(t.item)})),this.addEvent(n,"afterRender",(function(){this.chart===component.chart&&this.chart.renderer&&component.recreateProxies()&&w((function(){return component.proxyProvider.updateGroupProxyElementPositions("legend")}),f(A(this.chart.renderer.globalAnimation,!0)).duration)}))},o.prototype.updateLegendItemProxyVisibility=function(){var t=this.chart,legend=t.legend,e=legend.allItems||[],n=legend.currentPage||1,o=legend.clipHeight||0;e.forEach((function(e){if(e.a11yProxyElement){var r=legend.pages&&legend.pages.length,c=e.a11yProxyElement.element,l=!1;if(r){var h=e.pageIx||0;l=(e._legendItemPos?e._legendItemPos[1]:0)+(e.legendItem?Math.round(e.legendItem.getBBox().height):0)-legend.pages[h]>o||h!==n-1}l?t.styledMode?E(c,"highcharts-a11y-invisible"):c.style.visibility="hidden":(S(c,"highcharts-a11y-invisible"),c.style.visibility="")}}))},o.prototype.onChartRender=function(){P(this.chart)||this.removeProxies()},o.prototype.highlightAdjacentLegendPage=function(t){var e=this.chart,legend=e.legend,n=(legend.currentPage||1)+t,o=legend.pages||[];if(n>0&&n<=o.length)for(var r=legend.allItems.length,i=0;i<r;++i)if(legend.allItems[i].pageIx+1===n)return void(e.highlightLegendItem(i)&&(this.highlightedLegendItemIx=i))},o.prototype.updateProxyPositionForItem=function(t){t.a11yProxyElement&&t.a11yProxyElement.refreshPosition()},o.prototype.recreateProxies=function(){return this.removeProxies(),!!P(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),!0)},o.prototype.removeProxies=function(){this.proxyProvider.removeGroup("legend")},o.prototype.updateLegendTitle=function(){var t=this.chart,e=T((t.legend&&t.legend.options.title&&t.legend.options.title.text||"").replace(/<br ?\/?>/g," ")),n=t.langFormat("accessibility.legend.legendLabel"+(e?"":"NoTitle"),{chart:t,legendTitle:e,chartTitle:C(t)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":n})},o.prototype.addLegendProxyGroup=function(){var t="all"===this.chart.options.accessibility.landmarkVerbosity?"region":null;this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:t})},o.prototype.proxyLegendItems=function(){var component=this;(this.chart.legend&&this.chart.legend.allItems||[]).forEach((function(t){t.legendItem&&t.legendItem.element&&component.proxyLegendItem(t)}))},o.prototype.proxyLegendItem=function(t){if(t.legendItem&&t.legendGroup){var e=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:T(t.name),item:t}),n={tabindex:-1,"aria-pressed":t.visible,"aria-label":e},o=t.legendGroup.div?t.legendItem:t.legendGroup;t.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:t.legendItem,visual:o.element},n)}},o.prototype.getKeyboardNavigation=function(){var t=this.keyCodes,component=this,n=this.chart;return new c(n,{keyCodeMap:[[[t.left,t.right,t.up,t.down],function(t){return component.onKbdArrowKey(this,t)}],[[t.enter,t.space],function(n){return e.isFirefox&&n===t.space?this.response.success:component.onKbdClick(this)}],[[t.pageDown,t.pageUp],function(e){var n=e===t.pageDown?1:-1;return component.highlightAdjacentLegendPage(n),this.response.success}]],validate:function(){return component.shouldHaveLegendNavigation()},init:function(t){return component.onKbdNavigationInit(t)},terminate:function(){component.highlightedLegendItemIx=-1,n.legend.allItems.forEach((function(t){return t.setState("",!0)}))}})},o.prototype.onKbdArrowKey=function(t,e){var n=this.keyCodes,o=t.response,r=this.chart,c=r.options.accessibility,l=r.legend.allItems.length,h=e===n.left||e===n.up?-1:1;return r.highlightLegendItem(this.highlightedLegendItemIx+h)?(this.highlightedLegendItemIx+=h,o.success):l>1&&c.keyboardNavigation.wrapAround?(t.init(h),o.success):o[h>0?"next":"prev"]},o.prototype.onKbdClick=function(t){var e=this.chart.legend.allItems[this.highlightedLegendItemIx];return e&&e.a11yProxyElement&&e.a11yProxyElement.click(),t.response.success},o.prototype.shouldHaveLegendNavigation=function(){var t=this.chart,e=t.options.legend||{},n=t.legend&&t.legend.allItems,o=t.colorAxis&&t.colorAxis.length,r=e.accessibility||{};return!!(n&&t.legend.display&&!o&&r.enabled&&r.keyboardNavigation&&r.keyboardNavigation.enabled)},o.prototype.onKbdNavigationInit=function(t){var e=this.chart,n=e.legend.allItems.length-1,o=t>0?0:n;e.highlightLegendItem(o),this.highlightedLegendItemIx=o},o}(r);return function(t){var e=[];function n(t){var legend,e,n,o,r=this.legend.allItems,c=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,l=r[t];if(l){x(c)&&r[c]&&v(r[c].legendGroup.element,"mouseout"),legend=this.legend,e=t,n=legend.allItems[e].pageIx,o=legend.currentPage,void 0!==n&&n+1!==o&&legend.scroll(1+n-o);var h=l.legendItem,d=l.a11yProxyElement&&l.a11yProxyElement.buttonElement;return h&&h.element&&d&&this.setFocusToElement(h,d),l.legendGroup&&v(l.legendGroup.element,"mouseover"),!0}return!1}function o(t){var e=this.chart.options.accessibility,n=t.item;e.enabled&&n&&n.a11yProxyElement&&n.a11yProxyElement.buttonElement.setAttribute("aria-pressed",t.visible?"true":"false")}t.compose=function(t,r){-1===e.indexOf(t)&&(e.push(t),t.prototype.highlightLegendItem=n),-1===e.indexOf(r)&&(e.push(r),y(r,"afterColorizeItem",o))}}(M||(M={})),M})),n(e,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[e["Accessibility/Components/AnnotationsA11y.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Core/FormatUtilities.js"],e["Accessibility/Utils/HTMLUtilities.js"],e["Core/Utilities.js"]],(function(t,e,n,o,r){var c=t.getPointAnnotationTexts,l=e.getAxisDescription,h=e.getSeriesFirstPointElement,d=e.getSeriesA11yElement,m=e.unhideChartElementFromAT,f=n.format,y=n.numberFormat,v=o.reverseChildNodes,x=o.stripHTMLTagsFromString,A=r.find,w=r.isNumber,C=r.pick,T=r.defined;function E(t){var e=t.series,n=function(t){var e=t.index;return t.series&&t.series.data&&T(e)&&A(t.series.data,(function(p){return!!(p&&void 0!==p.index&&p.index>e&&p.graphic&&p.graphic.element)}))||null}(t),o=n&&n.graphic,r=o?o.parentGroup:e.graph||e.group,c=function(t,e){var n=t.series.chart.renderer.rect(e.x,e.y,1,1);return n.attr({class:"highcharts-a11y-dummy-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),n}(t,n?{x:C(t.plotX,n.plotX,0),y:C(t.plotY,n.plotY,0)}:{x:C(t.plotX,0),y:C(t.plotY,0)});if(r&&r.element)return t.graphic=c,t.hasDummyGraphic=!0,c.add(r),r.element.insertBefore(c.element,o?o.element:null),c.element}function S(t){var e=t.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==e&&t.points&&t.points.length>=e)}function P(t,e){var n=t.series,o=n.chart,r=o.options.accessibility.point||{},c=n.options.accessibility&&n.options.accessibility.point||{},l=n.tooltipOptions||{},h=o.options.lang;return w(e)?y(e,c.valueDecimals||r.valueDecimals||l.valueDecimals||-1,h.decimalPoint,h.accessibility.thousandsSep||h.thousandsSep):e}function M(t,e){var n=t[e];return t.chart.langFormat("accessibility.series."+e+"Description",{name:l(n),series:t})}function k(t,e,n){var pre=e||"",o=n||"";return t.series.pointArrayMap.reduce((function(desc,e){return desc+(desc.length?", ":"")+function(e){var n=P(t,C(t[e],t.options[e]));return e+": "+pre+n+o}(e)}),"")}function B(t){var e=t.series,n=e.chart.options.accessibility.point||{},o=e.chart.options.accessibility&&e.chart.options.accessibility.point||{},r=e.tooltipOptions||{},c=o.valuePrefix||n.valuePrefix||r.valuePrefix||"",l=o.valueSuffix||n.valueSuffix||r.valueSuffix||"",h=P(t,t[void 0!==t.value?"value":"y"]);return t.isNull?e.chart.langFormat("accessibility.series.nullPointValue",{point:t}):e.pointArrayMap?k(t,c,l):c+h+l}function D(t){var e=t.series,n=e.chart,o=e.options.accessibility,r=o&&o.point&&o.point.valueDescriptionFormat||n.options.accessibility.point.valueDescriptionFormat,c=C(e.xAxis&&e.xAxis.options.accessibility&&e.xAxis.options.accessibility.enabled,!n.angular),l=c?function(t){var e=function(t){var e=t.series,n=e.chart,o=e.options.accessibility&&e.options.accessibility.point||{},r=n.options.accessibility.point||{},c=e.xAxis&&e.xAxis.dateTime;if(c){var l=c.getXDateFormat(t.x||0,n.options.tooltip.dateTimeLabelFormats),h=o.dateFormatter&&o.dateFormatter(t)||r.dateFormatter&&r.dateFormatter(t)||o.dateFormat||r.dateFormat||l;return n.time.dateFormat(h,t.x||0,void 0)}}(t),n=(t.series.xAxis||{}).categories&&T(t.category)&&(""+t.category).replace("<br/>"," "),o=t.id&&t.id.indexOf("highcharts-")<0,r="x, "+t.x;return t.name||e||n||(o?t.id:r)}(t):"",h={point:t,index:T(t.index)?t.index+1:"",xDescription:l,value:B(t),separator:c?", ":""};return f(r,h,n)}function I(t){var e=t.series,n=e.chart,o=D(t),r=t.options&&t.options.accessibility&&t.options.accessibility.description,l=r?" "+r:"",h=n.series.length>1&&e.name?" "+e.name+".":"",d=function(t){var e=t.series.chart,n=c(t),o={point:t,annotations:n};return n.length?e.langFormat("accessibility.series.pointAnnotationsDescription",o):""}(t),m=d?" "+d:"";return t.accessibility=t.accessibility||{},t.accessibility.valueDescription=o,o+l+h+m}function N(t){var e=function(t){var e=t.options.accessibility||{};return!S(t)&&!e.exposeAsGroupOnly}(t),n=function(t){var e=t.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!t.points||!(t.points.length<e.pointNavigationEnabledThreshold||!1===e.pointNavigationEnabledThreshold))}(t);(e||n)&&t.points.forEach((function(n){var o=n.graphic&&n.graphic.element||function(t){var e=t.series&&t.series.is("sunburst");return t.isNull&&!e}(n)&&E(n),r=n.options&&n.options.accessibility&&!1===n.options.accessibility.enabled;o&&(o.setAttribute("tabindex","-1"),t.chart.styledMode||(o.style.outline="none"),e&&!r?function(t,e){var n=t.series,o=n.chart.options.accessibility.point||{},r=n.options.accessibility&&n.options.accessibility.point||{},label=x(r.descriptionFormatter&&r.descriptionFormatter(t)||o.descriptionFormatter&&o.descriptionFormatter(t)||I(t));e.setAttribute("role","img"),e.setAttribute("aria-label",label)}(n,o):o.setAttribute("aria-hidden",!0))}))}function j(t){var e=t.chart,n=e.types||[],o=function(t){var e=(t.options.accessibility||{}).description;return e&&t.chart.langFormat("accessibility.series.description",{description:e,series:t})||""}(t),r=function(n){return e[n]&&e[n].length>1&&t[n]},c=M(t,"xAxis"),l=M(t,"yAxis"),h={name:t.name||"",ix:t.index+1,numSeries:e.series&&e.series.length,numPoints:t.points&&t.points.length,series:t},d=n.length>1?"Combination":"";return(e.langFormat("accessibility.series.summary."+t.type+d,h)||e.langFormat("accessibility.series.summary.default"+d,h))+(o?" "+o:"")+(r("yAxis")?" "+l:"")+(r("xAxis")?" "+c:"")}return{defaultPointDescriptionFormatter:I,defaultSeriesDescriptionFormatter:j,describeSeries:function(t){var e=t.chart,n=h(t),o=d(t),r=e.is3d&&e.is3d();o&&(o.lastChild!==n||r||v(o),N(t),m(e,o),function(t){var e=t.chart,n=e.options.chart,o=n.options3d&&n.options3d.enabled,r=e.series.length>1,c=e.options.accessibility.series.describeSingleSeries,l=(t.options.accessibility||{}).exposeAsGroupOnly;return!(o&&r)&&(r||c||l||S(t))}(t)?function(t,e){var n=t.options.accessibility||{},o=t.chart.options.accessibility,r=o.landmarkVerbosity;n.exposeAsGroupOnly?e.setAttribute("role","img"):"all"===r&&e.setAttribute("role","region"),e.setAttribute("tabindex","-1"),t.chart.styledMode||(e.style.outline="none"),e.setAttribute("aria-label",x(o.series.descriptionFormatter&&o.series.descriptionFormatter(t)||j(t)))}(t,o):o.setAttribute("aria-label",""))}}})),n(e,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[e["Core/Globals.js"],e["Core/Utilities.js"],e["Accessibility/Utils/Announcer.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Accessibility/Utils/EventProvider.js"],e["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],(function(t,e,n,o,r,c){var l=e.addEvent,h=e.defined,d=o.getChartTitle,m=c.defaultPointDescriptionFormatter,f=c.defaultSeriesDescriptionFormatter;function y(t){return!!t.options.accessibility.announceNewData.enabled}var v=function(){function e(t){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=t}return e.prototype.init=function(){var t=this.chart,e=t.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new r,this.announcer=new n(t,e),this.addEventListeners()},e.prototype.destroy=function(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()},e.prototype.addEventListeners=function(){var t=this,e=this.chart,n=this.eventProvider;n.addEvent(e,"afterDrilldown",(function(){t.lastAnnouncementTime=0})),n.addEvent(e,"afterAddSeries",(function(e){t.onSeriesAdded(e.series)})),n.addEvent(e,"redraw",(function(){t.announceDirtyData()}))},e.prototype.onSeriesAdded=function(t){y(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[t.name+t.index]=t,this.dirty.newSeries=h(this.dirty.newSeries)?void 0:t)},e.prototype.announceDirtyData=function(){var t,e,n=this.chart,o=this;if(n.options.accessibility.announceNewData&&this.dirty.hasDirty){var r=this.dirty.newPoint;r&&(r=1===(e=(t=r).series.data.filter((function(e){return t.x===e.x&&t.y===e.y}))).length?e[0]:t),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map((function(t){return o.dirty.allSeries[t]})),this.dirty.newSeries,r),this.dirty={allSeries:{}}}},e.prototype.queueAnnouncement=function(t,e,n){var o,r,c,l=this,h=this.chart.options.accessibility.announceNewData;if(h.enabled){var d=+new Date,m=d-this.lastAnnouncementTime,time=Math.max(0,h.minAnnounceInterval-m),f=(o=this.queuedAnnouncement&&this.queuedAnnouncement.series,r=t,c=(o||[]).concat(r||[]).reduce((function(t,e){return t[e.name+e.index]=e,t}),{}),Object.keys(c).map((function(t){return c[t]}))),y=this.buildAnnouncementMessage(f,e,n);y&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:d,message:y,series:f},this.queuedAnnouncementTimer=setTimeout((function(){l&&l.announcer&&(l.lastAnnouncementTime=+new Date,l.announcer.announce(l.queuedAnnouncement.message),delete l.queuedAnnouncement,delete l.queuedAnnouncementTimer)}),time))}},e.prototype.buildAnnouncementMessage=function(e,n,o){var r=this.chart,c=r.options.accessibility.announceNewData;if(c.announcementFormatter){var l=c.announcementFormatter(e,n,o);if(!1!==l)return l.length?l:null}var h=t.charts&&t.charts.length>1?"Multiple":"Single",y=n?"newSeriesAnnounce"+h:o?"newPointAnnounce"+h:"newDataAnnounce",v=d(r);return r.langFormat("accessibility.announceNewData."+y,{chartTitle:v,seriesDesc:n?f(n):null,pointDesc:o?m(o):null,point:o,series:n})},e}();return function(t){function e(t){var e=this.chart,n=this.newDataAnnouncer;n&&n.chart===e&&y(e)&&(n.dirty.newPoint=h(n.dirty.newPoint)?void 0:t.point)}function n(){var t=this.chart,e=this.newDataAnnouncer;e&&e.chart===t&&y(t)&&(e.dirty.hasDirty=!0,e.dirty.allSeries[this.name+this.index]=this)}t.composedClasses=[],t.compose=function(o){-1===t.composedClasses.indexOf(o)&&(t.composedClasses.push(o),l(o,"addPoint",e),l(o,"updatedData",n))}}(v||(v={})),v})),n(e,"Accessibility/ProxyElement.js",[e["Core/Globals.js"],e["Core/Utilities.js"],e["Accessibility/Utils/EventProvider.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e,n,o,r){var c=t.doc,l=e.attr,h=e.css,d=e.merge,m=o.fireEventOnWrappedOrUnwrappedElement,f=r.cloneMouseEvent,y=r.cloneTouchEvent,v=r.getFakeMouseEvent,x=r.removeElement;return function(){function t(t,e,o,r){this.chart=t,this.target=e,this.groupType=o;var l="ul"===o;this.eventProvider=new n;var h=l?c.createElement("li"):null,d=this.buttonElement=c.createElement("button");t.styledMode||this.hideButtonVisually(d),h?(l&&!t.styledMode&&(h.style.listStyle="none"),h.appendChild(d),this.element=h):this.element=d,this.updateTarget(e,r)}return t.prototype.click=function(){var t=this.getTargetPosition();t.x+=t.width/2,t.y+=t.height/2;var e=v("click",t);m(this.target.click,e)},t.prototype.updateTarget=function(t,e){this.target=t,this.updateCSSClassName(),l(this.buttonElement,d({"aria-label":this.getTargetAttr(t.click,"aria-label")},e)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,t.click),this.refreshPosition()},t.prototype.refreshPosition=function(){var t=this.getTargetPosition();h(this.buttonElement,{width:(t.width||1)+"px",height:(t.height||1)+"px",left:(Math.round(t.x)||0)+"px",top:(Math.round(t.y)||0)+"px"})},t.prototype.remove=function(){this.eventProvider.removeAddedEvents(),x(this.element)},t.prototype.updateCSSClassName=function(){var t=function(s){return s.indexOf("highcharts-no-tooltip")>-1},legend=this.chart.legend,e=legend.group&&legend.group.div,n=t(e&&e.className||""),o=t(this.getTargetAttr(this.target.click,"class")||"");this.buttonElement.className=n||o?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"},t.prototype.addProxyEventsToButton=function(button,t){var e=this;["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach((function(n){var o=0===n.indexOf("touch");e.eventProvider.addEvent(button,n,(function(e){var n=o?y(e):f(e);t&&m(t,n),e.stopPropagation(),o||e.preventDefault()}),{passive:!1})}))},t.prototype.hideButtonVisually=function(button){h(button,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})},t.prototype.getTargetPosition=function(){var t=this.target.click,e=t.element?t.element:t,n=this.target.visual||e,o=this.chart.renderTo;if(o&&n&&n.getBoundingClientRect){var r=n.getBoundingClientRect(),c=o.getBoundingClientRect();return{x:r.left-c.left,y:r.top-c.top,width:r.right-r.left,height:r.bottom-r.top}}return{x:0,y:0,width:1,height:1}},t.prototype.getTargetAttr=function(t,e){return t.element?t.element.getAttribute(e):t.getAttribute(e)},t}()})),n(e,"Accessibility/ProxyProvider.js",[e["Core/Globals.js"],e["Core/Utilities.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Accessibility/Utils/DOMElementProvider.js"],e["Accessibility/Utils/HTMLUtilities.js"],e["Accessibility/ProxyElement.js"]],(function(t,e,n,o,r,c){var l=t.doc,h=e.attr,d=e.css,m=n.unhideChartElementFromAT,f=r.removeElement,y=r.removeChildNodes;return function(){function t(t){this.chart=t,this.domElementProvider=new o,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}return t.prototype.addProxyElement=function(t,e,n){var o=this.groups[t];if(!o)throw new Error("ProxyProvider.addProxyElement: Invalid group key "+t);var r=new c(this.chart,e,o.type,n);return o.proxyContainerElement.appendChild(r.element),o.proxyElements.push(r),r},t.prototype.addGroup=function(t,e,n){if(!this.groups[t]){var o,r=this.domElementProvider.createElement(e);n&&n.role&&"div"!==e?(o=this.domElementProvider.createElement("div")).appendChild(r):o=r,o.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+t.replace(/\W/g,"-"),this.groups[t]={proxyContainerElement:r,groupElement:o,type:e,proxyElements:[]},h(o,n||{}),"ul"===e&&r.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(o),this.updateGroupOrder(this.groupOrder)}},t.prototype.updateGroupAttrs=function(t,e){var n=this.groups[t];if(!n)throw new Error("ProxyProvider.updateGroupAttrs: Invalid group key "+t);h(n.groupElement,e)},t.prototype.updateGroupOrder=function(t){var e=this;if(this.groupOrder=t.slice(),!this.isDOMOrderGroupOrder()){var n=t.indexOf("series"),o=n>-1?t.slice(0,n):t,r=n>-1?t.slice(n+1):[],c=l.activeElement;["before","after"].forEach((function(t){var n=e["before"===t?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"],c="before"===t?o:r;y(n),c.forEach((function(t){var o=e.groups[t];o&&n.appendChild(o.groupElement)}))})),(this.beforeChartProxyPosContainer.contains(c)||this.afterChartProxyPosContainer.contains(c))&&c&&c.focus&&c.focus()}},t.prototype.clearGroup=function(t){var e=this.groups[t];if(!e)throw new Error("ProxyProvider.clearGroup: Invalid group key "+t);y(e.proxyContainerElement)},t.prototype.removeGroup=function(t){var e=this.groups[t];e&&(f(e.groupElement),delete this.groups[t])},t.prototype.update=function(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()},t.prototype.updateProxyElementPositions=function(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))},t.prototype.updateGroupProxyElementPositions=function(t){var e=this.groups[t];e&&e.proxyElements.forEach((function(t){return t.refreshPosition()}))},t.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()},t.prototype.createProxyPosContainer=function(t){var e=this.domElementProvider.createElement("div");return e.setAttribute("aria-hidden","false"),e.className="highcharts-a11y-proxy-container"+(t?"-"+t:""),d(e,{top:"0",left:"0"}),this.chart.styledMode||(e.style.whiteSpace="nowrap",e.style.position="absolute"),e},t.prototype.getCurrentGroupOrderInDOM=function(){var t=this,e=function(e){for(var n=Object.keys(t.groups),i=n.length;i--;){var o=n[i],r=t.groups[o];if(r&&e===r.groupElement)return o}},n=function(t){for(var n=[],o=t.children,i=0;i<o.length;++i){var r=e(o[i]);r&&n.push(r)}return n},o=n(this.beforeChartProxyPosContainer),r=n(this.afterChartProxyPosContainer);return o.push("series"),o.concat(r)},t.prototype.isDOMOrderGroupOrder=function(){var t=this,e=this.getCurrentGroupOrderInDOM(),n=this.groupOrder.filter((function(e){return"series"===e||!!t.groups[e]})),i=e.length;if(i!==n.length)return!1;for(;i--;)if(e[i]!==n[i])return!1;return!0},t.prototype.updatePosContainerPositions=function(){var t=this.chart,e=t.renderer.box;t.container.insertBefore(this.afterChartProxyPosContainer,e.nextSibling),t.container.insertBefore(this.beforeChartProxyPosContainer,e),m(this.chart,this.afterChartProxyPosContainer),m(this.chart,this.beforeChartProxyPosContainer)},t}()})),n(e,"Extensions/RangeSelector.js",[e["Core/Axis/Axis.js"],e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/DefaultOptions.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Utilities.js"]],(function(t,e,n,o,r,c){var l=o.defaultOptions,h=c.addEvent,d=c.createElement,m=c.css,f=c.defined,y=c.destroyObjectProperties,v=c.discardElement,x=c.extend,A=c.find,w=c.fireEvent,C=c.isNumber,T=c.merge,E=c.objectEach,S=c.pad,P=c.pick,M=c.pInt,k=c.splat;x(l,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}}),x(l.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:""});var B=function(){function e(t){this.buttons=void 0,this.buttonOptions=e.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=t,this.init(t)}return e.prototype.clickButton=function(i,e){var n,o,r,c,l,d,m,y=this,v=y.chart,x=y.buttonOptions[i],A=v.xAxis[0],T=v.scroller&&v.scroller.getUnionExtremes()||A||{},E=T.dataMin,S=T.dataMax,M=A&&Math.round(Math.min(A.max,P(S,A.max))),B=x.type,D=x._range,I=x.dataGrouping;if(null!==E&&null!==S){if(v.fixedRange=D,y.setSelected(i),I&&(this.forcedDataGrouping=!0,t.prototype.setDataGrouping.call(A||{chart:this.chart},I,!1),this.frozenStates=x.preserveDataGrouping),"month"===B||"year"===B)A?(d={range:x,max:M,chart:v,dataMin:E,dataMax:S},n=A.minFromRange.call(d),C(d.newMax)&&(M=d.newMax)):D=x;else if(D)n=Math.max(M-D,E),M=Math.min(n+D,S);else if("ytd"===B){if(!A)return void(y.deferredYTDClick=i);void 0===S&&(E=Number.MAX_VALUE,S=Number.MIN_VALUE,v.series.forEach((function(t){var e=t.xData;E=Math.min(e[0],E),S=Math.max(e[e.length-1],S)})),e=!1),n=r=(m=y.getYTDExtremes(S,E,v.time.useUTC)).min,M=m.max}else"all"===B&&A&&(v.navigator&&v.navigator.baseSeries[0]&&(v.navigator.baseSeries[0].xAxis.options.range=void 0),n=E,M=S);f(n)&&(n+=x._offsetMin),f(M)&&(M+=x._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=i+1),A?A.setExtremes(n,M,P(e,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:x}):(o=k(v.options.xAxis)[0],l=o.range,o.range=D,c=o.min,o.min=r,h(v,"load",(function(){o.range=l,o.min=c}))),w(this,"afterBtnClick")}},e.prototype.setSelected=function(t){this.selected=this.options.selected=t},e.prototype.init=function(t){var e=this,n=t.options.rangeSelector,o=n.buttons||e.defaultButtons.slice(),r=n.selected,c=function(){var t=e.minInput,n=e.maxInput;t&&t.blur&&w(t,"blur"),n&&n.blur&&w(n,"blur")};e.chart=t,e.options=n,e.buttons=[],e.buttonOptions=o,this.eventsToUnbind=[],this.eventsToUnbind.push(h(t.container,"mousedown",c)),this.eventsToUnbind.push(h(t,"resize",c)),o.forEach(e.computeButtonRange),void 0!==r&&o[r]&&this.clickButton(r,!1),this.eventsToUnbind.push(h(t,"load",(function(){t.xAxis&&t.xAxis[0]&&h(t.xAxis[0],"setExtremes",(function(n){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==n.trigger&&"updatedData"!==n.trigger&&e.forcedDataGrouping&&!e.frozenStates&&this.setDataGrouping(!1,!1)}))})))},e.prototype.updateButtonStates=function(){var t=this,e=this.chart,n=this.dropdown,o=e.xAxis[0],r=Math.round(o.max-o.min),c=!o.hasVisibleSeries,l=864e5,h=e.scroller&&e.scroller.getUnionExtremes()||o,d=h.dataMin,m=h.dataMax,f=t.getYTDExtremes(m,d,e.time.useUTC),y=f.min,v=f.max,x=t.selected,A=C(x),w=t.options.allButtonsEnabled,T=t.buttons;t.buttonOptions.forEach((function(e,i){var h,select,f=e._range,C=e.type,E=e.count||1,button=T[i],S=0,P=e._offsetMax-e._offsetMin,M=i===x,k=f>m-d,B=f<o.minRange,D=!1,I=!1,N=f===r;("month"===C||"year"===C)&&r+36e5>={month:28,year:365}[C]*l*E-P&&r-36e5<={month:31,year:366}[C]*l*E+P?N=!0:"ytd"===C?(N=v-y+P===r,D=!M):"all"===C&&(N=o.max-o.min>=m-d,I=!M&&A&&N),h=!w&&(k||B||I||c),select=M&&N||N&&!A&&!D||M&&t.frozenStates,h?S=3:select&&(A=!0,S=2),button.state!==S&&(button.setState(S),n&&(n.options[i+1].disabled=h,2===S&&(n.selectedIndex=i+1)),0===S&&x===i&&t.setSelected())}))},e.prototype.computeButtonRange=function(t){var e=t.type,n=t.count||1,o={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};o[e]?t._range=o[e]*n:"month"!==e&&"year"!==e||(t._range=24*{month:30,year:365}[e]*36e5*n),t._offsetMin=P(t.offsetMin,0),t._offsetMax=P(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},e.prototype.getInputValue=function(t){var input="min"===t?this.minInput:this.maxInput,e=this.chart.options.rangeSelector,time=this.chart.time;return input?("text"===input.type&&e.inputDateParser||this.defaultInputDateParser)(input.value,time.useUTC,time):0},e.prototype.setInputValue=function(t,e){var n=this.options,time=this.chart.time,input="min"===t?this.minInput:this.maxInput,o="min"===t?this.minDateBox:this.maxDateBox;if(input){var r=input.getAttribute("data-hc-time"),c=f(r)?Number(r):void 0;if(f(e)){var l=c;f(l)&&input.setAttribute("data-hc-time-previous",l),input.setAttribute("data-hc-time",e),c=e}input.value=time.dateFormat(this.inputTypeFormats[input.type]||n.inputEditDateFormat,c),o&&o.attr({text:time.dateFormat(n.inputDateFormat,c)})}},e.prototype.setInputExtremes=function(t,e,n){var input="min"===t?this.minInput:this.maxInput;if(input){var o=this.inputTypeFormats[input.type],time=this.chart.time;if(o){var r=time.dateFormat(o,e);input.min!==r&&(input.min=r);var c=time.dateFormat(o,n);input.max!==c&&(input.max=c)}}},e.prototype.showInput=function(t){var e="min"===t?this.minDateBox:this.maxDateBox,input="min"===t?this.minInput:this.maxInput;if(input&&e&&this.inputGroup){var n="text"===input.type,o=this.inputGroup,r=o.translateX,c=o.translateY,l=this.options.inputBoxWidth;m(input,{width:n?e.width+(l?-2:20)+"px":"auto",height:n?e.height-2+"px":"auto",border:"2px solid silver"}),m(input,n&&l?{left:r+e.x+"px",top:c+"px"}:{left:Math.min(Math.round(e.x+r-(input.offsetWidth-e.width)/2),this.chart.chartWidth-input.offsetWidth)+"px",top:c-(input.offsetHeight-e.height)/2+"px"})}},e.prototype.hideInput=function(t){var input="min"===t?this.minInput:this.maxInput;input&&m(input,{top:"-9999em",border:0,width:"1px",height:"1px"})},e.prototype.defaultInputDateParser=function(t,e,time){var o,input=t.split("/").join("-").split(" ").join("T");if(-1===input.indexOf("T")&&(input+="T00:00"),e)input+="Z";else if(n.isSafari&&(!((o=input).length>6)||o.lastIndexOf("-")!==o.length-6&&o.lastIndexOf("+")!==o.length-6)){var r=new Date(input).getTimezoneOffset()/60;input+=r<=0?"+"+S(-r)+":00":"-"+S(r)+":00"}var c=Date.parse(input);if(!C(c)){var l=t.split("-");c=Date.UTC(M(l[0]),M(l[1])-1,M(l[2]))}return time&&e&&C(c)&&(c+=time.getTimezoneOffset(c)),c},e.prototype.drawInput=function(t){var e=this,o=e.chart,div=e.div,r=e.inputGroup,c=this,h=o.renderer.style||{},f=o.renderer,y=o.options.rangeSelector,v=l.lang,A="min"===t;function w(){var e=c.getInputValue(t),n=o.xAxis[0],r=o.scroller&&o.scroller.xAxis?o.scroller.xAxis:n,l=r.dataMin,h=r.dataMax,d=c.maxInput,m=c.minInput;e!==Number(input.getAttribute("data-hc-time-previous"))&&C(e)&&(input.setAttribute("data-hc-time-previous",e),A&&d&&C(l)?e>Number(d.getAttribute("data-hc-time"))?e=void 0:e<l&&(e=l):m&&C(h)&&(e<Number(m.getAttribute("data-hc-time"))?e=void 0:e>h&&(e=h)),void 0!==e&&n.setExtremes(A?e:n.min,A?n.max:e,void 0,void 0,{trigger:"rangeSelectorInput"}))}var text=v[A?"rangeSelectorFrom":"rangeSelectorTo"]||"",label=f.label(text,0).addClass("highcharts-range-label").attr({padding:text?2:0,height:text?y.inputBoxHeight:0}).add(r),E=f.label("",0).addClass("highcharts-range-input").attr({padding:2,width:y.inputBoxWidth,height:y.inputBoxHeight,"text-align":"center"}).on("click",(function(){c.showInput(t),c[t+"Input"].focus()}));o.styledMode||E.attr({stroke:y.inputBoxBorderColor,"stroke-width":1}),E.add(r);var input=d("input",{name:t,className:"highcharts-range-selector"},void 0,div);input.setAttribute("type",function(t){if(-1!==t.indexOf("%L"))return"text";var e=["a","A","d","e","w","b","B","m","o","y","Y"].some((function(e){return-1!==t.indexOf("%"+e)})),time=["H","k","I","l","M","S"].some((function(e){return-1!==t.indexOf("%"+e)}));return e&&time?"datetime-local":e?"date":time?"time":"text"}(y.inputDateFormat||"%b %e, %Y")),o.styledMode||(label.css(T(h,y.labelStyle)),E.css(T({color:"#333333"},h,y.inputStyle)),m(input,x({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:h.fontSize,fontFamily:h.fontFamily,top:"-9999em"},y.inputStyle))),input.onfocus=function(){c.showInput(t)},input.onblur=function(){input===n.doc.activeElement&&w(),c.hideInput(t),c.setInputValue(t),input.blur()};var S=!1;return input.onchange=function(){S||(w(),c.hideInput(t),input.blur())},input.onkeypress=function(t){13===t.keyCode&&w()},input.onkeydown=function(t){S=!0,38!==t.keyCode&&40!==t.keyCode||w()},input.onkeyup=function(){S=!1},{dateBox:E,input:input,label:label}},e.prototype.getPosition=function(){var t=this.chart,e=t.options.rangeSelector,n="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:n+e.buttonPosition.y,inputTop:n+e.inputPosition.y-10}},e.prototype.getYTDExtremes=function(t,e,n){var o,time=this.chart.time,r=new time.Date(t),c=time.get("FullYear",r),l=n?time.Date.UTC(c,0,1):+new time.Date(c,0,1);o=Math.max(e,l);var h=r.getTime();return{max:Math.min(t||h,h),min:o}},e.prototype.render=function(t,e){var n=this.chart,o=n.renderer,r=n.container,c=n.options,l=c.rangeSelector,h=P(c.chart.style&&c.chart.style.zIndex,0)+1,m=l.inputEnabled,y=this.rendered;if(!1!==l.enabled){if(!y&&(this.group=o.g("range-selector-group").attr({zIndex:7}).add(),this.div=d("div",void 0,{position:"relative",height:0,zIndex:h}),this.buttonOptions.length&&this.renderButtons(),r.parentNode&&r.parentNode.insertBefore(this.div,r),m)){this.inputGroup=o.g("input-group").add(this.group);var v=this.drawInput("min");this.minDateBox=v.dateBox,this.minLabel=v.label,this.minInput=v.input;var x=this.drawInput("max");this.maxDateBox=x.dateBox,this.maxLabel=x.label,this.maxInput=x.input}if(m){this.setInputValue("min",t),this.setInputValue("max",e);var A=n.scroller&&n.scroller.getUnionExtremes()||n.xAxis[0]||{};if(f(A.dataMin)&&f(A.dataMax)){var w=n.xAxis[0].minRange||0;this.setInputExtremes("min",A.dataMin,Math.min(A.dataMax,this.getInputValue("max"))-w),this.setInputExtremes("max",Math.max(A.dataMin,this.getInputValue("min"))+w,A.dataMax)}if(this.inputGroup){var C=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach((function(label){if(label){var t=label.getBBox().width;t&&(label.attr({x:C}),C+=t+l.inputSpacing)}}))}}this.alignElements(),this.rendered=!0}},e.prototype.renderButtons=function(){var t=this,e=this,o=e.buttons,r=e.chart,c=e.options,m=l.lang,f=r.renderer,y=T(c.buttonTheme),v=y&&y.states,x=y.width||28;delete y.width,delete y.states,this.buttonGroup=f.g("range-selector-buttons").add(this.group);var A=this.dropdown=d("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);h(A,"touchstart",(function(){A.style.fontSize="16px"})),[[n.isMS?"mouseover":"mouseenter"],[n.isMS?"mouseout":"mouseleave"],["change","click"]].forEach((function(e){var n=e[0],r=e[1];h(A,n,(function(){var button=o[t.currentButtonIndex()];button&&w(button.element,r||n)}))})),this.zoomText=f.label(m&&m.rangeSelectorZoom||"",0).attr({padding:c.buttonTheme.padding,height:c.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(c.labelStyle),y["stroke-width"]=P(y["stroke-width"],0)),d("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,A),this.buttonOptions.forEach((function(e,i){d("option",{textContent:e.title||e.text},void 0,A),o[i]=f.button(e.text,0,0,(function(n){var o,r=e.events&&e.events.click;r&&(o=r.call(e,n)),!1!==o&&t.clickButton(i),t.isActive=!0}),y,v&&v.hover,v&&v.select,v&&v.disabled).attr({"text-align":"center",width:x}).add(t.buttonGroup),e.title&&o[i].attr("title",e.title)}))},e.prototype.alignElements=function(){var t=this,e=this,n=e.buttonGroup,o=e.buttons,r=e.chart,c=e.group,l=e.inputGroup,h=e.options,d=e.zoomText,m=r.options,f=m.exporting&&!1!==m.exporting.enabled&&m.navigation&&m.navigation.buttonOptions,y=h.buttonPosition,v=h.inputPosition,x=h.verticalAlign,A=function(e,n){return f&&t.titleCollision(r)&&"top"===x&&"right"===n.align&&n.y-e.getBBox().height-12<(f.y||0)+(f.height||0)+r.spacing[0]?-40:0},w=r.plotLeft;if(c&&y&&v){var C=y.x-r.spacing[3];if(n){if(this.positionButtons(),!this.initialButtonGroupWidth){var T=0;d&&(T+=d.getBBox().width+5),o.forEach((function(button,i){T+=button.width,i!==o.length-1&&(T+=h.buttonSpacing)})),this.initialButtonGroupWidth=T}w-=r.spacing[3],this.updateButtonStates();var E=A(n,y);this.alignButtonGroup(E),c.placed=n.placed=r.hasLoaded}var S=0;l&&(S=A(l,v),"left"===v.align?C=w:"right"===v.align&&(C=-Math.max(r.axisOffset[1],-S)),l.align({y:v.y,width:l.getBBox().width,align:v.align,x:v.x+C-2},!0,r.spacingBox),l.placed=r.hasLoaded),this.handleCollision(S),c.align({verticalAlign:x},!0,r.spacingBox);var M=c.alignAttr.translateY,k=c.getBBox().height+20,B=0;if("bottom"===x){var D=r.legend&&r.legend.options;B=M-(k=k+(D&&"bottom"===D.verticalAlign&&D.enabled&&!D.floating?r.legend.legendHeight+P(D.margin,10):0)-20)-(h.floating?0:h.y)-(r.titleOffset?r.titleOffset[2]:0)-10}"top"===x?(h.floating&&(B=0),r.titleOffset&&r.titleOffset[0]&&(B=r.titleOffset[0]),B+=r.margin[0]-r.spacing[0]||0):"middle"===x&&(v.y===y.y?B=M:(v.y||y.y)&&(v.y<0||y.y<0?B-=Math.min(v.y,y.y):B=M-k)),c.translate(h.x,h.y+Math.floor(B));var I=this,N=I.minInput,j=I.maxInput,F=I.dropdown;h.inputEnabled&&N&&j&&(N.style.marginTop=c.translateY+"px",j.style.marginTop=c.translateY+"px"),F&&(F.style.marginTop=c.translateY+"px")}},e.prototype.alignButtonGroup=function(t,e){var n=this,o=n.chart,r=n.options,c=n.buttonGroup,l=(n.buttons,r.buttonPosition),h=o.plotLeft-o.spacing[3],d=l.x-o.spacing[3];"right"===l.align?d+=t-h:"center"===l.align&&(d-=h/2),c&&c.align({y:l.y,width:P(e,this.initialButtonGroupWidth),align:l.align,x:d},!0,o.spacingBox)},e.prototype.positionButtons=function(){var t=this,e=t.buttons,n=t.chart,o=t.options,r=t.zoomText,c=n.hasLoaded?"animate":"attr",l=o.buttonPosition,h=n.plotLeft,d=h;r&&"hidden"!==r.visibility&&(r[c]({x:P(h+l.x,h)}),d+=l.x+r.getBBox().width+5),this.buttonOptions.forEach((function(t,i){"hidden"!==e[i].visibility?(e[i][c]({x:d}),d+=e[i].width+o.buttonSpacing):e[i][c]({x:h})}))},e.prototype.handleCollision=function(t){var e=this,n=this,o=n.chart,r=n.buttonGroup,c=n.inputGroup,l=this.options,h=l.buttonPosition,d=l.dropdown,m=l.inputPosition,f=function(){var t=0;return e.buttons.forEach((function(button){var e=button.getBBox();e.width>t&&(t=e.width)})),t},y=function(e){if(c&&r){var n=c.alignAttr.translateX+c.alignOptions.x-t+c.getBBox().x+2,o=c.alignOptions.width,l=r.alignAttr.translateX+r.getBBox().x;return l+e>n&&n+o>l&&h.y<m.y+c.getBBox().height}return!1},v=function(){c&&r&&c.attr({translateX:c.alignAttr.translateX+(o.axisOffset[1]>=-t?0:-t),translateY:c.alignAttr.translateY+r.getBBox().height+10})};if(r){if("always"===d)return this.collapseButtons(t),void(y(f())&&v());"never"===d&&this.expandButtons()}c&&r?m.align===h.align||y(this.initialButtonGroupWidth+20)?"responsive"===d?(this.collapseButtons(t),y(f())&&v()):v():"responsive"===d&&this.expandButtons():r&&"responsive"===d&&(this.initialButtonGroupWidth>o.plotWidth?this.collapseButtons(t):this.expandButtons())},e.prototype.collapseButtons=function(t){var e=this,n=e.buttons,o=e.buttonOptions,r=e.chart,c=e.dropdown,l=e.options,h=e.zoomText,d=r.userOptions.rangeSelector&&r.userOptions.rangeSelector.buttonTheme||{},m=function(text){return{text:text?text+" ":"",width:"auto",paddingLeft:P(l.buttonTheme.paddingLeft,d.padding,8),paddingRight:P(l.buttonTheme.paddingRight,d.padding,8)}};h&&h.hide();var f=!1;o.forEach((function(t,i){var button=n[i];2!==button.state?button.hide():(button.show(),button.attr(m(t.text)),f=!0)})),f||(c&&(c.selectedIndex=0),n[0].show(),n[0].attr(m(this.zoomText&&this.zoomText.textStr)));var y=l.buttonPosition.align;this.positionButtons(),"right"!==y&&"center"!==y||this.alignButtonGroup(t,n[this.currentButtonIndex()].getBBox().width),this.showDropdown()},e.prototype.expandButtons=function(){var t=this,e=t.buttons,n=t.buttonOptions,o=t.options,r=t.zoomText;this.hideDropdown(),r&&r.show(),n.forEach((function(t,i){var button=e[i];button.show(),button.attr({text:t.text,width:o.buttonTheme.width||28,paddingLeft:P(o.buttonTheme.paddingLeft,"unset"),paddingRight:P(o.buttonTheme.paddingRight,"unset")}),button.state<2&&button.setState(0)})),this.positionButtons()},e.prototype.currentButtonIndex=function(){var t=this.dropdown;return t&&t.selectedIndex>0?t.selectedIndex-1:0},e.prototype.showDropdown=function(){var t=this,e=t.buttonGroup,n=t.buttons,o=t.chart,r=t.dropdown;if(e&&r){var c=e.translateX,l=e.translateY,h=n[this.currentButtonIndex()].getBBox();m(r,{left:o.plotLeft+c+"px",top:l+.5+"px",width:h.width+"px",height:h.height+"px"}),this.hasVisibleDropdown=!0}},e.prototype.hideDropdown=function(){var t=this.dropdown;t&&(m(t,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},e.prototype.getHeight=function(){var t,e=this.options,n=this.group,o=e.inputPosition,r=e.buttonPosition,c=e.y,l=r.y,h=o.y,d=0;return e.height?e.height:(this.alignElements(),d=n?n.getBBox(!0).height+13+c:0,t=Math.min(h,l),(h<0&&l<0||h>0&&l>0)&&(d+=Math.abs(t)),d)},e.prototype.titleCollision=function(t){return!(t.options.title.text||t.options.subtitle.text)},e.prototype.update=function(t){var e=this.chart;T(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),this.render()},e.prototype.destroy=function(){var t=this,n=t.minInput,o=t.maxInput;t.eventsToUnbind&&(t.eventsToUnbind.forEach((function(t){return t()})),t.eventsToUnbind=void 0),y(t.buttons),n&&(n.onfocus=n.onblur=n.onchange=null),o&&(o.onfocus=o.onblur=o.onchange=null),E(t,(function(n,o){n&&"chart"!==o&&(n instanceof r?n.destroy():n instanceof window.HTMLElement&&v(n)),n!==e.prototype[o]&&(t[o]=null)}),this)},e}();if(B.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],B.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"},t.prototype.minFromRange=function(){var t,e,n,o=this.range,r=o.type,c=this.max,time=this.chart.time,l=function(base,t){var e="year"===r?"FullYear":"Month",n=new time.Date(base),o=time.get(e,n);return time.set(e,n,o+t),o===time.get(e,n)&&time.set("Date",n,0),n.getTime()-base};return C(o)?(t=c-o,n=o):(t=c+l(c,-o.count),this.chart&&(this.chart.fixedRange=c-t)),e=P(this.dataMin,Number.MIN_VALUE),C(t)||(t=e),t<=e&&(t=e,void 0===n&&(n=l(t,o.count)),this.newMax=Math.min(t+n,this.dataMax)),C(c)||(t=void 0),t},!n.RangeSelector){var D=[],I=function(t){var e,legend,n,o,r=t.rangeSelector;function c(){r&&(e=t.xAxis[0].getExtremes(),legend=t.legend,o=r&&r.options.verticalAlign,C(e.min)&&r.render(e.min,e.max),legend.display&&"top"===o&&o===legend.options.verticalAlign&&(n=T(t.spacingBox),"vertical"===legend.options.layout?n.y=t.plotTop:n.y+=r.getHeight(),legend.group.placed=!1,legend.align(n)))}r&&(A(D,(function(e){return e[0]===t}))||D.push([t,[h(t.xAxis[0],"afterSetExtremes",(function(t){r&&r.render(t.min,t.max)})),h(t,"redraw",c)]]),c())};h(e,"afterGetContainer",(function(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new B(this))})),h(e,"beforeRender",(function(){var t,e=this,n=e.axes,o=e.rangeSelector;o&&(C(o.deferredYTDClick)&&(o.clickButton(o.deferredYTDClick),delete o.deferredYTDClick),n.forEach((function(t){t.updateNames(),t.setScale()})),e.getAxisMargins(),o.render(),t=o.options.verticalAlign,o.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))})),h(e,"update",(function(t){var e,n=t.options.rangeSelector,o=this.rangeSelector,r=this.extraBottomMargin,c=this.extraTopMargin;n&&n.enabled&&!f(o)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=o=new B(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,o&&(I(this),e=n&&n.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),this.extraBottomMargin===r&&this.extraTopMargin===c||(this.isDirtyBox=!0))})),h(e,"render",(function(){var t,e=this.rangeSelector;e&&!e.options.floating&&(e.render(),"bottom"===(t=e.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))})),h(e,"getMargins",(function(){var t,e=this.rangeSelector;e&&(t=e.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))})),e.prototype.callbacks.push(I),h(e,"destroy",(function(){for(var i=0;i<D.length;i++){var t=D[i];if(t[0]===this)return t[1].forEach((function(t){return t()})),void D.splice(i,1)}})),n.RangeSelector=B}return B})),n(e,"Accessibility/Components/RangeSelectorComponent.js",[e["Extensions/RangeSelector.js"],e["Accessibility/AccessibilityComponent.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Accessibility/Utils/Announcer.js"],e["Accessibility/KeyboardNavigationHandler.js"],e["Core/Utilities.js"]],(function(t,e,n,o,r,c){var l,h=this&&this.__extends||(l=function(t,b){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},l(t,b)},function(t,b){function e(){this.constructor=t}l(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),d=n.unhideChartElementFromAT,m=n.getAxisRangeDescription,f=c.addEvent,y=c.attr,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.announcer=void 0,e}return h(e,t),e.prototype.init=function(){var t=this.chart;this.announcer=new o(t,"polite")},e.prototype.onChartUpdate=function(){var t=this.chart,component=this,e=t.rangeSelector;e&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),e.buttons&&e.buttons.length&&e.buttons.forEach((function(button){component.setRangeButtonAttrs(button)})),e.maxInput&&e.minInput&&["minInput","maxInput"].forEach((function(n,i){var input=e[n];input&&(d(t,input),component.setRangeInputAttrs(input,"accessibility.rangeSelector."+(i?"max":"min")+"InputLabel"))})))},e.prototype.updateSelectorVisibility=function(){var t=this.chart,e=t.rangeSelector,n=e&&e.dropdown,o=e&&e.buttons||[],r=function(t){return t.setAttribute("aria-hidden",!0)};e&&e.hasVisibleDropdown&&n?(d(t,n),o.forEach((function(t){return r(t.element)}))):(n&&r(n),o.forEach((function(e){return d(t,e.element)})))},e.prototype.setDropdownAttrs=function(){var t=this.chart,e=t.rangeSelector&&t.rangeSelector.dropdown;if(e){var label=t.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:t.options.lang.rangeSelectorZoom});e.setAttribute("aria-label",label),e.setAttribute("tabindex",-1)}},e.prototype.setRangeButtonAttrs=function(button){y(button.element,{tabindex:-1,role:"button"})},e.prototype.setRangeInputAttrs=function(input,t){var e=this.chart;y(input,{tabindex:-1,"aria-label":e.langFormat(t,{chart:e})})},e.prototype.onButtonNavKbdArrowKey=function(t,e){var n=t.response,o=this.keyCodes,r=this.chart,c=r.options.accessibility.keyboardNavigation.wrapAround,l=e===o.left||e===o.up?-1:1;return r.highlightRangeSelectorButton(r.highlightedRangeSelectorItemIx+l)?n.success:c?(t.init(l),n.success):n[l>0?"next":"prev"]},e.prototype.onButtonNavKbdClick=function(t){var e=t.response,n=this.chart;return 3===n.oldRangeSelectorItemState||this.fakeClickEvent(n.rangeSelector.buttons[n.highlightedRangeSelectorItemIx].element),e.success},e.prototype.onAfterBtnClick=function(){var t=this.chart,e=m(t.xAxis[0]),n=t.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:t,axisRangeDescription:e});n&&this.announcer.announce(n)},e.prototype.onInputKbdMove=function(t){var e=this.chart,n=e.rangeSelector,o=e.highlightedInputRangeIx=(e.highlightedInputRangeIx||0)+t;if(o>1||o<0)e.accessibility&&(e.accessibility.keyboardNavigation.tabindexContainer.focus(),e.accessibility.keyboardNavigation[t<0?"prev":"next"]());else if(n){var r=n[o?"maxDateBox":"minDateBox"],c=n[o?"maxInput":"minInput"];r&&c&&e.setFocusToElement(r,c)}},e.prototype.onInputNavInit=function(t){var e=this,component=this,n=this.chart,o=t>0?0:1,r=n.rangeSelector,c=r&&r[o?"maxDateBox":"minDateBox"],l=r&&r.minInput,h=r&&r.maxInput,d=o?h:l;if(n.highlightedInputRangeIx=o,c&&l&&h){n.setFocusToElement(c,d),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();var m=function(t){(t.which||t.keyCode)===e.keyCodes.tab&&(t.preventDefault(),t.stopPropagation(),component.onInputKbdMove(t.shiftKey?-1:1))},y=f(l,"keydown",m),v=f(h,"keydown",m);this.removeInputKeydownHandler=function(){y(),v()}}},e.prototype.onInputNavTerminate=function(){var t=this.chart.rangeSelector||{};t.maxInput&&t.hideInput("max"),t.minInput&&t.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)},e.prototype.initDropdownNav=function(){var t=this,e=this.chart,n=e.rangeSelector,o=n&&n.dropdown;n&&o&&(e.setFocusToElement(n.buttonGroup,o),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=f(o,"keydown",(function(n){var o=(n.which||n.keyCode)===t.keyCodes.tab,r=e.accessibility;o&&(n.preventDefault(),n.stopPropagation(),r&&(r.keyboardNavigation.tabindexContainer.focus(),r.keyboardNavigation[n.shiftKey?"prev":"next"]()))})))},e.prototype.getRangeSelectorButtonNavigation=function(){var t=this.chart,e=this.keyCodes,component=this;return new r(t,{keyCodeMap:[[[e.left,e.right,e.up,e.down],function(t){return component.onButtonNavKbdArrowKey(this,t)}],[[e.enter,e.space],function(){return component.onButtonNavKbdClick(this)}]],validate:function(){return!!(t.rangeSelector&&t.rangeSelector.buttons&&t.rangeSelector.buttons.length)},init:function(e){var n=t.rangeSelector;if(n&&n.hasVisibleDropdown)component.initDropdownNav();else if(n){var o=n.buttons.length-1;t.highlightRangeSelectorButton(e>0?0:o)}},terminate:function(){component.removeDropdownKeydownHandler&&(component.removeDropdownKeydownHandler(),delete component.removeDropdownKeydownHandler)}})},e.prototype.getRangeSelectorInputNavigation=function(){var t=this.chart,component=this;return new r(t,{keyCodeMap:[],validate:function(){return function(t){return Boolean(t.rangeSelector&&t.rangeSelector.inputGroup&&"hidden"!==t.rangeSelector.inputGroup.element.style.visibility&&!1!==t.options.rangeSelector.inputEnabled&&t.rangeSelector.minInput&&t.rangeSelector.maxInput)}(t)},init:function(t){component.onInputNavInit(t)},terminate:function(){component.onInputNavTerminate()}})},e.prototype.getKeyboardNavigation=function(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]},e.prototype.destroy=function(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()},e}(e);return function(e){var n=[];function o(t){var e=this.rangeSelector&&this.rangeSelector.buttons||[],n=this.highlightedRangeSelectorItemIx,o=this.rangeSelector&&this.rangeSelector.selected;return void 0!==n&&e[n]&&n!==o&&e[n].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=t,!!e[t]&&(this.setFocusToElement(e[t].box,e[t].element),t!==o&&(this.oldRangeSelectorItemState=e[t].state,e[t].setState(1)),!0)}function r(){var t=this.chart.accessibility;if(t&&t.components.rangeSelector)return t.components.rangeSelector.onAfterBtnClick()}e.compose=function(e,c){-1===n.indexOf(e)&&(n.push(e),e.prototype.highlightRangeSelectorButton=o),-1===n.indexOf(c)&&(n.push(c),f(t,"afterBtnClick",r))}}(v||(v={})),v})),n(e,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[e["Core/Utilities.js"]],(function(t){var e,n=t.addEvent,o=t.merge;return function(t){var e=[];function r(t){o(!0,t,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function c(t){return t.marker.states&&t.marker.states.normal&&t.marker.states.normal.opacity}function l(t){return!!(t._hasPointMarkers&&t.points&&t.points.length)}function h(){var t=this;t.chart.styledMode&&(t.markerGroup&&t.markerGroup[t.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),l(t)&&t.points.forEach((function(t){t.graphic&&(t.graphic[t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),t.graphic[!1===t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))})))}function d(t){this.resetA11yMarkerOptions=o(t.options.marker||{},this.userOptions.marker||{})}function m(){var t=this,e=t.options;!function(t){var e=t.chart.options.accessibility.enabled,n=!1!==(t.options.accessibility&&t.options.accessibility.enabled);return e&&n&&function(t){var e=t.chart.options.accessibility;return t.points.length<e.series.pointDescriptionEnabledThreshold||!1===e.series.pointDescriptionEnabledThreshold}(t)}(t)?t.a11yMarkersForced&&(delete t.a11yMarkersForced,function(t){var e=t.resetA11yMarkerOptions;e&&o(!0,t.options,{marker:{enabled:e.enabled,states:{normal:{opacity:e.states&&e.states.normal&&e.states.normal.opacity}}}})}(t)):(e.marker&&!1===e.marker.enabled&&(t.a11yMarkersForced=!0,r(t.options)),l(t)&&function(t){for(var i=t.points.length;i--;){var e=t.points[i],n=e.options,o=e.hasForcedA11yMarker;if(delete e.hasForcedA11yMarker,n.marker){var l=o&&0===c(n);n.marker.enabled&&!l?(f(n),e.hasForcedA11yMarker=!1):!1===n.marker.enabled&&(r(n),e.hasForcedA11yMarker=!0)}}}(t))}function f(t){o(!0,t.marker,{states:{normal:{opacity:c(t)||1}}})}t.compose=function(t){-1===e.indexOf(t)&&(e.push(t),n(t,"afterSetOptions",d),n(t,"render",m),n(t,"afterRender",h))}}(e||(e={})),e})),n(e,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[e["Core/Series/Point.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Globals.js"],e["Core/Utilities.js"],e["Accessibility/KeyboardNavigationHandler.js"],e["Accessibility/Utils/EventProvider.js"],e["Accessibility/Utils/ChartUtilities.js"]],(function(t,e,n,o,r,c,l,h){var d=n.seriesTypes,m=o.doc,f=r.defined,y=r.fireEvent,v=h.getPointFromXY,x=h.getSeriesFromName,A=h.scrollToPoint;function w(t){var e=t.index,n=t.series.points,i=n.length;if(n[e]===t)return e;for(;i--;)if(n[i]===t)return i}function C(t){var e=t.chart.options.accessibility.keyboardNavigation.seriesNavigation,n=t.options.accessibility||{},o=n.keyboardNavigation;return o&&!1===o.enabled||!1===n.enabled||!1===t.options.enableMouseTracking||!t.visible||e.pointNavigationEnabledThreshold&&e.pointNavigationEnabledThreshold<=t.points.length}function T(t){var e=t.series.chart.options.accessibility,n=t.options.accessibility&&!1===t.options.accessibility.enabled;return t.isNull&&e.keyboardNavigation.seriesNavigation.skipNullPoints||!1===t.visible||!1===t.isInside||n||C(t.series)}function E(t){return delete t.highlightedPoint,t.series.reduce((function(t,e){return t||e.highlightFirstValidPoint()}),!1)}var S=function(){function n(t,e){this.keyCodes=e,this.chart=t}return n.prototype.init=function(){var n=this,o=this.chart,r=this.eventProvider=new l;r.addEvent(e,"destroy",(function(){return n.onSeriesDestroy(this)})),r.addEvent(o,"afterDrilldown",(function(){!function(t){E(t),t.focusElement&&t.focusElement.removeFocusBorder()}(this)})),r.addEvent(o,"drilldown",(function(t){var e=t.point,o=e.series;n.lastDrilledDownPoint={x:e.x,y:e.y,seriesName:o?o.name:""}})),r.addEvent(o,"drillupall",(function(){setTimeout((function(){n.onDrillupAll()}),10)})),r.addEvent(t,"afterSetState",(function(){var t=this,e=t.graphic&&t.graphic.element,n=m.activeElement,r=n&&n.getAttribute("class"),c=r&&r.indexOf("highcharts-a11y-proxy-button")>-1;o.highlightedPoint===t&&n!==e&&!c&&e&&e.focus&&e.focus()}))},n.prototype.onDrillupAll=function(){var t,e=this.lastDrilledDownPoint,n=this.chart,o=e&&x(n,e.seriesName);e&&o&&f(e.x)&&f(e.y)&&(t=v(o,e.x,e.y)),n.container&&n.container.focus(),t&&t.highlight&&t.highlight(),n.focusElement&&n.focusElement.removeFocusBorder()},n.prototype.getKeyboardNavigationHandler=function(){var t=this,e=this.keyCodes,n=this.chart,o=n.inverted;return new c(n,{keyCodeMap:[[o?[e.up,e.down]:[e.left,e.right],function(e){return t.onKbdSideways(this,e)}],[o?[e.left,e.right]:[e.up,e.down],function(e){return t.onKbdVertical(this,e)}],[[e.enter,e.space],function(t,e){var o=n.highlightedPoint;return o&&(e.point=o,y(o.series,"click",e),o.firePointEvent("click")),this.response.success}],[[e.home],function(){return E(n),this.response.success}],[[e.end],function(){return function(t){for(var i=t.series.length;i--&&(t.highlightedPoint=t.series[i].points[t.series[i].points.length-1],!t.series[i].highlightFirstValidPoint()););}(n),this.response.success}],[[e.pageDown,e.pageUp],function(t){return n.highlightAdjacentSeries(t===e.pageDown),this.response.success}]],init:function(){return E(n),this.response.success},terminate:function(){return t.onHandlerTerminate()}})},n.prototype.onKbdSideways=function(t,e){var n=this.keyCodes,o=e===n.right||e===n.down;return this.attemptHighlightAdjacentPoint(t,o)},n.prototype.onKbdVertical=function(t,e){var n=this.chart,o=this.keyCodes,r=e===o.down||e===o.right,c=n.options.accessibility.keyboardNavigation.seriesNavigation;return c.mode&&"serialize"===c.mode?this.attemptHighlightAdjacentPoint(t,r):(n[n.highlightedPoint&&n.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](r),t.response.success)},n.prototype.onHandlerTerminate=function(){var t=this.chart;t.tooltip&&t.tooltip.hide(0);var e=t.highlightedPoint&&t.highlightedPoint.series;e&&e.onMouseOut&&e.onMouseOut(),t.highlightedPoint&&t.highlightedPoint.onMouseOut&&t.highlightedPoint.onMouseOut(),delete t.highlightedPoint},n.prototype.attemptHighlightAdjacentPoint=function(t,e){var n=this.chart,o=n.options.accessibility.keyboardNavigation.wrapAround;return n.highlightAdjacentPoint(e)?t.response.success:o?t.init(e?1:-1):t.response[e?"next":"prev"]},n.prototype.onSeriesDestroy=function(t){var e=this.chart;e.highlightedPoint&&e.highlightedPoint.series===t&&(delete e.highlightedPoint,e.focusElement&&e.focusElement.removeFocusBorder())},n.prototype.destroy=function(){this.eventProvider.removeAddedEvents()},n}();return function(t){var e=[];function n(t){var e,n,o=this,r=o.series,c=o.highlightedPoint,l=c&&w(c)||0,h=c&&c.series.points||[],d=o.series&&o.series[o.series.length-1],m=d&&d.points&&d.points[d.points.length-1];if(!r[0]||!r[0].points)return!1;if(c){if(e=r[c.series.index+(t?1:-1)],!(n=h[l+(t?1:-1)])&&e&&(n=e.points[t?0:e.points.length-1]),!n)return!1}else n=t?r[0].points[0]:m;return T(n)?(C(e=n.series)?o.highlightedPoint=t?e.points[e.points.length-1]:e.points[0]:o.highlightedPoint=n,o.highlightAdjacentPoint(t)):n.highlight()}function o(t){var e,n=this.highlightedPoint,o=1/0;return!(!f(n.plotX)||!f(n.plotY))&&(this.series.forEach((function(r){C(r)||r.points.forEach((function(c){if(f(c.plotY)&&f(c.plotX)&&c!==n){var l=c.plotY-n.plotY,h=Math.abs(c.plotX-n.plotX),d=Math.abs(l)*Math.abs(l)+h*h*4;r.yAxis&&r.yAxis.reversed&&(l*=-1),l<=0&&t||l>=0&&!t||d<5||T(c)||d<o&&(o=d,e=c)}}))})),!!e&&e.highlight())}function r(t){var e,n,o=this,r=o.highlightedPoint,c=o.series&&o.series[o.series.length-1],l=c&&c.points&&c.points[c.points.length-1];return o.highlightedPoint?!!(e=o.series[r.series.index+(t?-1:1)])&&!!(n=function(t,e,n,o){var r,c,l,h=1/0,i=e.points.length,d=function(t){return!(f(t.plotX)&&f(t.plotY))};if(!d(t)){for(;i--;)d(r=e.points[i])||(l=(t.plotX-r.plotX)*(t.plotX-r.plotX)*(n||1)+(t.plotY-r.plotY)*(t.plotY-r.plotY)*(o||1))<h&&(h=l,c=i);return f(c)?e.points[c]:void 0}}(r,e,4))&&(C(e)?(n.highlight(),o.highlightAdjacentSeries(t)||(r.highlight(),!1)):(n.highlight(),n.series.highlightFirstValidPoint())):(e=t?o.series&&o.series[0]:c,!!(n=t?e&&e.points&&e.points[0]:l)&&n.highlight())}function c(){var t=this.series.chart;return this.isNull?t.tooltip&&t.tooltip.hide(0):this.onMouseOver(),A(this),this.graphic&&t.setFocusToElement(this.graphic),t.highlightedPoint=this,this}function l(){var t=this.chart.highlightedPoint,e=(t&&t.series)===this?w(t):0,n=this.points,o=n.length;if(n&&o){for(var i=e;i<o;++i)if(!T(n[i]))return n[i].highlight();for(var r=e;r>=0;--r)if(!T(n[r]))return n[r].highlight()}return!1}t.compose=function(t,h,m){if(-1===e.indexOf(t)){e.push(t);var f=t.prototype;f.highlightAdjacentPoint=n,f.highlightAdjacentPointVertical=o,f.highlightAdjacentSeries=r}if(-1===e.indexOf(h)&&(e.push(h),h.prototype.highlight=c),-1===e.indexOf(m)){e.push(m);var y=m.prototype;y.keyboardMoveVertical=!0,["column","gantt","pie"].forEach((function(t){d[t]&&(d[t].prototype.keyboardMoveVertical=!1)})),y.highlightFirstValidPoint=l}}}(S||(S={})),S})),n(e,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[e["Accessibility/AccessibilityComponent.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],e["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],e["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],e["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"],e["Core/Tooltip.js"]],(function(t,e,n,o,r,c,l){var h,d=this&&this.__extends||(h=function(t,b){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},h(t,b)},function(t,b){function e(){this.constructor=t}h(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),m=e.hideSeriesFromAT,f=r.describeSeries,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.compose=function(t,e,r){o.compose(r),n.compose(r),c.compose(t,e,r)},e.prototype.init=function(){this.newDataAnnouncer=new o(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new c(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()},e.prototype.hideTooltipFromATWhenShown=function(){var component=this;this.addEvent(l,"refresh",(function(){this.chart===component.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)}))},e.prototype.hideSeriesLabelsFromATWhenShown=function(){this.addEvent(this.chart,"afterDrawSeriesLabels",(function(){this.series.forEach((function(t){t.labelBySeries&&t.labelBySeries.attr("aria-hidden",!0)}))}))},e.prototype.onChartRender=function(){this.chart.series.forEach((function(t){!1!==(t.options.accessibility&&t.options.accessibility.enabled)&&t.visible?f(t):m(t)}))},e.prototype.getKeyboardNavigation=function(){return this.keyboardNavigation.getKeyboardNavigationHandler()},e.prototype.destroy=function(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()},e}(t);return y})),n(e,"Accessibility/Components/ZoomComponent.js",[e["Accessibility/AccessibilityComponent.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Core/Globals.js"],e["Accessibility/KeyboardNavigationHandler.js"],e["Core/Utilities.js"]],(function(t,e,n,o,r){var c,l=this&&this.__extends||(c=function(t,b){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},c(t,b)},function(t,b){function e(){this.constructor=t}c(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),h=e.unhideChartElementFromAT,d=(n.noop,r.attr),m=(r.extend,r.pick),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.focusedMapNavButtonIx=-1,e}return l(e,t),e.prototype.init=function(){var component=this,t=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterDrilldown","drillupall"].forEach((function(e){component.addEvent(t,e,(function(){component.updateProxyOverlays()}))}))},e.prototype.onChartUpdate=function(){var t=this.chart,component=this;t.mapNavButtons&&t.mapNavButtons.forEach((function(button,i){h(t,button.element),component.setMapNavButtonAttrs(button.element,"accessibility.zoom.mapZoom"+(i?"Out":"In"))}))},e.prototype.setMapNavButtonAttrs=function(button,t){var e=this.chart,label=e.langFormat(t,{chart:e});d(button,{tabindex:-1,role:"button","aria-label":label})},e.prototype.onChartRender=function(){this.updateProxyOverlays()},e.prototype.updateProxyOverlays=function(){var t=this.chart;this.proxyProvider.clearGroup("zoom"),t.resetZoomButton&&this.createZoomProxyButton(t.resetZoomButton,"resetZoomProxyButton",t.langFormat("accessibility.zoom.resetZoomButton",{chart:t})),t.drillUpButton&&this.createZoomProxyButton(t.drillUpButton,"drillUpProxyButton",t.langFormat("accessibility.drillUpButton",{chart:t,buttonText:t.getDrilldownBackText()}))},e.prototype.createZoomProxyButton=function(t,e,label){this[e]=this.proxyProvider.addProxyElement("zoom",{click:t},{"aria-label":label,tabindex:-1})},e.prototype.getMapZoomNavigation=function(){var t=this.keyCodes,e=this.chart,component=this;return new o(e,{keyCodeMap:[[[t.up,t.down,t.left,t.right],function(t){return component.onMapKbdArrow(this,t)}],[[t.tab],function(t,e){return component.onMapKbdTab(this,e)}],[[t.space,t.enter],function(){return component.onMapKbdClick(this)}]],validate:function(){return function(t){return!!(t.mapZoom&&t.mapNavButtons&&t.mapNavButtons.length)}(e)},init:function(t){return component.onMapNavInit(t)}})},e.prototype.onMapKbdArrow=function(t,e){var n=this.keyCodes,o=e===n.up||e===n.down?"yAxis":"xAxis",r=e===n.left||e===n.up?-1:1;return this.chart[o][0].panStep(r),t.response.success},e.prototype.onMapKbdTab=function(t,e){var n=this.chart,o=t.response,r=e.shiftKey,c=r&&!this.focusedMapNavButtonIx||!r&&this.focusedMapNavButtonIx;if(n.mapNavButtons[this.focusedMapNavButtonIx].setState(0),c)return n.mapZoom(),o[r?"prev":"next"];this.focusedMapNavButtonIx+=r?-1:1;var button=n.mapNavButtons[this.focusedMapNavButtonIx];return n.setFocusToElement(button.box,button.element),button.setState(2),o.success},e.prototype.onMapKbdClick=function(t){var e=this.chart.mapNavButtons[this.focusedMapNavButtonIx].element;return this.fakeClickEvent(e),t.response.success},e.prototype.onMapNavInit=function(t){var e=this.chart,n=e.mapNavButtons[0],o=e.mapNavButtons[1],r=t>0?n:o;e.setFocusToElement(r.box,r.element),r.setState(2),this.focusedMapNavButtonIx=t>0?0:1},e.prototype.simpleButtonNavigation=function(t,e,n){var r=this.keyCodes,component=this,c=this.chart;return new o(c,{keyCodeMap:[[[r.tab,r.up,r.down,r.left,r.right],function(t,e){var n=t===r.tab&&e.shiftKey||t===r.left||t===r.up;return this.response[n?"prev":"next"]}],[[r.space,r.enter],function(){var t=n(this,c);return m(t,this.response.success)}]],validate:function(){return c[t]&&c[t].box&&component[e].buttonElement},init:function(){c.setFocusToElement(c[t].box,component[e].buttonElement)}})},e.prototype.getKeyboardNavigation=function(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",(function(t,e){e.zoomOut()})),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",(function(t,e){return e.drillUp(),t.response.prev})),this.getMapZoomNavigation()]},e}(t);return function(t){function e(t,e){var n=e||3,o=this.getExtremes(),r=(o.max-o.min)/n*t,c=o.max+r,l=o.min+r,h=c-l;t<0&&l<o.dataMin?c=(l=o.dataMin)+h:t>0&&c>o.dataMax&&(l=(c=o.dataMax)-h),this.setExtremes(l,c)}t.composedClasses=[],t.compose=function(n){-1===t.composedClasses.indexOf(n)&&(t.composedClasses.push(n),n.prototype.panStep=e)}}(f||(f={})),f})),n(e,"Accessibility/HighContrastMode.js",[e["Core/Globals.js"]],(function(t){var e=t.doc,n=t.isMS,o=t.win;return{isHighContrastModeActive:function(){var t=/(Edg)/.test(o.navigator.userAgent);if(o.matchMedia&&t)return o.matchMedia("(-ms-high-contrast: active)").matches;if(n&&o.getComputedStyle){var r=e.createElement("div");r.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",e.body.appendChild(r);var c=(r.currentStyle||o.getComputedStyle(r)).backgroundImage;return e.body.removeChild(r),"none"===c}return!1},setHighContrastTheme:function(t){t.highContrastModeActive=!0;var e=t.options.accessibility.highContrastTheme;t.update(e,!1),t.series.forEach((function(s){var t=e.plotOptions[s.type]||{};s.update({color:t.color||"windowText",colors:[t.color||"windowText"],borderColor:t.borderColor||"window"}),s.points.forEach((function(p){p.options&&p.options.color&&p.update({color:t.color||"windowText",borderColor:t.borderColor||"window"},!1)}))})),t.redraw()}}})),n(e,"Accessibility/HighContrastTheme.js",[],(function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},labels:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}})),n(e,"Accessibility/Options/Options.js",[],(function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{index}. {xDescription}{separator}{value}."},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#335cad",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}})),n(e,"Accessibility/Options/LangOptions.js",[],(function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"Chart screen reader information, {chartTitle}.",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Range: {range} days.",timeRangeHours:"Range: {range} hours.",timeRangeMinutes:"Range: {range} minutes.",timeRangeSeconds:"Range: {range} seconds.",rangeFromTo:"Range: {rangeFrom} to {rangeTo}.",rangeCategories:"Range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",defaultCombination:"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",line:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",lineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",spline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",splineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",column:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",columnCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",bar:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",barCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",pie:"{name}, pie {ix} of {numSeries} with {numPoints} {#plural(numPoints, slices, slice)}.",pieCombination:"{name}, series {ix} of {numSeries}. Pie with {numPoints} {#plural(numPoints, slices, slice)}.",scatter:"{name}, scatter plot {ix} of {numSeries} with {numPoints} {#plural(numPoints, points, point)}.",scatterCombination:"{name}, series {ix} of {numSeries}, scatter plot with {numPoints} {#plural(numPoints, points, point)}.",boxplot:"{name}, boxplot {ix} of {numSeries} with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotCombination:"{name}, series {ix} of {numSeries}. Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",bubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}.",map:"{name}, map {ix} of {numSeries} with {numPoints} {#plural(numPoints, areas, area)}.",mapCombination:"{name}, series {ix} of {numSeries}. Map with {numPoints} {#plural(numPoints, areas, area)}.",mapline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",maplineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",mapbubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",mapbubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}})),n(e,"Accessibility/Options/DeprecatedOptions.js",[e["Core/Utilities.js"]],(function(t){var e=t.error,n=t.pick;function o(t,e,o){for(var r,c=t,i=0;i<e.length-1;++i)c=c[r=e[i]]=n(c[r],{});c[e[e.length-1]]=o}function r(t,n,r,c){function l(t,e){return e.reduce((function(t,e){return t[e]}),t)}var h=l(t.options,n),d=l(t.options,r);Object.keys(c).forEach((function(l){var m,f=h[l];void 0!==f&&(o(d,c[l],f),e(32,!1,t,((m={})[n.join(".")+"."+l]=r.join(".")+"."+c[l].join("."),m)))}))}return function(t){!function(t){var n=t.options.chart,o=t.options.accessibility||{};["description","typeDescription"].forEach((function(r){var c;n[r]&&(o[r]=n[r],e(32,!1,t,((c={})["chart."+r]="use accessibility."+r,c)))}))}(t),function(t){t.axes.forEach((function(n){var o=n.options;o&&o.description&&(o.accessibility=o.accessibility||{},o.accessibility.description=o.description,e(32,!1,t,{"axis.description":"use axis.accessibility.description"}))}))}(t),t.series&&function(t){var n={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};t.series.forEach((function(r){Object.keys(n).forEach((function(c){var l,h=r.options[c];"accessibility.pointDescriptionFormatter"===c&&(h=r.options.accessibility&&r.options.accessibility.pointDescriptionFormatter),void 0!==h&&(o(r.options,n[c],"skipKeyboardNavigation"===c?!h:h),e(32,!1,t,((l={})["series."+c]="series."+n[c].join("."),l)))}))}))}(t),function(t){r(t,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]})}(t),function(t){r(t,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]})}(t),function(t){r(t,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}(t)}})),n(e,"Accessibility/Accessibility.js",[e["Core/DefaultOptions.js"],e["Core/Globals.js"],e["Core/Utilities.js"],e["Accessibility/A11yI18n.js"],e["Accessibility/Components/ContainerComponent.js"],e["Accessibility/FocusBorder.js"],e["Accessibility/Components/InfoRegionsComponent.js"],e["Accessibility/KeyboardNavigation.js"],e["Accessibility/Components/LegendComponent.js"],e["Accessibility/Components/MenuComponent.js"],e["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],e["Accessibility/ProxyProvider.js"],e["Accessibility/Components/RangeSelectorComponent.js"],e["Accessibility/Components/SeriesComponent/SeriesComponent.js"],e["Accessibility/Components/ZoomComponent.js"],e["Accessibility/HighContrastMode.js"],e["Accessibility/HighContrastTheme.js"],e["Accessibility/Options/Options.js"],e["Accessibility/Options/LangOptions.js"],e["Accessibility/Options/DeprecatedOptions.js"]],(function(t,e,n,o,r,c,l,h,d,m,f,y,v,x,A,w,C,T,E,S){var P=t.defaultOptions,M=e.doc,k=n.addEvent,B=n.extend,D=n.fireEvent,I=n.merge,N=function(){function t(t){this.chart=void 0,this.components=void 0,this.keyboardNavigation=void 0,this.proxyProvider=void 0,this.init(t)}return t.prototype.init=function(t){if(this.chart=t,!M.addEventListener||!t.renderer.isSVG)return this.zombie=!0,this.components={},void t.renderTo.setAttribute("aria-hidden",!0);S(t),this.proxyProvider=new y(this.chart),this.initComponents(),this.keyboardNavigation=new h(t,this.components)},t.prototype.initComponents=function(){var t=this.chart,e=this.proxyProvider,n=t.options.accessibility;this.components={container:new r,infoRegions:new l,legend:new d,chartMenu:new m,rangeSelector:new v,series:new x,zoom:new A},n.customComponents&&B(this.components,n.customComponents);var o=this.components;this.getComponentOrder().forEach((function(n){o[n].initBase(t,e),o[n].init()}))},t.prototype.getComponentOrder=function(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);var t=Object.keys(this.components).filter((function(t){return"series"!==t}));return["series"].concat(t)},t.prototype.update=function(){var t=this.components,e=this.chart,n=e.options.accessibility;D(e,"beforeA11yUpdate"),e.types=this.getChartTypes();var o=n.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(o),this.getComponentOrder().forEach((function(n){t[n].onChartUpdate(),D(e,"afterA11yComponentUpdate",{name:n,component:t[n]})})),this.keyboardNavigation.update(o),!e.highContrastModeActive&&w.isHighContrastModeActive()&&w.setHighContrastTheme(e),D(e,"afterA11yUpdate",{accessibility:this})},t.prototype.destroy=function(){var t=this.chart||{},e=this.components;Object.keys(e).forEach((function(t){e[t].destroy(),e[t].destroyBase()})),this.proxyProvider&&this.proxyProvider.destroy(),this.keyboardNavigation&&this.keyboardNavigation.destroy(),t.renderTo&&t.renderTo.setAttribute("aria-hidden",!0),t.focusElement&&t.focusElement.removeFocusBorder()},t.prototype.getChartTypes=function(){var t={};return this.chart.series.forEach((function(e){t[e.type]=1})),Object.keys(t)},t}();return function(t){var e=[];function n(){this.accessibility&&this.accessibility.destroy()}function r(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());var t=this.accessibility;t&&!t.zombie&&(t.proxyProvider.updateProxyElementPositions(),t.getComponentOrder().forEach((function(e){t.components[e].onChartRender()})))}function l(t){var e=t.options.accessibility;e&&(e.customComponents&&(this.options.accessibility.customComponents=e.customComponents,delete e.customComponents),I(!0,this.options.accessibility,e),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function y(){var e=this.accessibility,n=this.options.accessibility;n&&n.enabled?e&&!e.zombie?e.update():(this.accessibility=e=new t(this),e&&!e.zombie&&e.update()):e?(e.destroy&&e.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function w(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}t.i18nFormat=o.i18nFormat,t.compose=function(t,C,T,E,S,P,M){h.compose(C),f.compose(S),d.compose(C,T),m.compose(C),x.compose(C,E,S),A.compose(t),o.compose(C),c.compose(C,P),M&&v.compose(C,M),-1===e.indexOf(C)&&(e.push(C),C.prototype.updateA11yEnabled=y,k(C,"destroy",n),k(C,"render",r),k(C,"update",l),["addSeries","init"].forEach((function(t){k(C,t,(function(){this.a11yDirty=!0}))})),["afterDrilldown","drillupall"].forEach((function(t){k(C,t,(function(){var t=this.accessibility;t&&!t.zombie&&t.update()}))}))),-1===e.indexOf(E)&&(e.push(E),k(E,"update",w)),-1===e.indexOf(S)&&(e.push(S),["update","updatedData","remove"].forEach((function(t){k(S,t,(function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)}))})))}}(N||(N={})),I(!0,P,T,{accessibility:{highContrastTheme:C},lang:E}),N})),n(e,"masters/modules/accessibility.src.js",[e["Core/Globals.js"],e["Accessibility/Accessibility.js"],e["Accessibility/AccessibilityComponent.js"],e["Accessibility/Utils/ChartUtilities.js"],e["Accessibility/Utils/HTMLUtilities.js"],e["Accessibility/KeyboardNavigationHandler.js"],e["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],(function(t,e,n,o,r,c,l){var h=t;h.i18nFormat=e.i18nFormat,h.A11yChartUtilities=o,h.A11yHTMLUtilities=r,h.AccessibilityComponent=n,h.KeyboardNavigationHandler=c,h.SeriesAccessibilityDescriber=l,e.compose(h.Axis,h.Chart,h.Legend,h.Point,h.Series,h.SVGElement,h.RangeSelector)}))},t.exports?(c.default=c,t.exports=c):(o=[n(131)],void 0===(r=function(t){return c(t),c.Highcharts=t,c}.apply(e,o))||(t.exports=r))}}]);