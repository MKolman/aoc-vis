/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{253:function(t,e,o){"use strict";var r,n,c;c=function(t){var e=t?t._modules:{};function o(t,path,e,o){t.hasOwnProperty(path)||(t[path]=o.apply(null,e))}o(e,"Extensions/BoostCanvas.js",[e["Core/Chart/Chart.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,o,r,n,c){var l,h=e.parse,d=o.doc,v=o.noop,f=n.seriesTypes,y=c.addEvent,m=c.extend,C=c.fireEvent,x=c.isNumber,T=c.merge,w=c.pick,S=c.wrap;return function(){o.seriesTypes.heatmap&&S(o.seriesTypes.heatmap.prototype,"drawPoints",(function(){var t=this.chart,e=this.getContext(),o=this.chart.inverted,r=this.xAxis,n=this.yAxis;e?(this.points.forEach((function(c){var l,h=c.plotY;if(void 0!==h&&!isNaN(h)&&null!==c.y&&e){var d=c.shapeArgs||{},v=d.x,f=void 0===v?0:v,y=d.y,m=void 0===y?0:y,C=d.width,x=void 0===C?0:C,T=d.height,w=void 0===T?0:T;l=t.styledMode?c.series.colorAttribs(c):c.series.pointAttribs(c),e.fillStyle=l.fill,o?e.fillRect(n.len-m+r.left,r.len-f+n.top,-w,-x):e.fillRect(f+r.left,m+n.top,x,w)}})),this.canvasToSVG()):this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")})),m(r.prototype,{getContext:function(){var t,e=this.chart,o=e.chartWidth,r=e.chartHeight,n=e.seriesGroup||this.group,c=this,l=function(t,e,o,a,b,r,n){t.call(this,o,e,a,b,r,n)};return e.isChartSeriesBoosting()&&(c=e,n=e.seriesGroup),t=c.ctx,c.canvas||(c.canvas=d.createElement("canvas"),c.renderTarget=e.renderer.image("",0,0,o,r).addClass("highcharts-boost-canvas").add(n),c.ctx=t=c.canvas.getContext("2d"),e.inverted&&["moveTo","lineTo","rect","arc"].forEach((function(e){S(t,e,l)})),c.boostCopy=function(){c.renderTarget.attr({href:c.canvas.toDataURL("image/png")})},c.boostClear=function(){t.clearRect(0,0,c.canvas.width,c.canvas.height),c===this&&c.renderTarget.attr({href:""})},c.boostClipRect=e.renderer.clipRect(),c.renderTarget.clip(c.boostClipRect)),c.canvas.width!==o&&(c.canvas.width=o),c.canvas.height!==r&&(c.canvas.height=r),c.renderTarget.attr({x:0,y:0,width:o,height:r,style:"pointer-events: none",href:""}),c.boostClipRect.attr(e.getBoostClipRect(c)),t},canvasToSVG:function(){this.chart.isChartSeriesBoosting()?this.boostClear&&this.boostClear():(this.boostCopy||this.chart.boostCopy)&&(this.boostCopy||this.chart.boostCopy)()},cvsLineTo:function(t,e,o){t.lineTo(e,o)},renderCanvas:function(){var t,r,n,d,f,S,k,M,D,P,R=this,A=R.options,E=R.chart,G=this.xAxis,j=this.yAxis,B=E.options.boost||{},N=B.timeRendering||!1,X=(B.timeSeriesProcessing,B.timeSetup,0),L=R.processedXData,Y=R.processedYData,O=A.data,V=G.getExtremes(),W=V.min,H=V.max,I=j.getExtremes(),J=I.min,K=I.max,U={},_=!!R.sampling,z=A.marker&&A.marker.radius,F=this.cvsDrawPoint,Q=A.lineWidth?this.cvsLineTo:void 0,Z=z&&z<=1?this.cvsMarkerSquare:this.cvsMarkerCircle,$=this.cvsStrokeBatch||1e3,tt=!1!==A.enableMouseTracking,et=A.threshold,ot=j.getThreshold(et),it=x(et),st=ot,nt=this.fill,at=R.pointArrayMap&&"low,high"===R.pointArrayMap.join(","),ct=!!A.stacking,lt=R.cropStart||0,ht=E.options.loading,pt=R.requireSorting,ut=A.connectNulls,vt=!L,gt=ct?R.data:L||O,ft=R.fillOpacity?e.parse(R.color).setOpacity(w(A.fillOpacity,.75)).get():R.color,yt=function(){nt?(t.fillStyle=ft,t.fill()):(t.strokeStyle=R.color,t.lineWidth=A.lineWidth,t.stroke())},bt=function(e,o,r,i){0===X&&(t.beginPath(),Q&&(t.lineJoin="round")),E.scroller&&"highcharts-navigator-series"===R.options.className?(o+=E.scroller.top,r&&(r+=E.scroller.top)):o+=E.plotTop,e+=E.plotLeft,f?t.moveTo(e,o):F?F(t,e,o,r,d):Q?Q(t,e,o):Z&&Z.call(R,t,e,o,z,i),(X+=1)===$&&(yt(),X=0),d={clientX:e,plotY:o,yBottom:r}},mt="x"===A.findNearestPointBy,Ct=this.xData||this.options.xData||this.processedXData||!1,xt=function(t,e,i){P=mt?t:t+","+e,tt&&!U[P]&&(U[P]=!0,E.inverted&&(t=G.len-t,e=j.len-e),n.push({x:!!Ct&&Ct[lt+i],clientX:t,plotX:t,plotY:e,i:lt+i}))};this.renderTarget&&this.renderTarget.attr({href:""}),(this.points||this.graph)&&this.destroyGraphics(),R.plotGroup("group","series",R.visible?"visible":"hidden",A.zIndex,E.seriesGroup),R.markerGroup=R.group,y(R,"destroy",(function(){R.markerGroup=null})),n=this.points=[],t=this.getContext(),R.buildKDTree=v,this.boostClear&&this.boostClear(),this.visible&&(O.length>99999&&(E.options.loading=T(ht,{labelStyle:{backgroundColor:h("#ffffff").setOpacity(.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),c.clearTimeout(l),E.showLoading("Drawing..."),E.options.loading=ht),N&&console.time("canvas rendering"),o.eachAsync(gt,(function(t,i){var e,o,n,c,l,h,d=!1,v=!1,y=!1,m=!1,C=void 0===E.index,x=!0;return C||(vt?(e=t[0],o=t[1],gt[i+1]&&(y=gt[i+1][0]),gt[i-1]&&(m=gt[i-1][0])):(e=t,o=Y[i],gt[i+1]&&(y=gt[i+1]),gt[i-1]&&(m=gt[i-1])),y&&y>=W&&y<=H&&(d=!0),m&&m>=W&&m<=H&&(v=!0),at?(vt&&(o=t.slice(1,3)),h=o[0],o=o[1]):ct&&(e=t.x,h=(o=t.stackY)-t.y),pt||(x=o>=J&&o<=K),!(l=null===o)&&(e>=W&&e<=H&&x||d||v)&&(n=Math.round(G.toPixels(e,!0)),_?(void 0!==M&&n!==r||(at||(h=o),(void 0===D||o>k)&&(k=o,D=i),(void 0===M||h<S)&&(S=h,M=i)),n!==r&&(void 0!==M&&(c=j.toPixels(k,!0),ot=j.toPixels(S,!0),bt(n,it?Math.min(c,st):c,it?Math.max(ot,st):ot,i),xt(n,c,D),ot!==c&&xt(n,ot,M)),M=D=void 0,r=n)):(c=Math.round(j.toPixels(o,!0)),bt(n,c,ot,i),xt(n,c,i))),f=l&&!ut,i%5e4==0&&(R.boostCopy||R.chart.boostCopy)&&(R.boostCopy||R.chart.boostCopy)()),!C}),(function(){var t=E.loadingDiv,e=E.loadingShown;yt(),R.canvasToSVG(),N&&console.timeEnd("canvas rendering"),C(R,"renderedCanvas"),e&&(m(t.style,{transition:"opacity 250ms",opacity:0}),E.loadingShown=!1,l=setTimeout((function(){t.parentNode&&t.parentNode.removeChild(t),E.loadingDiv=E.loadingSpan=null}),250)),delete R.buildKDTree,R.buildKDTree()}),E.renderer.forExport?Number.MAX_VALUE:void 0))}}),f.scatter.prototype.cvsMarkerCircle=function(t,e,o,r){t.moveTo(e,o),t.arc(e,o,r,0,2*Math.PI,!1)},f.scatter.prototype.cvsMarkerSquare=function(t,e,o,r){t.rect(e-r,o-r,2*r,2*r)},f.scatter.prototype.fill=!0,f.bubble&&(f.bubble.prototype.cvsMarkerCircle=function(t,e,o,r,i){t.moveTo(e,o),t.arc(e,o,this.radii&&this.radii[i],0,2*Math.PI,!1)},f.bubble.prototype.cvsStrokeBatch=1),m(f.area.prototype,{cvsDrawPoint:function(t,e,o,r,n){n&&e!==n.clientX&&(t.moveTo(n.clientX,n.yBottom),t.lineTo(n.clientX,n.plotY),t.lineTo(e,o),t.lineTo(e,r))},fill:!0,fillOpacity:!0,sampling:!0}),m(f.column.prototype,{cvsDrawPoint:function(t,e,o,r){t.rect(e-1,o,1,r-o)},fill:!0,sampling:!0}),t.prototype.callbacks.push((function(t){y(t,"predraw",(function(){t.renderTarget&&t.renderTarget.attr({href:""}),t.canvas&&t.canvas.getContext("2d").clearRect(0,0,t.canvas.width,t.canvas.height)})),y(t,"render",(function(){t.boostCopy&&t.boostCopy()}))}))}})),o(e,"masters/modules/boost-canvas.src.js",[],(function(){}))},t.exports?(c.default=c,t.exports=c):(r=[o(131)],void 0===(n=function(t){return c(t),c.Highcharts=t,c}.apply(e,r))||(t.exports=n))}}]);